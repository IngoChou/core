require=function t(e,i,r){function s(n,o){if(!i[n]){if(!e[n]){var h=typeof require=="function"&&require;if(!o&&h)return h(n,!0);if(a)return a(n,!0);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[n]={exports:{}};e[n][0].call(c.exports,function(t){var i=e[n][1][t];return s(i?i:t)},c,c.exports,t,e,i,r)}return i[n].exports}var a=typeof require=="function"&&require;for(var n=0;n<r.length;n++)s(r[n]);return s}({"awayjs-core/lib/data/BitmapDataChannel":[function(t,e,i){var r=function(){function t(){}t.ALPHA=8;t.BLUE=4;t.GREEN=2;t.RED=1;return t}();e.exports=r},{}],"awayjs-core/lib/data/BitmapData":[function(t,e,i){var r=t("awayjs-core/lib/geom/Rectangle");var s=t("awayjs-core/lib/utils/ColorUtils");var a=function(){function t(t,e,i,s){if(i===void 0){i=true}if(s===void 0){s=null}this._locked=false;this._transparent=i;this._imageCanvas=document.createElement("canvas");this._imageCanvas.width=t;this._imageCanvas.height=e;this._context=this._imageCanvas.getContext("2d");this._rect=new r(0,0,t,e);if(s!=null)this.fillRect(this._rect,s)}Object.defineProperty(t.prototype,"height",{get:function(){return this._rect.height},set:function(t){if(this._rect.height==t)return;this._rect.height=t;if(this._locked)this._context.putImageData(this._imageData,0,0);this._imageCanvas.height=t;if(this._locked)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"rect",{get:function(){return this._rect},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"transparent",{get:function(){return this._transparent},set:function(t){this._transparent=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"width",{get:function(){return this._rect.width},set:function(t){if(this._rect.width==t)return;this._rect.width=t;if(this._locked)this._context.putImageData(this._imageData,0,0);this._imageCanvas.width=t;if(this._locked)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)},enumerable:true,configurable:true});t.prototype.clone=function(){var e=new t(this.width,this.height,this.transparent);e.draw(this);return e};t.prototype.colorTransform=function(t,e){if(!this._locked)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var i=this._imageData.data;var r,s,a;for(r=0;r<t.width;++r){for(s=0;s<t.height;++s){a=(r+t.x+(s+t.y)*this.width)*4;i[a]=i[a]*e.redMultiplier+e.redOffset;i[a+1]=i[a+1]*e.greenMultiplier+e.greenOffset;i[a+2]=i[a+2]*e.blueMultiplier+e.blueOffset;i[a+3]=i[a+3]*e.alphaMultiplier+e.alphaOffset}}if(!this._locked){this._context.putImageData(this._imageData,0,0);this._imageData=null}};t.prototype.copyChannel=function(t,e,i,r,s){var a=t.imageData;if(!this._locked)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var n=t.imageData.data;var o=this._imageData.data;var h=Math.round(Math.log(r)/Math.log(2));var u=Math.round(Math.log(s)/Math.log(2));var c,p,l,f;for(c=0;c<e.width;++c){for(p=0;p<e.height;++p){l=(c+e.x+(p+e.y)*t.width)*4;f=(c+i.x+(p+i.y)*this.width)*4;o[f+u]=n[l+h]}}if(!this._locked){this._context.putImageData(this._imageData,0,0);this._imageData=null}};t.prototype.copyPixels=function(t,e,i){if(this._locked){if(this._imageData)this._context.putImageData(this._imageData,0,0);this._copyPixels(t,e,i);if(this._imageData)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)}else{this._copyPixels(t,e,i)}};t.prototype.dispose=function(){this._context=null;this._imageCanvas=null;this._imageData=null;this._rect=null;this._transparent=null;this._locked=null};t.prototype.draw=function(t,e,i,r,s,a){if(this._locked){this._context.putImageData(this._imageData,0,0);this._draw(t,e,i,r,s,a);this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)}else{this._draw(t,e,i,r,s,a)}};t.prototype.fillRect=function(t,e){if(this._locked){if(this._imageData)this._context.putImageData(this._imageData,0,0);this._fillRect(t,e);if(this._imageData)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)}else{this._fillRect(t,e)}};t.prototype.getPixel=function(t,e){var i;var r;var s;var a;if(!this._locked){var n=this._context.getImageData(t,e,1,1);i=n.data[0];r=n.data[1];s=n.data[2];a=n.data[3]}else{var o=(t+e*this._imageCanvas.width)*4;i=this._imageData.data[o+0];r=this._imageData.data[o+1];s=this._imageData.data[o+2];a=this._imageData.data[o+3]}if(!a)return 0;return i<<16|r<<8|s};t.prototype.getPixel32=function(t,e){var i;var r;var s;var a;if(!this._locked){var n=this._context.getImageData(t,e,1,1);i=n.data[0];r=n.data[1];s=n.data[2];a=n.data[3]}else{var o=(t+e*this._imageCanvas.width)*4;i=this._imageData.data[o+0];r=this._imageData.data[o+1];s=this._imageData.data[o+2];a=this._imageData.data[o+3]}return a<<24|i<<16|r<<8|s};t.prototype.lock=function(){if(this._locked)return;this._locked=true;this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)};t.prototype.setArray=function(t,e){if(!this._locked)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var i,r,a,n;for(i=0;i<t.width;++i){for(r=0;r<t.height;++r){n=s.float32ColorToARGB(e[i+r*t.width]);a=(i+t.x+(r+t.y)*this._imageCanvas.width)*4;this._imageData.data[a+0]=n[1];this._imageData.data[a+1]=n[2];this._imageData.data[a+2]=n[3];this._imageData.data[a+3]=n[0]}}if(!this._locked){this._context.putImageData(this._imageData,0,0);this._imageData=null}};t.prototype.setPixel=function(t,e,i){var r=s.float32ColorToARGB(i);if(!this._locked)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var a=(t+e*this._imageCanvas.width)*4;this._imageData.data[a+0]=r[1];this._imageData.data[a+1]=r[2];this._imageData.data[a+2]=r[3];this._imageData.data[a+3]=255;if(!this._locked){this._context.putImageData(this._imageData,0,0);this._imageData=null}};t.prototype.setPixel32=function(t,e,i){var r=s.float32ColorToARGB(i);if(!this._locked)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var a=(t+e*this._imageCanvas.width)*4;this._imageData.data[a+0]=r[1];this._imageData.data[a+1]=r[2];this._imageData.data[a+2]=r[3];this._imageData.data[a+3]=r[0];if(!this._locked){this._context.putImageData(this._imageData,0,0);this._imageData=null}};t.prototype.setPixels=function(t,e){if(!this._locked)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);e.position=0;var i,r,s;for(i=0;i<t.width;++i){for(r=0;r<t.height;++r){s=(i+t.x+(r+t.y)*this._imageCanvas.width)*4;this._imageData.data[s+0]=e.readUnsignedInt();this._imageData.data[s+1]=e.readUnsignedInt();this._imageData.data[s+2]=e.readUnsignedInt();this._imageData.data[s+3]=e.readUnsignedInt()}}if(!this._locked){this._context.putImageData(this._imageData,0,0);this._imageData=null}};t.prototype.unlock=function(){if(!this._locked)return;this._locked=false;this._context.putImageData(this._imageData,0,0);this._imageData=null};t.prototype._copyPixels=function(e,i,r){if(e instanceof t){this._context.drawImage(e.canvas,i.x,i.y,i.width,i.height,r.x,r.y,r.width,r.height)}else if(e instanceof HTMLImageElement){this._context.drawImage(e,i.x,i.y,i.width,i.height,r.x,r.y,r.width,r.height)}};t.prototype._draw=function(e,i,r,s,a,n){if(e instanceof t){this._context.save();if(i!=null)this._context.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty);if(a!=null)this._context.drawImage(e.canvas,a.x,a.y,a.width,a.height);else this._context.drawImage(e.canvas,0,0);this._context.restore()}else if(e instanceof HTMLElement){this._context.save();if(i!=null)this._context.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty);if(a!=null)this._context.drawImage(e,a.x,a.y,a.width,a.height);else this._context.drawImage(e,0,0);this._context.restore()}};t.prototype._fillRect=function(t,e){if(e==0&&this._transparent){this._context.clearRect(t.x,t.y,t.width,t.height)}else{var i=s.float32ColorToARGB(e);if(this._transparent)this._context.fillStyle="rgba("+i[1]+","+i[2]+","+i[3]+","+i[0]/255+")";else this._context.fillStyle="rgba("+i[1]+","+i[2]+","+i[3]+",1)";this._context.fillRect(t.x,t.y,t.width,t.height)}};Object.defineProperty(t.prototype,"imageData",{get:function(){if(!this._locked)return this._context.getImageData(0,0,this._rect.width,this._rect.height);return this._imageData},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"canvas",{get:function(){return this._imageCanvas},enumerable:true,configurable:true});return t}();e.exports=a},{"awayjs-core/lib/geom/Rectangle":"awayjs-core/lib/geom/Rectangle","awayjs-core/lib/utils/ColorUtils":"awayjs-core/lib/utils/ColorUtils"}],"awayjs-core/lib/data/BlendMode":[function(t,e,i){var r=function(){function t(){}t.ADD="add";t.ALPHA="alpha";t.DARKEN="darken";t.DIFFERENCE="difference";t.ERASE="erase";t.HARDLIGHT="hardlight";t.INVERT="invert";t.LAYER="layer";t.LIGHTEN="lighten";t.MULTIPLY="multiply";t.NORMAL="normal";t.OVERLAY="overlay";t.SCREEN="screen";t.SHADER="shader";t.SUBTRACT="subtract";return t}();e.exports=r},{}],"awayjs-core/lib/data/CurveSubGeometry":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/data/SubGeometryBase");var a=t("awayjs-core/lib/geom/Vector3D");var n=t("awayjs-core/lib/events/SubGeometryEvent");var o=function(t){r(e,t);function e(e){t.call(this,e);this._positionsDirty=true;this._curvesDirty=true;this._faceNormalsDirty=true;this._vertexNormalsDirty=true;this._uvsDirty=true;this._secondaryUVsDirty=true;this._jointIndicesDirty=true;this._jointWeightsDirty=true;this._concatenateArrays=true;this._autoDeriveNormals=false;this._useFaceWeights=false;this._autoDeriveUVs=false;this._scaleU=1;this._scaleV=1}Object.defineProperty(e.prototype,"subGeometryType",{get:function(){return e.SUB_GEOMETRY_TYPE},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"scaleU",{get:function(){return this._scaleU},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"scaleV",{get:function(){return this._scaleV},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"useCondensedIndices",{get:function(){return this._useCondensedIndices},set:function(t){if(this._useCondensedIndices==t)return;this._useCondensedIndices=t},enumerable:true,configurable:true});e.prototype._pUpdateStrideOffset=function(){if(this._concatenateArrays){this._pOffset[e.VERTEX_DATA]=0;this._pOffset[e.POSITION_DATA]=0;var t=3;if(this._curves!=null){this._pOffset[e.CURVE_DATA]=t;t+=2}if(this._uvs!=null){this._pOffset[e.UV_DATA]=t;t+=2}this._pStride[e.VERTEX_DATA]=t;this._pStride[e.POSITION_DATA]=t;this._pStride[e.CURVE_DATA]=t;this._pStride[e.UV_DATA]=t;var i=this._pNumVertices*t;if(this._pVertices==null)this._pVertices=new Array(i);else if(this._pVertices.length!=i)this._pVertices.length=i}else{this._pOffset[e.POSITION_DATA]=0;this._pOffset[e.CURVE_DATA]=0;this._pOffset[e.UV_DATA]=0;this._pStride[e.POSITION_DATA]=3;this._pStride[e.CURVE_DATA]=2;this._pStride[e.UV_DATA]=2}this._pStrideOffsetDirty=false};Object.defineProperty(e.prototype,"autoDeriveUVs",{get:function(){return this._autoDeriveUVs},set:function(t){if(this._autoDeriveUVs==t)return;this._autoDeriveUVs=t;if(t)this.notifyUVsUpdate()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"autoDeriveNormals",{get:function(){return this._autoDeriveNormals},set:function(t){if(this._autoDeriveNormals==t)return;this._autoDeriveNormals=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"vertices",{get:function(){if(this._positionsDirty)this.updatePositions(this._positions);if(this._curvesDirty)this.updateCurves(this._curves);if(this._uvsDirty)this.updateUVs(this._uvs);return this._pVertices},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"positions",{get:function(){if(this._positionsDirty)this.updatePositions(this._positions);return this._positions},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"curves",{get:function(){if(this._curvesDirty)this.updateCurves(this._curves);return this._curves},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"faceNormals",{get:function(){if(this._faceNormalsDirty)this.updateFaceNormals();return this._faceNormals},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"uvs",{get:function(){if(this._uvsDirty)this.updateUVs(this._uvs);return this._uvs},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"useFaceWeights",{get:function(){return this._useFaceWeights},set:function(t){if(this._useFaceWeights==t)return;this._useFaceWeights=t;this._faceNormalsDirty=true},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"condensedIndexLookUp",{get:function(){return this._condensedIndexLookUp},enumerable:true,configurable:true});e.prototype.getBoundingPositions=function(){if(this._positionsDirty)this.updatePositions(this._positions);return this._positions};e.prototype.updatePositions=function(t){var i;var r;var s;var a;this._positions=t;if(this._positions==null)this._positions=new Array;this._pNumVertices=this._positions.length/3;if(this._concatenateArrays){var n=this._pNumVertices*this.getStride(e.VERTEX_DATA);if(this._pVertices==null)this._pVertices=new Array(n);else if(this._pVertices.length!=n)this._pVertices.length=n;i=0;r=this.getOffset(e.POSITION_DATA);s=this.getStride(e.POSITION_DATA);a=this._pVertices;while(i<t.length){a[r]=t[i++];a[r+1]=t[i++];a[r+2]=t[i++];r+=s}}this.pInvalidateBounds();this.notifyPositionsUpdate();this._positionsDirty=false};e.prototype.updateCurves=function(t){var i;var r;var s;var a;var n;if(true){if((this._curves==null||t==null)&&(this._curves!=null||t!=null)){if(this._concatenateArrays)this._pNotifyVerticesUpdate();else this._pStrideOffsetDirty=true}this._curves=t;if(t!=null&&this._concatenateArrays){i=0;r=this.getOffset(e.CURVE_DATA);a=this.getStride(e.CURVE_DATA);n=this._pVertices;while(i<t.length){n[r]=t[i++];n[r+1]=t[i++];r+=a}}}this.notifyCurvesUpdate();this._curvesDirty=false};e.prototype.updateUVs=function(t){var i;var r;var s;var a;var n;if(!this._autoDeriveUVs){if((this._uvs==null||t==null)&&(this._uvs!=null||t!=null)){if(this._concatenateArrays)this._pNotifyVerticesUpdate();else this._pStrideOffsetDirty=true}this._uvs=t;if(t!=null&&this._concatenateArrays){i=0;r=this.getOffset(e.UV_DATA);a=this.getStride(e.UV_DATA);n=this._pVertices;while(i<t.length){n[r]=t[i++];n[r+1]=t[i++];r+=a}}}else{if(this._uvs==null){this._uvs=new Array(this._positions.length*2/3);if(this._concatenateArrays)this._pNotifyVerticesUpdate();else this._pStrideOffsetDirty=true}s=this.getOffset(e.UV_DATA);a=this.getStride(e.UV_DATA);n=this._concatenateArrays?this._pVertices:this._uvs;i=0;r=s;var o=0;var h=n.length;while(r<h){if(this._concatenateArrays){this._uvs[i++]=n[r]=o*.5;this._uvs[i++]=n[r+1]=1-(o&1)}else{n[r]=o*.5;n[r+1]=1-(o&1)}if(++o==3)o=0;r+=a}}this.notifyUVsUpdate();this._uvsDirty=false};e.prototype.dispose=function(){t.prototype.dispose.call(this);this._positions=null;this._curves=null;this._uvs=null;this._faceNormals=null;this._faceWeights=null};e.prototype.updateIndices=function(e){t.prototype.updateIndices.call(this,e);this._faceNormalsDirty=true;if(this._autoDeriveNormals)this._vertexNormalsDirty=true};e.prototype.clone=function(){var t=new e(this._concatenateArrays);t.updateIndices(this._pIndices.concat());t.updatePositions(this._positions.concat());if(this._curves)t.updateCurves(this._curves.concat());else t.updateCurves(null);if(this._uvs&&!this._autoDeriveUVs)t.updateUVs(this._uvs.concat());else t.updateUVs(null);return t};e.prototype.scaleUV=function(t,e){if(t===void 0){t=1}if(e===void 0){e=1}var i;var r;var s;var a;a=this._uvs;var n=t/this._scaleU;var o=e/this._scaleV;this._scaleU=t;this._scaleV=e;var h=a.length;r=0;s=2;i=r;while(i<h){a[i]*=n;a[i+1]*=o;i+=s}this.notifyUVsUpdate()};e.prototype.scale=function(t){var e;var i;var r;var s;var a;a=this._positions;var n=a.length;r=0;s=3;e=0;i=r;while(e<n){a[i]*=t;a[i+1]*=t;a[i+2]*=t;e+=3;i+=s}this.notifyPositionsUpdate()};e.prototype.applyTransformation=function(t){var i;if(this._concatenateArrays){i=this._pVertices}else{i=this._positions}var r=this._positions.length/3;var s;var n;var o;var h=new a;var u;var c=this.getOffset(e.POSITION_DATA);var p=this.getStride(e.POSITION_DATA);for(s=0;s<r;++s){n=c+1;o=c+2;h.x=i[c];h.y=i[n];h.z=i[o];h=t.transformVector(h);i[c]=h.x;i[n]=h.y;i[o]=h.z;c+=p}this.notifyPositionsUpdate()};e.prototype.updateFaceNormals=function(){var t=0;var e=0;var i=0;var r;var s;var a;var n,o,h;var u,c,p;var l,f,y;var _,d,v;var w,b,g;var m,D,E;var A;var x=this._positions;var j=this._pIndices.length;if(this._faceNormals==null)this._faceNormals=new Array(j);if(this._useFaceWeights&&this._faceWeights==null)this._faceWeights=new Array(j/3);while(t<j){r=this._pIndices[t++]*3;n=x[r];u=x[r+1];l=x[r+2];r=this._pIndices[t++]*3;o=x[r];c=x[r+1];f=x[r+2];r=this._pIndices[t++]*3;h=x[r];p=x[r+1];y=x[r+2];_=h-n;d=p-u;v=y-l;w=o-n;b=c-u;g=f-l;m=v*b-d*g;D=_*g-v*w;E=d*w-_*b;A=Math.sqrt(m*m+D*D+E*E);if(this._useFaceWeights){var T=A*1e4;if(T<1)T=1;this._faceWeights[i++]=T}A=1/A;this._faceNormals[e++]=m*A;this._faceNormals[e++]=D*A;this._faceNormals[e++]=E*A}this._faceNormalsDirty=false};e.prototype._pNotifyVerticesUpdate=function(){this._pStrideOffsetDirty=true;this.notifyPositionsUpdate();this.notifyCurvesUpdate();this.notifyUVsUpdate()};e.prototype.notifyPositionsUpdate=function(){if(this._positionsDirty)return;this._positionsDirty=true;if(!this._positionsUpdated)this._positionsUpdated=new n(n.VERTICES_UPDATED,e.POSITION_DATA);this.dispatchEvent(this._positionsUpdated)};e.prototype.notifyCurvesUpdate=function(){if(this._curvesDirty)return;this._curvesDirty=true;if(!this._curvesUpdated)this._curvesUpdated=new n(n.VERTICES_UPDATED,e.CURVE_DATA);this.dispatchEvent(this._curvesUpdated)};e.prototype.notifyUVsUpdate=function(){if(this._uvsDirty)return;this._uvsDirty=true;if(!this._uvsUpdated)this._uvsUpdated=new n(n.VERTICES_UPDATED,e.UV_DATA);this.dispatchEvent(this._uvsUpdated)};e.SUB_GEOMETRY_TYPE="curve";e.POSITION_DATA="positions";e.CURVE_DATA="curves";e.UV_DATA="uvs";e.POSITION_FORMAT="float3";e.CURVE_FORMAT="float2";e.UV_FORMAT="float2";return e}(s);e.exports=o},{"awayjs-core/lib/data/SubGeometryBase":"awayjs-core/lib/data/SubGeometryBase","awayjs-core/lib/events/SubGeometryEvent":"awayjs-core/lib/events/SubGeometryEvent","awayjs-core/lib/geom/Vector3D":"awayjs-core/lib/geom/Vector3D"}],"awayjs-core/lib/data/Geometry":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/events/GeometryEvent");var a=t("awayjs-core/lib/library/AssetType");var n=t("awayjs-core/lib/library/NamedAssetBase");var o=function(t){r(e,t);function e(){t.call(this);this._subGeometries=new Array}Object.defineProperty(e.prototype,"assetType",{get:function(){return a.GEOMETRY},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"subGeometries",{get:function(){return this._subGeometries},enumerable:true,configurable:true});e.prototype.getSubGeometries=function(){return this._subGeometries};e.prototype.applyTransformation=function(t){var e=this._subGeometries.length;for(var i=0;i<e;++i)this._subGeometries[i].applyTransformation(t)};e.prototype.addSubGeometry=function(t){this._subGeometries.push(t);t.parentGeometry=this;if(this.hasEventListener(s.SUB_GEOMETRY_ADDED))this.dispatchEvent(new s(s.SUB_GEOMETRY_ADDED,t));this.iInvalidateBounds(t)};e.prototype.removeSubGeometry=function(t){this._subGeometries.splice(this._subGeometries.indexOf(t),1);t.parentGeometry=null;if(this.hasEventListener(s.SUB_GEOMETRY_REMOVED))this.dispatchEvent(new s(s.SUB_GEOMETRY_REMOVED,t));this.iInvalidateBounds(t)};e.prototype.clone=function(){var t=new e;var i=this._subGeometries.length;for(var r=0;r<i;++r)t.addSubGeometry(this._subGeometries[r].clone());return t};e.prototype.scale=function(t){var e=this._subGeometries.length;for(var i=0;i<e;++i)this._subGeometries[i].scale(t)};e.prototype.dispose=function(){var t=this._subGeometries.length;for(var e=0;e<t;++e){var i=this._subGeometries[0];this.removeSubGeometry(i);i.dispose()}};e.prototype.scaleUV=function(t,e){if(t===void 0){t=1}if(e===void 0){e=1}var i=this._subGeometries.length;for(var r=0;r<i;++r)this._subGeometries[r].scaleUV(t,e)};e.prototype.iInvalidateBounds=function(t){if(this.hasEventListener(s.BOUNDS_INVALID))this.dispatchEvent(new s(s.BOUNDS_INVALID,t))};return e}(n);e.exports=o},{"awayjs-core/lib/events/GeometryEvent":"awayjs-core/lib/events/GeometryEvent","awayjs-core/lib/library/AssetType":"awayjs-core/lib/library/AssetType","awayjs-core/lib/library/NamedAssetBase":"awayjs-core/lib/library/NamedAssetBase"}],"awayjs-core/lib/data/LineSubGeometry":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/data/SubGeometryBase");var a=t("awayjs-core/lib/data/TriangleSubGeometry");var n=t("awayjs-core/lib/events/SubGeometryEvent");var o=function(t){r(e,t);function e(){t.call(this,true);this._positionsDirty=true;this._boundingPositionDirty=true;this._thicknessDirty=true;this._colorsDirty=true}e.prototype._pUpdateStrideOffset=function(){this._pOffset[e.VERTEX_DATA]=0;var t=0;this._pOffset[e.START_POSITION_DATA]=t;t+=3;this._pOffset[e.END_POSITION_DATA]=t;t+=3;this._pOffset[e.THICKNESS_DATA]=t;t+=1;this._pOffset[e.COLOR_DATA]=t;t+=4;this._pStride[e.VERTEX_DATA]=t;this._pStride[e.START_POSITION_DATA]=t;this._pStride[e.END_POSITION_DATA]=t;this._pStride[e.THICKNESS_DATA]=t;this._pStride[e.COLOR_DATA]=t;var i=this._pNumVertices*t;if(this._pVertices==null)this._pVertices=new Array(i);else if(this._pVertices.length!=i)this._pVertices.length=i;this._pStrideOffsetDirty=false};Object.defineProperty(e.prototype,"subGeometryType",{get:function(){return e.SUB_GEOMETRY_TYPE},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"vertices",{get:function(){if(this._positionsDirty)this.updatePositions(this._startPositions,this._endPositions);if(this._thicknessDirty)this.updateThickness(this._thickness);if(this._colorsDirty)this.updateColors(this._startColors,this._endColors);return this._pVertices},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"startPositions",{get:function(){if(this._positionsDirty)this.updatePositions(this._startPositions,this._endPositions);return this._startPositions},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"endPositions",{get:function(){if(this._positionsDirty)this.updatePositions(this._startPositions,this._endPositions);return this._endPositions},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"thickness",{get:function(){if(this._thicknessDirty)this.updateThickness(this._thickness);return this._thickness},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"startColors",{get:function(){if(this._colorsDirty)this.updateColors(this._startColors,this._endColors);return this._startColors},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"endColors",{get:function(){if(this._colorsDirty)this.updateColors(this._startColors,this._endColors);return this._endColors},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"numSegments",{get:function(){return this._numSegments},enumerable:true,configurable:true});e.prototype.getBoundingPositions=function(){if(this._boundingPositionDirty)this._boundingPositions=this.startPositions.concat(this.endPositions);return this._boundingPositions};e.prototype.updatePositions=function(t,i){var r;var s;var a;var n;var o;var h;var u;this._startPositions=t;if(this._startPositions==null)this._startPositions=new Array;this._endPositions=i;if(this._endPositions==null)this._endPositions=new Array;this._boundingPositionDirty=true;this._numSegments=this._startPositions.length/3;this._pNumVertices=this._numSegments*4;var c=this._pNumVertices*this.getStride(e.VERTEX_DATA);if(this._pVertices==null)this._pVertices=new Array(c);else if(this._pVertices.length!=c)this._pVertices.length=c;r=0;s=0;n=this.getOffset(e.START_POSITION_DATA);o=this.getStride(e.START_POSITION_DATA);h=this._pVertices;u=new Array;while(r<t.length){a=n/o&1?i:t;h[n]=a[r];h[n+1]=a[r+1];h[n+2]=a[r+2];a=n/o&1?t:i;h[n+3]=a[r];h[n+4]=a[r+1];h[n+5]=a[r+2];if(++s==4){var p=n/o-3;u.push(p,p+1,p+2,p+3,p+2,p+1);s=0;r+=3}n+=o}this.updateIndices(u);this.pInvalidateBounds();this.notifyPositionsUpdate();this._positionsDirty=false};e.prototype.updateThickness=function(t){var i;var r;var s;var a;var n;var o;this._thickness=t;if(t!=null){i=0;r=0;a=this.getOffset(e.THICKNESS_DATA);n=this.getStride(e.THICKNESS_DATA);o=this._pVertices;s=a;while(i<t.length){o[s]=Math.floor(.5*(s-a)/n+.5)&1?-t[i]:t[i];if(++r==4){r=0;i++}s+=n}}this.notifyThicknessUpdate();this._thicknessDirty=false};e.prototype.updateColors=function(t,i){var r;var s;var a;var n;var o;var h;var u;this._startColors=t;this._endColors=i;if(this._startColors==null){this._startColors=new Array(this._numSegments*4);r=0;while(r<this._startColors.length)this._startColors[r++]=1}if(this._endColors==null){this._endColors=new Array(this._numSegments*4);r=0;while(r<this._endColors.length)this._endColors[r++]=1}r=0;s=0;o=this.getOffset(e.COLOR_DATA);h=this.getStride(e.COLOR_DATA);u=this._pVertices;n=o;while(r<this._startColors.length){a=(n-o)/h&1?this._endColors:this._startColors;u[n]=a[r];u[n+1]=a[r+1];u[n+2]=a[r+2];u[n+3]=a[r+3];if(++s==4){s=0;r+=4}n+=h}this.notifyColorsUpdate();this._colorsDirty=false};e.prototype.dispose=function(){t.prototype.dispose.call(this);this._startPositions=null;this._endPositions=null;this._thickness=null;this._startColors=null;this._endColors=null};e.prototype.pInvalidateBounds=function(){if(this.parentGeometry)this.parentGeometry.iInvalidateBounds(this)};e.prototype.clone=function(){var t=new e;t.updateIndices(this._pIndices.concat());t.updatePositions(this._startPositions.concat(),this._endPositions.concat());t.updateThickness(this._thickness.concat());t.updatePositions(this._startPositions.concat(),this._endPositions.concat());return t};e.prototype._pNotifyVerticesUpdate=function(){this._pStrideOffsetDirty=true;this.notifyPositionsUpdate();this.notifyThicknessUpdate();this.notifyColorsUpdate()};e.prototype.notifyPositionsUpdate=function(){if(this._positionsDirty)return;this._positionsDirty=true;if(!this._positionsUpdated)this._positionsUpdated=new n(n.VERTICES_UPDATED,a.POSITION_DATA);this.dispatchEvent(this._positionsUpdated)};e.prototype.notifyThicknessUpdate=function(){if(this._thicknessDirty)return;this._thicknessDirty=true;if(!this._thicknessUpdated)this._thicknessUpdated=new n(n.VERTICES_UPDATED,e.THICKNESS_DATA);this.dispatchEvent(this._thicknessUpdated)};e.prototype.notifyColorsUpdate=function(){if(this._colorsDirty)return;this._colorsDirty=true;if(!this._colorUpdated)this._colorUpdated=new n(n.VERTICES_UPDATED,e.COLOR_DATA);this.dispatchEvent(this._colorUpdated)};e.SUB_GEOMETRY_TYPE="line";e.VERTEX_DATA="vertices";e.START_POSITION_DATA="startPositions";e.END_POSITION_DATA="endPositions";e.THICKNESS_DATA="thickness";e.COLOR_DATA="colors";e.POSITION_FORMAT="float3";e.COLOR_FORMAT="float4";e.THICKNESS_FORMAT="float1";return e}(s);e.exports=o},{"awayjs-core/lib/data/SubGeometryBase":"awayjs-core/lib/data/SubGeometryBase","awayjs-core/lib/data/TriangleSubGeometry":"awayjs-core/lib/data/TriangleSubGeometry","awayjs-core/lib/events/SubGeometryEvent":"awayjs-core/lib/events/SubGeometryEvent"}],"awayjs-core/lib/data/SubGeometryBase":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/AbstractMethodError");var a=t("awayjs-core/lib/events/SubGeometryEvent");var n=t("awayjs-core/lib/library/NamedAssetBase");var o=function(t){r(e,t);function e(e){t.call(this);this._pStrideOffsetDirty=true;this._pConcatenateArrays=true;this._pStride=new Object;this._pOffset=new Object;this._pConcatenateArrays=e}e.prototype._pUpdateStrideOffset=function(){throw new s};Object.defineProperty(e.prototype,"subGeometryType",{get:function(){throw new s},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"concatenateArrays",{get:function(){return this._pConcatenateArrays},set:function(t){if(this._pConcatenateArrays==t)return;this._pConcatenateArrays=t;this._pStrideOffsetDirty=true;if(t)this._pNotifyVerticesUpdate()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"indices",{get:function(){return this._pIndices},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"vertices",{get:function(){this.updateVertices();return this._pVertices},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"numTriangles",{get:function(){return this._numTriangles},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"numVertices",{get:function(){return this._pNumVertices},enumerable:true,configurable:true});e.prototype.getStride=function(t){if(this._pStrideOffsetDirty)this._pUpdateStrideOffset();return this._pStride[t]};e.prototype.getOffset=function(t){if(this._pStrideOffsetDirty)this._pUpdateStrideOffset();return this._pOffset[t]};e.prototype.updateVertices=function(){throw new s};e.prototype.dispose=function(){this._pIndices=null;this._pVertices=null};e.prototype.updateIndices=function(t){this._pIndices=t;this._numIndices=t.length;this._numTriangles=this._numIndices/3;this.notifyIndicesUpdate()};e.prototype.pInvalidateBounds=function(){if(this.parentGeometry)this.parentGeometry.iInvalidateBounds(this)};e.prototype.clone=function(){throw new s};e.prototype.applyTransformation=function(t){};e.prototype.scale=function(t){};e.prototype.scaleUV=function(t,e){if(t===void 0){t=1}if(e===void 0){e=1}};e.prototype.getBoundingPositions=function(){throw new s};e.prototype.notifyIndicesUpdate=function(){if(!this._indicesUpdated)this._indicesUpdated=new a(a.INDICES_UPDATED);this.dispatchEvent(this._indicesUpdated)};e.prototype._pNotifyVerticesUpdate=function(){throw new s};e.VERTEX_DATA="vertices";return e}(n);e.exports=o},{"awayjs-core/lib/errors/AbstractMethodError":"awayjs-core/lib/errors/AbstractMethodError","awayjs-core/lib/events/SubGeometryEvent":"awayjs-core/lib/events/SubGeometryEvent","awayjs-core/lib/library/NamedAssetBase":"awayjs-core/lib/library/NamedAssetBase"}],"awayjs-core/lib/data/TriangleSubGeometry":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/data/SubGeometryBase");var a=t("awayjs-core/lib/geom/Vector3D");var n=t("awayjs-core/lib/events/SubGeometryEvent");var o=function(t){r(e,t);function e(e){t.call(this,e);this._positionsDirty=true;this._faceNormalsDirty=true;this._faceTangentsDirty=true;this._vertexNormalsDirty=true;this._vertexTangentsDirty=true;this._uvsDirty=true;this._secondaryUVsDirty=true;this._jointIndicesDirty=true;this._jointWeightsDirty=true;this._concatenateArrays=true;this._autoDeriveNormals=true;this._autoDeriveTangents=true;this._autoDeriveUVs=false;this._useFaceWeights=false;this._scaleU=1;this._scaleV=1}Object.defineProperty(e.prototype,"subGeometryType",{get:function(){return e.SUB_GEOMETRY_TYPE},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"scaleU",{get:function(){return this._scaleU},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"scaleV",{get:function(){return this._scaleV},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"useCondensedIndices",{get:function(){return this._useCondensedIndices
},set:function(t){if(this._useCondensedIndices==t)return;this._useCondensedIndices=t;this.notifyJointIndicesUpdate()},enumerable:true,configurable:true});e.prototype._pUpdateStrideOffset=function(){if(this._concatenateArrays){this._pOffset[e.VERTEX_DATA]=0;this._pOffset[e.POSITION_DATA]=0;var t=3;if(this._vertexNormals!=null){this._pOffset[e.NORMAL_DATA]=t;t+=3}if(this._vertexTangents!=null){this._pOffset[e.TANGENT_DATA]=t;t+=3}if(this._uvs!=null){this._pOffset[e.UV_DATA]=t;t+=2}if(this._secondaryUVs!=null){this._pOffset[e.SECONDARY_UV_DATA]=t;t+=2}if(this._jointIndices!=null){this._pOffset[e.JOINT_INDEX_DATA]=t;t+=this._jointsPerVertex}if(this._jointWeights!=null){this._pOffset[e.JOINT_WEIGHT_DATA]=t;t+=this._jointsPerVertex}this._pStride[e.VERTEX_DATA]=t;this._pStride[e.POSITION_DATA]=t;this._pStride[e.NORMAL_DATA]=t;this._pStride[e.TANGENT_DATA]=t;this._pStride[e.UV_DATA]=t;this._pStride[e.SECONDARY_UV_DATA]=t;this._pStride[e.JOINT_INDEX_DATA]=t;this._pStride[e.JOINT_WEIGHT_DATA]=t;var i=this._pNumVertices*t;if(this._pVertices==null)this._pVertices=new Array(i);else if(this._pVertices.length!=i)this._pVertices.length=i}else{this._pOffset[e.POSITION_DATA]=0;this._pOffset[e.NORMAL_DATA]=0;this._pOffset[e.TANGENT_DATA]=0;this._pOffset[e.UV_DATA]=0;this._pOffset[e.SECONDARY_UV_DATA]=0;this._pOffset[e.JOINT_INDEX_DATA]=0;this._pOffset[e.JOINT_WEIGHT_DATA]=0;this._pStride[e.POSITION_DATA]=3;this._pStride[e.NORMAL_DATA]=3;this._pStride[e.TANGENT_DATA]=3;this._pStride[e.UV_DATA]=2;this._pStride[e.SECONDARY_UV_DATA]=2;this._pStride[e.JOINT_INDEX_DATA]=this._jointsPerVertex;this._pStride[e.JOINT_WEIGHT_DATA]=this._jointsPerVertex}this._pStrideOffsetDirty=false};Object.defineProperty(e.prototype,"jointsPerVertex",{get:function(){return this._jointsPerVertex},set:function(t){if(this._jointsPerVertex==t)return;this._jointsPerVertex=t;this._pStrideOffsetDirty=true;if(this._pConcatenateArrays)this._pNotifyVerticesUpdate()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"autoDeriveUVs",{get:function(){return this._autoDeriveUVs},set:function(t){if(this._autoDeriveUVs==t)return;this._autoDeriveUVs=t;if(t)this.notifyUVsUpdate()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"autoDeriveNormals",{get:function(){return this._autoDeriveNormals},set:function(t){if(this._autoDeriveNormals==t)return;this._autoDeriveNormals=t;if(t)this.notifyNormalsUpdate()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"autoDeriveTangents",{get:function(){return this._autoDeriveTangents},set:function(t){if(this._autoDeriveTangents==t)return;this._autoDeriveTangents=t;if(t)this.notifyTangentsUpdate()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"vertices",{get:function(){if(this._positionsDirty)this.updatePositions(this._positions);if(this._vertexNormalsDirty)this.updateVertexNormals(this._vertexNormals);if(this._vertexTangentsDirty)this.updateVertexTangents(this._vertexTangents);if(this._uvsDirty)this.updateUVs(this._uvs);if(this._secondaryUVsDirty)this.updateSecondaryUVs(this._secondaryUVs);if(this._jointIndicesDirty)this.updateJointIndices(this._jointIndices);if(this._jointWeightsDirty)this.updateJointWeights(this._jointWeights);return this._pVertices},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"positions",{get:function(){if(this._positionsDirty)this.updatePositions(this._positions);return this._positions},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"vertexNormals",{get:function(){if(this._vertexNormalsDirty)this.updateVertexNormals(this._vertexNormals);return this._vertexNormals},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"vertexTangents",{get:function(){if(this._vertexTangentsDirty)this.updateVertexTangents(this._vertexTangents);return this._vertexTangents},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"faceNormals",{get:function(){if(this._faceNormalsDirty)this.updateFaceNormals();return this._faceNormals},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"faceTangents",{get:function(){if(this._faceTangentsDirty)this.updateFaceTangents();return this._faceTangents},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"uvs",{get:function(){if(this._uvsDirty)this.updateUVs(this._uvs);return this._uvs},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"secondaryUVs",{get:function(){if(this._secondaryUVsDirty)this.updateSecondaryUVs(this._secondaryUVs);return this._secondaryUVs},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"jointIndices",{get:function(){if(this._jointIndicesDirty)this.updateJointIndices(this._jointIndices);if(this._useCondensedIndices)return this._condensedJointIndices;return this._jointIndices},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"jointWeights",{get:function(){if(this._jointWeightsDirty)this.updateJointWeights(this._jointWeights);return this._jointWeights},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"useFaceWeights",{get:function(){return this._useFaceWeights},set:function(t){if(this._useFaceWeights==t)return;this._useFaceWeights=t;if(this._autoDeriveNormals)this.notifyNormalsUpdate();if(this._autoDeriveTangents)this.notifyTangentsUpdate();this._faceNormalsDirty=true},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"numCondensedJoints",{get:function(){if(this._jointIndicesDirty)this.updateJointIndices(this._jointIndices);return this._numCondensedJoints},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"condensedIndexLookUp",{get:function(){if(this._jointIndicesDirty)this.updateJointIndices(this._jointIndices);return this._condensedIndexLookUp},enumerable:true,configurable:true});e.prototype.getBoundingPositions=function(){if(this._positionsDirty)this.updatePositions(this._positions);return this._positions};e.prototype.updatePositions=function(t){var i;var r;var s;var a;this._positions=t;if(this._positions==null)this._positions=new Array;this._pNumVertices=this._positions.length/3;if(this._concatenateArrays){var n=this._pNumVertices*this.getStride(e.VERTEX_DATA);if(this._pVertices==null)this._pVertices=new Array(n);else if(this._pVertices.length!=n)this._pVertices.length=n;i=0;r=this.getOffset(e.POSITION_DATA);s=this.getStride(e.POSITION_DATA);a=this._pVertices;while(i<t.length){a[r]=t[i++];a[r+1]=t[i++];a[r+2]=t[i++];r+=s}}if(this._autoDeriveNormals)this.notifyNormalsUpdate();if(this._autoDeriveTangents)this.notifyTangentsUpdate();if(this._autoDeriveUVs)this.notifyUVsUpdate();this.pInvalidateBounds();this.notifyPositionsUpdate();this._positionsDirty=false};e.prototype.updateVertexNormals=function(t){var i;var r;var s;var a;var n;if(!this._autoDeriveNormals){if((this._vertexNormals==null||t==null)&&(this._vertexNormals!=null||t!=null)){if(this._concatenateArrays)this._pNotifyVerticesUpdate();else this._pStrideOffsetDirty=true}this._vertexNormals=t;if(t!=null&&this._concatenateArrays){i=0;r=this.getOffset(e.NORMAL_DATA);a=this.getStride(e.NORMAL_DATA);n=this._pVertices;while(i<t.length){n[r]=t[i++];n[r+1]=t[i++];n[r+2]=t[i++];r+=a}}}else{if(this._vertexNormals==null){this._vertexNormals=new Array(this._positions.length);if(this._concatenateArrays)this._pNotifyVerticesUpdate();else this._pStrideOffsetDirty=true}if(this._faceNormalsDirty)this.updateFaceNormals();s=this.getOffset(e.NORMAL_DATA);a=this.getStride(e.NORMAL_DATA);n=this._concatenateArrays?this._pVertices:this._vertexNormals;var o=0;var h=1;var u=2;r=s;var c=n.length;while(r<c){n[r]=0;n[r+1]=0;n[r+2]=0;r+=a}var p=0;var l=this._pIndices.length;var f;i=0;while(i<l){f=this._useFaceWeights?this._faceWeights[p++]:1;r=s+this._pIndices[i++]*a;n[r]+=this._faceNormals[o]*f;n[r+1]+=this._faceNormals[h]*f;n[r+2]+=this._faceNormals[u]*f;r=s+this._pIndices[i++]*a;n[r]+=this._faceNormals[o]*f;n[r+1]+=this._faceNormals[h]*f;n[r+2]+=this._faceNormals[u]*f;r=s+this._pIndices[i++]*a;n[r]+=this._faceNormals[o]*f;n[r+1]+=this._faceNormals[h]*f;n[r+2]+=this._faceNormals[u]*f;o+=3;h+=3;u+=3}i=0;r=s;while(r<c){var y=n[r];var _=n[r+1];var d=n[r+2];var v=1/Math.sqrt(y*y+_*_+d*d);if(this._concatenateArrays){this._vertexNormals[i++]=n[r]=y*v;this._vertexNormals[i++]=n[r+1]=_*v;this._vertexNormals[i++]=n[r+2]=d*v}else{n[r]=y*v;n[r+1]=_*v;n[r+2]=d*v}r+=a}}this.notifyNormalsUpdate();this._vertexNormalsDirty=false};e.prototype.updateVertexTangents=function(t){var i;var r;var s;var a;var n;if(!this._autoDeriveTangents){if((this._vertexTangents==null||t==null)&&(this._vertexTangents!=null||t!=null)){if(this._concatenateArrays)this._pNotifyVerticesUpdate();else this._pStrideOffsetDirty=true}this._vertexTangents=t;if(t!=null&&this._concatenateArrays){i=0;r=this.getOffset(e.TANGENT_DATA);a=this.getStride(e.TANGENT_DATA);n=this._pVertices;while(i<t.length){n[r]=t[i++];n[r+1]=t[i++];n[r+2]=t[i++];r+=a}}}else{if(this._vertexTangents==null){this._vertexTangents=new Array(this._positions.length);if(this._concatenateArrays)this._pNotifyVerticesUpdate();else this._pStrideOffsetDirty=true}if(this._faceTangentsDirty)this.updateFaceTangents();s=this.getOffset(e.TANGENT_DATA);a=this.getStride(e.TANGENT_DATA);n=this._concatenateArrays?this._pVertices:this._vertexTangents;r=s;var o=n.length;while(r<o){n[r]=0;n[r+1]=0;n[r+2]=0;r+=a}var h=0;var u;var c=0;var p=1;var l=2;i=0;var f=this._pIndices.length;while(i<f){u=this._useFaceWeights?this._faceWeights[h++]:1;r=s+this._pIndices[i++]*a;n[r++]+=this._faceTangents[c]*u;n[r++]+=this._faceTangents[p]*u;n[r]+=this._faceTangents[l]*u;r=s+this._pIndices[i++]*a;n[r++]+=this._faceTangents[c]*u;n[r++]+=this._faceTangents[p]*u;n[r]+=this._faceTangents[l]*u;r=s+this._pIndices[i++]*a;n[r++]+=this._faceTangents[c]*u;n[r++]+=this._faceTangents[p]*u;n[r]+=this._faceTangents[l]*u;c+=3;p+=3;l+=3}i=0;r=s;while(r<o){var y=n[r];var _=n[r+1];var d=n[r+2];var v=1/Math.sqrt(y*y+_*_+d*d);if(this._concatenateArrays){this._vertexTangents[i++]=n[r]=y*v;this._vertexTangents[i++]=n[r+1]=_*v;this._vertexTangents[i++]=n[r+2]=d*v}else{n[r]=y*v;n[r+1]=_*v;n[r+2]=d*v}r+=a}}this.notifyTangentsUpdate();this._vertexTangentsDirty=false};e.prototype.updateUVs=function(t){var i;var r;var s;var a;var n;if(!this._autoDeriveUVs){if((this._uvs==null||t==null)&&(this._uvs!=null||t!=null)){if(this._concatenateArrays)this._pNotifyVerticesUpdate();else this._pStrideOffsetDirty=true}this._uvs=t;if(t!=null&&this._concatenateArrays){i=0;r=this.getOffset(e.UV_DATA);a=this.getStride(e.UV_DATA);n=this._pVertices;while(i<t.length){n[r]=t[i++];n[r+1]=t[i++];r+=a}}}else{if(this._uvs==null){this._uvs=new Array(this._positions.length*2/3);if(this._concatenateArrays)this._pNotifyVerticesUpdate();else this._pStrideOffsetDirty=true}s=this.getOffset(e.UV_DATA);a=this.getStride(e.UV_DATA);n=this._concatenateArrays?this._pVertices:this._uvs;i=0;r=s;var o=0;var h=n.length;while(r<h){if(this._concatenateArrays){this._uvs[i++]=n[r]=o*.5;this._uvs[i++]=n[r+1]=1-(o&1)}else{n[r]=o*.5;n[r+1]=1-(o&1)}if(++o==3)o=0;r+=a}}if(this._autoDeriveTangents)this.notifyTangentsUpdate();this.notifyUVsUpdate();this._uvsDirty=false};e.prototype.updateSecondaryUVs=function(t){var i;var r;var s;var a;var n;if(this._concatenateArrays&&(this._secondaryUVs==null||t==null)&&(this._secondaryUVs!=null||t!=null))this._pNotifyVerticesUpdate();this._secondaryUVs=t;if(t!=null&&this._concatenateArrays){s=this.getOffset(e.SECONDARY_UV_DATA);a=this.getStride(e.SECONDARY_UV_DATA);i=0;r=s;n=this._pVertices;while(i<t.length){n[r]=t[i++];n[r+1]=t[i++];r+=a}}this.notifySecondaryUVsUpdate();this._secondaryUVsDirty=false};e.prototype.updateJointIndices=function(t){var i;var r;var s;var a;var n;var o;if(this._concatenateArrays&&(this._jointIndices==null||t==null)&&(this._jointIndices!=null||t!=null))this._pNotifyVerticesUpdate();this._jointIndices=t;if(t!=null){a=this.getOffset(e.JOINT_INDEX_DATA);n=this.getStride(e.JOINT_INDEX_DATA);if(this._useCondensedIndices){i=0;r=0;s=a;o=this._concatenateArrays?this._pVertices:this._condensedJointIndices;var h;var u=0;var c=new Object;if(!this._concatenateArrays)this._condensedJointIndices=new Array(t.length);this._condensedIndexLookUp=new Array;while(i<t.length){for(r=0;r<this._jointsPerVertex;r++){h=t[i++];if(c[h]==undefined){c[h]=u*3;this._condensedIndexLookUp[u++]=h}o[s+r]=c[h]}s+=n}this._numCondensedJoints=u}else if(this._concatenateArrays){i=0;s=a;o=this._pVertices;while(i<t.length){r=0;while(r<this._jointsPerVertex)o[s+r++]=t[i++];s+=n}}}this.notifyJointIndicesUpdate();this._jointIndicesDirty=false};e.prototype.updateJointWeights=function(t){var i;var r;var s;var a;var n;var o;if(this._concatenateArrays&&(this._jointWeights==null||t==null)&&(this._jointWeights!=null||t!=null))this._pNotifyVerticesUpdate();this._jointWeights=t;if(t!=null&&this._concatenateArrays){a=this.getOffset(e.JOINT_WEIGHT_DATA);n=this.getStride(e.JOINT_WEIGHT_DATA);i=0;s=a;o=this._pVertices;while(i<t.length){r=0;while(r<this._jointsPerVertex)o[s+r++]=t[i++];s+=n}}this.notifyJointWeightsUpdate();this._jointWeightsDirty=false};e.prototype.dispose=function(){t.prototype.dispose.call(this);this._positions=null;this._vertexNormals=null;this._vertexTangents=null;this._uvs=null;this._secondaryUVs=null;this._jointIndices=null;this._jointWeights=null;this._faceNormals=null;this._faceWeights=null;this._faceTangents=null};e.prototype.updateIndices=function(e){t.prototype.updateIndices.call(this,e);this._faceNormalsDirty=true;if(this._autoDeriveNormals)this._vertexNormalsDirty=true;if(this._autoDeriveTangents)this._vertexTangentsDirty=true;if(this._autoDeriveUVs)this._uvsDirty=true};e.prototype.clone=function(){var t=new e(this._concatenateArrays);t.updateIndices(this._pIndices.concat());t.updatePositions(this._positions.concat());if(this._vertexNormals&&!this._autoDeriveNormals)t.updateVertexNormals(this._vertexNormals.concat());else t.updateVertexNormals(null);if(this._uvs&&!this._autoDeriveUVs)t.updateUVs(this._uvs.concat());else t.updateUVs(null);if(this._vertexTangents&&!this._autoDeriveTangents)t.updateVertexTangents(this._vertexTangents.concat());else t.updateVertexTangents(null);if(this._secondaryUVs)t.updateSecondaryUVs(this._secondaryUVs.concat());if(this._jointIndices){t.jointsPerVertex=this._jointsPerVertex;t.updateJointIndices(this._jointIndices.concat())}if(this._jointWeights)t.updateJointWeights(this._jointWeights.concat());return t};e.prototype.scaleUV=function(t,e){if(t===void 0){t=1}if(e===void 0){e=1}var i;var r;var s;var a;a=this._uvs;var n=t/this._scaleU;var o=e/this._scaleV;this._scaleU=t;this._scaleV=e;var h=a.length;r=0;s=2;i=r;while(i<h){a[i]*=n;a[i+1]*=o;i+=s}this.notifyUVsUpdate()};e.prototype.scale=function(t){var e;var i;var r;var s;var a;a=this._positions;var n=a.length;r=0;s=3;e=0;i=r;while(e<n){a[i]*=t;a[i+1]*=t;a[i+2]*=t;e+=3;i+=s}this.notifyPositionsUpdate()};e.prototype.applyTransformation=function(t){var i;var r;var s;if(this._concatenateArrays){i=this._pVertices;r=this._pVertices;s=this._pVertices}else{i=this._positions;r=this._vertexNormals;s=this._vertexTangents}var n=this._positions.length/3;var o;var h;var u;var c=new a;var p=this._vertexNormals!=null;var l=this._vertexTangents!=null;var f;if(p||l){f=t.clone();f.invert();f.transpose()}var y=this.getOffset(e.POSITION_DATA);var _=this.getOffset(e.NORMAL_DATA);var d=this.getOffset(e.TANGENT_DATA);var v=this.getStride(e.POSITION_DATA);var w=this.getStride(e.NORMAL_DATA);var b=this.getStride(e.TANGENT_DATA);for(o=0;o<n;++o){h=y+1;u=y+2;c.x=i[y];c.y=i[h];c.z=i[u];c=t.transformVector(c);i[y]=c.x;i[h]=c.y;i[u]=c.z;y+=v;if(p){h=_+1;u=_+2;c.x=r[_];c.y=r[h];c.z=r[u];c=f.deltaTransformVector(c);c.normalize();r[_]=c.x;r[h]=c.y;r[u]=c.z;_+=w}if(l){h=d+1;u=d+2;c.x=s[d];c.y=s[h];c.z=s[u];c=f.deltaTransformVector(c);c.normalize();s[d]=c.x;s[h]=c.y;s[u]=c.z;d+=b}}this.notifyPositionsUpdate();this.notifyNormalsUpdate();this.notifyTangentsUpdate()};e.prototype.updateFaceTangents=function(){var t=0;var e;var i;var r;var s;var a;var n;var o;var h;var u,c,p;var l,f,y;var _,d,v;var w,b,g;var m=this._positions;var D=this._uvs;var E=this._pIndices.length;if(this._faceTangents==null)this._faceTangents=new Array(E);while(t<E){e=this._pIndices[t];i=this._pIndices[t+1];r=this._pIndices[t+2];a=D[e*2+1];n=D[i*2+1]-a;o=D[r*2+1]-a;s=e*3;u=m[s];c=m[s+1];p=m[s+2];s=i*3;l=m[s]-u;f=m[s+1]-c;y=m[s+2]-p;s=r*3;_=m[s]-u;d=m[s+1]-c;v=m[s+2]-p;w=o*l-n*_;b=o*f-n*d;g=o*y-n*v;h=1/Math.sqrt(w*w+b*b+g*g);this._faceTangents[t++]=h*w;this._faceTangents[t++]=h*b;this._faceTangents[t++]=h*g}this._faceTangentsDirty=false};e.prototype.updateFaceNormals=function(){var t=0;var e=0;var i=0;var r;var s;var a;var n,o,h;var u,c,p;var l,f,y;var _,d,v;var w,b,g;var m,D,E;var A;var x=this._positions;var j=this._pIndices.length;if(this._faceNormals==null)this._faceNormals=new Array(j);if(this._useFaceWeights&&this._faceWeights==null)this._faceWeights=new Array(j/3);while(t<j){r=this._pIndices[t++]*3;n=x[r];u=x[r+1];l=x[r+2];r=this._pIndices[t++]*3;o=x[r];c=x[r+1];f=x[r+2];r=this._pIndices[t++]*3;h=x[r];p=x[r+1];y=x[r+2];_=h-n;d=p-u;v=y-l;w=o-n;b=c-u;g=f-l;m=v*b-d*g;D=_*g-v*w;E=d*w-_*b;A=Math.sqrt(m*m+D*D+E*E);if(this._useFaceWeights){var T=A*1e4;if(T<1)T=1;this._faceWeights[i++]=T}A=1/A;this._faceNormals[e++]=m*A;this._faceNormals[e++]=D*A;this._faceNormals[e++]=E*A}this._faceNormalsDirty=false};e.prototype._pNotifyVerticesUpdate=function(){this._pStrideOffsetDirty=true;this.notifyPositionsUpdate();this.notifyNormalsUpdate();this.notifyTangentsUpdate();this.notifyUVsUpdate();this.notifySecondaryUVsUpdate();this.notifyJointIndicesUpdate();this.notifyJointWeightsUpdate()};e.prototype.notifyPositionsUpdate=function(){if(this._positionsDirty)return;this._positionsDirty=true;if(!this._positionsUpdated)this._positionsUpdated=new n(n.VERTICES_UPDATED,e.POSITION_DATA);this.dispatchEvent(this._positionsUpdated)};e.prototype.notifyNormalsUpdate=function(){if(this._vertexNormalsDirty)return;this._vertexNormalsDirty=true;if(!this._normalsUpdated)this._normalsUpdated=new n(n.VERTICES_UPDATED,e.NORMAL_DATA);this.dispatchEvent(this._normalsUpdated)};e.prototype.notifyTangentsUpdate=function(){if(this._vertexTangentsDirty)return;this._vertexTangentsDirty=true;if(!this._tangentsUpdated)this._tangentsUpdated=new n(n.VERTICES_UPDATED,e.TANGENT_DATA);this.dispatchEvent(this._tangentsUpdated)};e.prototype.notifyUVsUpdate=function(){if(this._uvsDirty)return;this._uvsDirty=true;if(!this._uvsUpdated)this._uvsUpdated=new n(n.VERTICES_UPDATED,e.UV_DATA);this.dispatchEvent(this._uvsUpdated)};e.prototype.notifySecondaryUVsUpdate=function(){if(this._secondaryUVsDirty)return;this._secondaryUVsDirty=true;if(!this._secondaryUVsUpdated)this._secondaryUVsUpdated=new n(n.VERTICES_UPDATED,e.SECONDARY_UV_DATA);this.dispatchEvent(this._secondaryUVsUpdated)};e.prototype.notifyJointIndicesUpdate=function(){if(this._jointIndicesDirty)return;this._jointIndicesDirty=true;if(!this._jointIndicesUpdated)this._jointIndicesUpdated=new n(n.VERTICES_UPDATED,e.JOINT_INDEX_DATA);this.dispatchEvent(this._jointIndicesUpdated)};e.prototype.notifyJointWeightsUpdate=function(){if(this._jointWeightsDirty)return;this._jointWeightsDirty=true;if(!this._jointWeightsUpdated)this._jointWeightsUpdated=new n(n.VERTICES_UPDATED,e.JOINT_WEIGHT_DATA);this.dispatchEvent(this._jointWeightsUpdated)};e.SUB_GEOMETRY_TYPE="triangle";e.POSITION_DATA="positions";e.NORMAL_DATA="vertexNormals";e.TANGENT_DATA="vertexTangents";e.UV_DATA="uvs";e.SECONDARY_UV_DATA="secondaryUVs";e.JOINT_INDEX_DATA="jointIndices";e.JOINT_WEIGHT_DATA="jointWeights";e.POSITION_FORMAT="float3";e.NORMAL_FORMAT="float3";e.TANGENT_FORMAT="float3";e.UV_FORMAT="float2";e.SECONDARY_UV_FORMAT="float2";return e}(s);e.exports=o},{"awayjs-core/lib/data/SubGeometryBase":"awayjs-core/lib/data/SubGeometryBase","awayjs-core/lib/events/SubGeometryEvent":"awayjs-core/lib/events/SubGeometryEvent","awayjs-core/lib/geom/Vector3D":"awayjs-core/lib/geom/Vector3D"}],"awayjs-core/lib/errors/AbstractMethodError":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/Error");var a=function(t){r(e,t);function e(e,i){if(e===void 0){e=null}if(i===void 0){i=0}t.call(this,e||"An abstract method was called! Either an instance of an abstract class was created, or an abstract method was not overridden by the subclass.",i)}return e}(s);e.exports=a},{"awayjs-core/lib/errors/Error":"awayjs-core/lib/errors/Error"}],"awayjs-core/lib/errors/ArgumentError":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/Error");var a=function(t){r(e,t);function e(e,i){if(e===void 0){e=null}if(i===void 0){i=0}t.call(this,e||"ArgumentError",i)}return e}(s);e.exports=a},{"awayjs-core/lib/errors/Error":"awayjs-core/lib/errors/Error"}],"awayjs-core/lib/errors/DocumentError":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/Error");var a=function(t){r(e,t);function e(e,i){if(e===void 0){e="DocumentError"}if(i===void 0){i=0}t.call(this,e,i)}e.DOCUMENT_DOES_NOT_EXIST="documentDoesNotExist";return e}(s);e.exports=a},{"awayjs-core/lib/errors/Error":"awayjs-core/lib/errors/Error"}],"awayjs-core/lib/errors/Error":[function(t,e,i){var r=function(){function t(t,e,i){if(t===void 0){t=""}if(e===void 0){e=0}if(i===void 0){i=""}this._errorID=0;this._messsage="";this._name="";this._messsage=t;this._name=name;this._errorID=e}Object.defineProperty(t.prototype,"message",{get:function(){return this._messsage},set:function(t){this._messsage=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"errorID",{get:function(){return this._errorID},enumerable:true,configurable:true});return t}();e.exports=r},{}],"awayjs-core/lib/errors/PartialImplementationError":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/Error");var a=function(t){r(e,t);function e(e,i){if(e===void 0){e=""}if(i===void 0){i=0}t.call(this,"PartialImplementationError - this function is in development. Required Dependency: "+e,i)}return e}(s);e.exports=a},{"awayjs-core/lib/errors/Error":"awayjs-core/lib/errors/Error"}],"awayjs-core/lib/errors/RangeError":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/Error");var a=function(t){r(e,t);function e(e,i){if(e===void 0){e=null}if(i===void 0){i=0}t.call(this,e||"RangeError",i)}return e}(s);e.exports=a},{"awayjs-core/lib/errors/Error":"awayjs-core/lib/errors/Error"}],"awayjs-core/lib/events/AssetEvent":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/events/Event");var a=function(t){r(e,t);function e(e,i,r){if(i===void 0){i=null}if(r===void 0){r=null}t.call(this,e);this._asset=i;this._prevName=r||(this._asset?this._asset.name:null)}Object.defineProperty(e.prototype,"asset",{get:function(){return this._asset},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"assetPrevName",{get:function(){return this._prevName},enumerable:true,configurable:true});e.prototype.clone=function(){return new e(this.type,this.asset,this.assetPrevName)};e.ASSET_COMPLETE="assetComplete";e.ASSET_RENAME="assetRename";e.ASSET_CONFLICT_RESOLVED="assetConflictResolved";e.TEXTURE_SIZE_ERROR="textureSizeError";return e}(s);e.exports=a},{"awayjs-core/lib/events/Event":"awayjs-core/lib/events/Event"}],"awayjs-core/lib/events/EventDispatcher":[function(t,e,i){var r=function(){function t(t){if(t===void 0){t=null}this.listeners=new Array;this.target=t||this}t.prototype.addEventListener=function(t,e){if(this.listeners[t]===undefined)this.listeners[t]=new Array;if(this.getEventListenerIndex(t,e)===-1)this.listeners[t].push(e)};t.prototype.removeEventListener=function(t,e){var i=this.getEventListenerIndex(t,e);if(i!==-1)this.listeners[t].splice(i,1)};t.prototype.dispatchEvent=function(t){var e=this.listeners[t.type];if(e!==undefined){var i=e.length;t.target=this.target;for(var r=0;r<i;r++)e[r](t)}};t.prototype.getEventListenerIndex=function(t,e){if(this.listeners[t]!==undefined){var i=this.listeners[t];var r=i.length;for(var s=0;s<r;s++)if(e==i[s])return s}return-1};t.prototype.hasEventListener=function(t,e){if(e!=null){return this.getEventListenerIndex(t,e)!==-1}else{if(this.listeners[t]!==undefined)return this.listeners[t].length>0;return false}return false};return t}();e.exports=r},{}],"awayjs-core/lib/events/Event":[function(t,e,i){var r=function(){function t(t){this.type=undefined;this.target=undefined;this.type=t}t.prototype.clone=function(){return new t(this.type)};t.COMPLETE="complete";t.OPEN="open";t.ENTER_FRAME="enterFrame";t.EXIT_FRAME="exitFrame";t.RESIZE="resize";t.ERROR="error";t.CHANGE="change";return t}();e.exports=r},{}],"awayjs-core/lib/events/GeometryEvent":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/events/Event");var a=function(t){r(e,t);function e(e,i){if(i===void 0){i=null}t.call(this,e);this._subGeometry=i}Object.defineProperty(e.prototype,"subGeometry",{get:function(){return this._subGeometry},enumerable:true,configurable:true});e.prototype.clone=function(){return new e(this.type,this._subGeometry)};e.SUB_GEOMETRY_ADDED="subGeometryAdded";e.SUB_GEOMETRY_REMOVED="subGeometryRemoved";e.BOUNDS_INVALID="boundsInvalid";return e}(s);e.exports=a},{"awayjs-core/lib/events/Event":"awayjs-core/lib/events/Event"}],"awayjs-core/lib/events/HTTPStatusEvent":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/events/Event");var a=function(t){r(e,t);function e(e,i){if(i===void 0){i=null}t.call(this,e);this.status=i}e.HTTP_STATUS="httpStatus";return e}(s);e.exports=a},{"awayjs-core/lib/events/Event":"awayjs-core/lib/events/Event"}],"awayjs-core/lib/events/IEventDispatcher":[function(t,e,i){},{}],"awayjs-core/lib/events/IOErrorEvent":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/events/Event");var a=function(t){r(e,t);function e(e){t.call(this,e)}e.IO_ERROR="ioError";return e}(s);e.exports=a},{"awayjs-core/lib/events/Event":"awayjs-core/lib/events/Event"}],"awayjs-core/lib/events/LoaderEvent":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/events/Event");var a=function(t){r(e,t);function e(e,i,r,s){if(i===void 0){i=null}if(r===void 0){r=null}if(s===void 0){s=null}t.call(this,e);this._url=i;this._content=r;this._assets=s}Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"assets",{get:function(){return this._assets},enumerable:true,configurable:true});e.prototype.clone=function(){return new e(this.type,this._url,this._content,this._assets)};e.RESOURCE_COMPLETE="resourceComplete";return e}(s);e.exports=a},{"awayjs-core/lib/events/Event":"awayjs-core/lib/events/Event"}],"awayjs-core/lib/events/ParserEvent":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/events/Event");var a=function(t){r(e,t);function e(e,i){if(i===void 0){i=""}t.call(this,e);this._message=i}Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:true,configurable:true});e.prototype.clone=function(){return new e(this.type,this.message)};e.PARSE_COMPLETE="parseComplete";e.PARSE_ERROR="parseError";e.READY_FOR_DEPENDENCIES="readyForDependencies";return e}(s);e.exports=a},{"awayjs-core/lib/events/Event":"awayjs-core/lib/events/Event"}],"awayjs-core/lib/events/ProgressEvent":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/events/Event");var a=function(t){r(e,t);function e(e){t.call(this,e)}e.PROGRESS="progress";return e}(s);e.exports=a},{"awayjs-core/lib/events/Event":"awayjs-core/lib/events/Event"}],"awayjs-core/lib/events/ProjectionEvent":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/events/Event");var a=function(t){r(e,t);function e(e,i){t.call(this,e);this._projection=i}Object.defineProperty(e.prototype,"projection",{get:function(){return this._projection},enumerable:true,configurable:true});e.MATRIX_CHANGED="matrixChanged";return e}(s);e.exports=a},{"awayjs-core/lib/events/Event":"awayjs-core/lib/events/Event"}],"awayjs-core/lib/events/SubGeometryEvent":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/events/Event");var a=function(t){r(e,t);function e(e,i){if(i===void 0){i=""}t.call(this,e);this._dataType=i}Object.defineProperty(e.prototype,"dataType",{get:function(){return this._dataType},enumerable:true,configurable:true});e.prototype.clone=function(){return new e(this.type,this._dataType)};e.INDICES_UPDATED="indicesUpdated";e.VERTICES_UPDATED="verticesUpdated";return e}(s);e.exports=a},{"awayjs-core/lib/events/Event":"awayjs-core/lib/events/Event"}],"awayjs-core/lib/events/TimerEvent":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/events/Event");var a=function(t){r(e,t);function e(e){t.call(this,e)}e.TIMER="timer";e.TIMER_COMPLETE="timerComplete";return e}(s);e.exports=a},{"awayjs-core/lib/events/Event":"awayjs-core/lib/events/Event"}],"awayjs-core/lib/geom/Box":[function(t,e,i){var r=t("awayjs-core/lib/geom/Vector3D");var s=function(){function t(t,e,i,r,s,a){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=0}if(s===void 0){s=0}if(a===void 0){a=0}this.x=t;this.y=e;this.z=i;this.width=r;this.height=s;this.depth=a}Object.defineProperty(t.prototype,"back",{get:function(){return this.z+this.depth},set:function(t){this.depth=t-this.z},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){this.height=t-this.y},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"bottomRightBack",{get:function(){if(this._bottomRightBack==null)this._bottomRightBack=new r;this._bottomRightBack.x=this.x+this.width;this._bottomRightBack.y=this.y+this.height;this._bottomRightBack.z=this.z+this.depth;
return this._bottomRightBack},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"front",{get:function(){return this.z},set:function(t){this.depth+=this.z-t;this.z=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"left",{get:function(){return this.x},set:function(t){this.width+=this.x-t;this.x=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},set:function(t){this.width=t-this.x},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"size",{get:function(){if(this._size==null)this._size=new r;this._size.x=this.width;this._size.y=this.height;this._size.z=this.depth;return this._size},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"top",{get:function(){return this.y},set:function(t){this.height+=this.y-t;this.y=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"topLeftFront",{get:function(){if(this._topLeftFront==null)this._topLeftFront=new r;this._topLeftFront.x=this.x;this._topLeftFront.y=this.y;this._topLeftFront.z=this.z;return this._topLeftFront},enumerable:true,configurable:true});t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.width,this.height,this.depth)};t.prototype.contains=function(t,e,i){return this.x<=t&&this.x+this.width>=t&&this.y<=e&&this.y+this.height>=e&&this.z<=i&&this.z+this.depth>=i};t.prototype.containsPoint=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y&&this.z<=t.z&&this.z+this.depth>=t.z};t.prototype.containsBox=function(t){return this.x<=t.x&&this.x+this.width>=t.x+t.width&&this.y<=t.y&&this.y+this.height>=t.y+t.height&&this.z<=t.z&&this.z+this.depth>=t.z+t.depth};t.prototype.copyFrom=function(t){this.x=t.x;this.y=t.y;this.z=t.z;this.width=t.width;this.height=t.height;this.depth=t.depth};t.prototype.equals=function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z&&this.width==t.width&&this.height==t.height&&this.depth==t.depth};t.prototype.inflate=function(t,e,i){this.x-=t/2;this.y-=e/2;this.z-=i/2;this.width+=t/2;this.height+=e/2;this.depth+=i/2};t.prototype.inflatePoint=function(t){this.x-=t.x/2;this.y-=t.y/2;this.z-=t.z/2;this.width+=t.x/2;this.height+=t.y/2;this.depth+=t.z/2};t.prototype.intersection=function(e){if(this.intersects(e)){var i=new t;if(this.x>e.x){i.x=this.x;i.width=e.x-this.x+e.width;if(i.width>this.width)i.width=this.width}else{i.x=e.x;i.width=this.x-e.x+this.width;if(i.width>e.width)i.width=e.width}if(this.y>e.y){i.y=this.y;i.height=e.y-this.y+e.height;if(i.height>this.height)i.height=this.height}else{i.y=e.y;i.height=this.y-e.y+this.height;if(i.height>e.height)i.height=e.height}if(this.z>e.z){i.z=this.z;i.depth=e.z-this.z+e.depth;if(i.depth>this.depth)i.depth=this.depth}else{i.z=e.z;i.depth=this.z-e.z+this.depth;if(i.depth>e.depth)i.depth=e.depth}return i}return new t};t.prototype.intersects=function(t){return this.x+this.width>t.x&&this.x<t.x+t.width&&this.y+this.height>t.y&&this.y<t.y+t.height&&this.z+this.depth>t.z&&this.z<t.z+t.depth};t.prototype.rayIntersection=function(t,e,i){if(this.containsPoint(t))return 0;var r=this.width/2;var s=this.height/2;var a=this.depth/2;var n=this.x+r;var o=this.y+s;var h=this.z+a;var u=t.x-n;var c=t.y-o;var p=t.z-h;var l=e.x;var f=e.y;var y=e.z;var _;var d;var v;var w;var b;if(l<0){w=(r-u)/l;if(w>0){d=c+w*f;v=p+w*y;if(d>-s&&d<s&&v>-a&&v<a){i.x=1;i.y=0;i.z=0;b=true}}}if(!b&&l>0){w=(-r-u)/l;if(w>0){d=c+w*f;v=p+w*y;if(d>-s&&d<s&&v>-a&&v<a){i.x=-1;i.y=0;i.z=0;b=true}}}if(!b&&f<0){w=(s-c)/f;if(w>0){_=u+w*l;v=p+w*y;if(_>-r&&_<r&&v>-a&&v<a){i.x=0;i.y=1;i.z=0;b=true}}}if(!b&&f>0){w=(-s-c)/f;if(w>0){_=u+w*l;v=p+w*y;if(_>-r&&_<r&&v>-a&&v<a){i.x=0;i.y=-1;i.z=0;b=true}}}if(!b&&y<0){w=(a-p)/y;if(w>0){_=u+w*l;d=c+w*f;if(d>-s&&d<s&&_>-r&&_<r){i.x=0;i.y=0;i.z=1;b=true}}}if(!b&&y>0){w=(-a-p)/y;if(w>0){_=u+w*l;d=c+w*f;if(d>-s&&d<s&&_>-r&&_<r){i.x=0;i.y=0;i.z=-1;b=true}}}return b?w:-1};t.prototype.closestPointToPoint=function(t,e){if(e===void 0){e=null}var i;if(e==null)e=new r;i=t.x;if(i<this.x)i=this.x;if(i>this.x+this.width)i=this.x+this.width;e.x=i;i=t.y;if(i<this.y+this.height)i=this.y+this.height;if(i>this.y)i=this.y;e.y=i;i=t.z;if(i<this.z)i=this.z;if(i>this.z+this.depth)i=this.z+this.depth;e.z=i;return e};t.prototype.isEmpty=function(){return this.x==0&&this.y==0&&this.z==0&&this.width==0&&this.height==0&&this.depth==0};t.prototype.offset=function(t,e,i){this.x+=t;this.y+=e;this.z+=i};t.prototype.offsetPosition=function(t){this.x+=t.x;this.y+=t.y;this.z+=t.z};t.prototype.setEmpty=function(){this.x=0;this.y=0;this.z=0;this.width=0;this.height=0;this.depth=0};t.prototype.setTo=function(t,e,i,r,s,a){this.x=t;this.y=e;this.z=i;this.width=r;this.height=s;this.depth=a};t.prototype.toString=function(){return"[Box] (x="+this.x+", y="+this.y+", z="+this.z+", width="+this.width+", height="+this.height+", depth="+this.depth+")"};t.prototype.union=function(e){var i=new t;if(this.x<e.x){i.x=this.x;i.width=e.x-this.x+e.width;if(i.width<this.width)i.width=this.width}else{i.x=e.x;i.width=this.x-e.x+this.width;if(i.width<e.width)i.width=e.width}if(this.y<e.y){i.y=this.y;i.height=e.y-this.y+e.height;if(i.height<this.height)i.height=this.height}else{i.y=e.y;i.height=this.y-e.y+this.height;if(i.height<e.height)i.height=e.height}if(this.z<e.z){i.z=this.z;i.depth=e.z-this.z+e.depth;if(i.depth<this.depth)i.depth=this.depth}else{i.z=e.z;i.depth=this.z-e.z+this.depth;if(i.depth<e.depth)i.depth=e.depth}return i};return t}();e.exports=s},{"awayjs-core/lib/geom/Vector3D":"awayjs-core/lib/geom/Vector3D"}],"awayjs-core/lib/geom/ColorTransform":[function(t,e,i){var r=t("awayjs-core/lib/utils/ColorUtils");var s=function(){function t(t,e,i,r,s,a,n,o){if(t===void 0){t=1}if(e===void 0){e=1}if(i===void 0){i=1}if(r===void 0){r=1}if(s===void 0){s=0}if(a===void 0){a=0}if(n===void 0){n=0}if(o===void 0){o=0}this.redMultiplier=t;this.greenMultiplier=e;this.blueMultiplier=i;this.alphaMultiplier=r;this.redOffset=s;this.greenOffset=a;this.blueOffset=n;this.alphaOffset=o}Object.defineProperty(t.prototype,"color",{get:function(){return this.redOffset<<16|this.greenOffset<<8|this.blueOffset},set:function(t){var e=r.float32ColorToARGB(t);this.redOffset=e[1];this.greenOffset=e[2];this.blueOffset=e[3];this.redMultiplier=0;this.greenMultiplier=0;this.blueMultiplier=0},enumerable:true,configurable:true});t.prototype.concat=function(t){this.redMultiplier+=t.redMultiplier;this.greenMultiplier+=t.greenMultiplier;this.blueMultiplier+=t.blueMultiplier;this.alphaMultiplier+=t.alphaMultiplier};return t}();e.exports=s},{"awayjs-core/lib/utils/ColorUtils":"awayjs-core/lib/utils/ColorUtils"}],"awayjs-core/lib/geom/MathConsts":[function(t,e,i){var r=function(){function t(){}t.RADIANS_TO_DEGREES=180/Math.PI;t.DEGREES_TO_RADIANS=Math.PI/180;return t}();e.exports=r},{}],"awayjs-core/lib/geom/Matrix3DUtils":[function(t,e,i){var r=t("awayjs-core/lib/geom/Matrix3D");var s=t("awayjs-core/lib/geom/Vector3D");var a=function(){function t(){}t.quaternion2matrix=function(e,i){if(i===void 0){i=null}var s=e.x;var a=e.y;var n=e.z;var o=e.w;var h=s*s;var u=s*a;var c=s*n;var p=s*o;var l=a*a;var f=a*n;var y=a*o;var _=n*n;var d=n*o;var v=t.RAW_DATA_CONTAINER;v[0]=1-2*(l+_);v[1]=2*(u+d);v[2]=2*(c-y);v[4]=2*(u-d);v[5]=1-2*(h+_);v[6]=2*(f+p);v[8]=2*(c+y);v[9]=2*(f-p);v[10]=1-2*(h+l);v[3]=v[7]=v[11]=v[12]=v[13]=v[14]=0;v[15]=1;if(i){i.copyRawDataFrom(v);return i}else return new r(v)};t.getForward=function(t,e){if(e===void 0){e=null}if(e===null){e=new s(0,0,0)}t.copyColumnTo(2,e);e.normalize();return e};t.getUp=function(t,e){if(e===void 0){e=null}if(e===null){e=new s(0,0,0)}t.copyColumnTo(1,e);e.normalize();return e};t.getRight=function(t,e){if(e===void 0){e=null}if(e===null){e=new s(0,0,0)}t.copyColumnTo(0,e);e.normalize();return e};t.compare=function(e,i){var r=t.RAW_DATA_CONTAINER;var s=i.rawData;e.copyRawDataTo(r);for(var a=0;a<16;++a){if(r[a]!=s[a])return false}return true};t.lookAt=function(e,i,r,s){var a;var n;var o;var h=t.RAW_DATA_CONTAINER;o=r.crossProduct(s);o.normalize();n=o.crossProduct(r);n.normalize();a=r.clone();a.normalize();h[0]=o.x;h[1]=n.x;h[2]=-a.x;h[3]=0;h[4]=o.y;h[5]=n.y;h[6]=-a.y;h[7]=0;h[8]=o.z;h[9]=n.z;h[10]=-a.z;h[11]=0;h[12]=-o.dotProduct(i);h[13]=-n.dotProduct(i);h[14]=a.dotProduct(i);h[15]=1;e.copyRawDataFrom(h)};t.reflection=function(e,i){if(i===void 0){i=null}if(i===null)i=new r;var s=e.a,a=e.b,n=e.c,o=e.d;var h=t.RAW_DATA_CONTAINER;var u=-2*s*a;var c=-2*s*n;var p=-2*a*n;h[0]=1-2*s*s;h[4]=u;h[8]=c;h[12]=-2*s*o;h[1]=u;h[5]=1-2*a*a;h[9]=p;h[13]=-2*a*o;h[2]=c;h[6]=p;h[10]=1-2*n*n;h[14]=-2*n*o;h[3]=0;h[7]=0;h[11]=0;h[15]=1;i.copyRawDataFrom(h);return i};t.transformVector=function(e,i,r){if(r===void 0){r=null}if(!r)r=new s;var a=t.RAW_DATA_CONTAINER;e.copyRawDataTo(a);var n=a[0];var o=a[1];var h=a[2];var u=a[3];var c=a[4];var p=a[5];var l=a[6];var f=a[7];var y=a[8];var _=a[9];var d=a[10];var v=a[11];var w=a[12];var b=a[13];var g=a[14];var m=a[15];var D=i.x;var E=i.y;var A=i.z;r.x=n*D+c*E+y*A+w;r.y=o*D+p*E+_*A+b;r.z=h*D+l*E+d*A+g;r.w=u*D+f*E+v*A+m;return r};t.deltaTransformVector=function(e,i,r){if(r===void 0){r=null}if(!r)r=new s;var a=t.RAW_DATA_CONTAINER;e.copyRawDataTo(a);var n=a[0];var o=a[1];var h=a[2];var u=a[3];var c=a[4];var p=a[5];var l=a[6];var f=a[7];var y=a[8];var _=a[9];var d=a[10];var v=a[11];var w=i.x;var b=i.y;var g=i.z;r.x=n*w+c*b+y*g;r.y=o*w+p*b+_*g;r.z=h*w+l*b+d*g;r.w=u*w+f*b+v*g;return r};t.getTranslation=function(t,e){if(e===void 0){e=null}if(!e)e=new s;t.copyColumnTo(3,e);return e};t.deltaTransformVectors=function(e,i,r){var s=t.RAW_DATA_CONTAINER;e.copyRawDataTo(s);var a=s[0];var n=s[1];var o=s[2];var h=s[3];var u=s[4];var c=s[5];var p=s[6];var l=s[7];var f=s[8];var y=s[9];var _=s[10];var d=s[11];var v=0;var w=i.length;for(var b=0;b<w;b+=3){var g=i[b];var m=i[b+1];var D=i[b+2];r[v++]=a*g+u*m+f*D;r[v++]=n*g+c*m+y*D;r[v++]=o*g+p*m+_*D}};t.RAW_DATA_CONTAINER=new Array(16);t.CALCULATION_MATRIX=new r;return t}();e.exports=a},{"awayjs-core/lib/geom/Matrix3D":"awayjs-core/lib/geom/Matrix3D","awayjs-core/lib/geom/Vector3D":"awayjs-core/lib/geom/Vector3D"}],"awayjs-core/lib/geom/Matrix3D":[function(t,e,i){var r=t("awayjs-core/lib/geom/Orientation3D");var s=t("awayjs-core/lib/geom/Vector3D");var a=t("awayjs-core/lib/errors/ArgumentError");var n=function(){function t(t){if(t===void 0){t=null}if(t!=null&&t.length==16)this.rawData=t.concat();else this.rawData=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}t.prototype.append=function(t){var e=this.rawData[0],i=this.rawData[4],r=this.rawData[8],s=this.rawData[12],a=this.rawData[1],n=this.rawData[5],o=this.rawData[9],h=this.rawData[13],u=this.rawData[2],c=this.rawData[6],p=this.rawData[10],l=this.rawData[14],f=this.rawData[3],y=this.rawData[7],_=this.rawData[11],d=this.rawData[15],v=t.rawData[0],w=t.rawData[4],b=t.rawData[8],g=t.rawData[12],m=t.rawData[1],D=t.rawData[5],E=t.rawData[9],A=t.rawData[13],x=t.rawData[2],j=t.rawData[6],T=t.rawData[10],P=t.rawData[14],O=t.rawData[3],R=t.rawData[7],S=t.rawData[11],I=t.rawData[15];this.rawData[0]=e*v+a*w+u*b+f*g;this.rawData[1]=e*m+a*D+u*E+f*A;this.rawData[2]=e*x+a*j+u*T+f*P;this.rawData[3]=e*O+a*R+u*S+f*I;this.rawData[4]=i*v+n*w+c*b+y*g;this.rawData[5]=i*m+n*D+c*E+y*A;this.rawData[6]=i*x+n*j+c*T+y*P;this.rawData[7]=i*O+n*R+c*S+y*I;this.rawData[8]=r*v+o*w+p*b+_*g;this.rawData[9]=r*m+o*D+p*E+_*A;this.rawData[10]=r*x+o*j+p*T+_*P;this.rawData[11]=r*O+o*R+p*S+_*I;this.rawData[12]=s*v+h*w+l*b+d*g;this.rawData[13]=s*m+h*D+l*E+d*A;this.rawData[14]=s*x+h*j+l*T+d*P;this.rawData[15]=s*O+h*R+l*S+d*I};t.prototype.appendRotation=function(e,i){var r=t.getAxisRotation(i.x,i.y,i.z,e);this.append(r)};t.prototype.appendScale=function(e,i,r){this.append(new t([e,0,0,0,0,i,0,0,0,0,r,0,0,0,0,1]))};t.prototype.appendTranslation=function(t,e,i){this.rawData[12]+=t;this.rawData[13]+=e;this.rawData[14]+=i};t.prototype.clone=function(){return new t(this.rawData.slice(0))};t.prototype.copyColumnFrom=function(t,e){switch(t){case 0:this.rawData[0]=e.x;this.rawData[1]=e.y;this.rawData[2]=e.z;this.rawData[3]=e.w;break;case 1:this.rawData[4]=e.x;this.rawData[5]=e.y;this.rawData[6]=e.z;this.rawData[7]=e.w;break;case 2:this.rawData[8]=e.x;this.rawData[9]=e.y;this.rawData[10]=e.z;this.rawData[11]=e.w;break;case 3:this.rawData[12]=e.x;this.rawData[13]=e.y;this.rawData[14]=e.z;this.rawData[15]=e.w;break;default:throw new a("ArgumentError, Column "+t+" out of bounds [0, ..., 3]")}};t.prototype.copyColumnTo=function(t,e){switch(t){case 0:e.x=this.rawData[0];e.y=this.rawData[1];e.z=this.rawData[2];e.w=this.rawData[3];break;case 1:e.x=this.rawData[4];e.y=this.rawData[5];e.z=this.rawData[6];e.w=this.rawData[7];break;case 2:e.x=this.rawData[8];e.y=this.rawData[9];e.z=this.rawData[10];e.w=this.rawData[11];break;case 3:e.x=this.rawData[12];e.y=this.rawData[13];e.z=this.rawData[14];e.w=this.rawData[15];break;default:throw new a("ArgumentError, Column "+t+" out of bounds [0, ..., 3]")}};t.prototype.copyFrom=function(t){var e=t.rawData.length;for(var i=0;i<e;i++)this.rawData[i]=t.rawData[i]};t.prototype.copyRawDataFrom=function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=false}if(i)this.transpose();var r=t.length-e;for(var s=0;s<r;s++)this.rawData[s]=t[s+e];if(i)this.transpose()};t.prototype.copyRawDataTo=function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=false}if(i)this.transpose();var r=this.rawData.length;for(var s=0;s<r;s++)t[s+e]=this.rawData[s];if(i)this.transpose()};t.prototype.copyRowFrom=function(t,e){switch(t){case 0:this.rawData[0]=e.x;this.rawData[4]=e.y;this.rawData[8]=e.z;this.rawData[12]=e.w;break;case 1:this.rawData[1]=e.x;this.rawData[5]=e.y;this.rawData[9]=e.z;this.rawData[13]=e.w;break;case 2:this.rawData[2]=e.x;this.rawData[6]=e.y;this.rawData[10]=e.z;this.rawData[14]=e.w;break;case 3:this.rawData[3]=e.x;this.rawData[7]=e.y;this.rawData[11]=e.z;this.rawData[15]=e.w;break;default:throw new a("ArgumentError, Row "+t+" out of bounds [0, ..., 3]")}};t.prototype.copyRowTo=function(t,e){switch(t){case 0:e.x=this.rawData[0];e.y=this.rawData[4];e.z=this.rawData[8];e.w=this.rawData[12];break;case 1:e.x=this.rawData[1];e.y=this.rawData[5];e.z=this.rawData[9];e.w=this.rawData[13];break;case 2:e.x=this.rawData[2];e.y=this.rawData[6];e.z=this.rawData[10];e.w=this.rawData[14];break;case 3:e.x=this.rawData[3];e.y=this.rawData[7];e.z=this.rawData[11];e.w=this.rawData[15];break;default:throw new a("ArgumentError, Row "+t+" out of bounds [0, ..., 3]")}};t.prototype.copyToMatrix3D=function(t){t.rawData=this.rawData.slice(0)};t.prototype.decompose=function(t){if(t===void 0){t="eulerAngles"}var e;var i=[];var a=this.clone();var n=a.rawData;var o=new s(n[12],n[13],n[14]);n[12]=0;n[13]=0;n[14]=0;var h=new s;h.x=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);h.y=Math.sqrt(n[4]*n[4]+n[5]*n[5]+n[6]*n[6]);h.z=Math.sqrt(n[8]*n[8]+n[9]*n[9]+n[10]*n[10]);if(n[0]*(n[5]*n[10]-n[6]*n[9])-n[1]*(n[4]*n[10]-n[6]*n[8])+n[2]*(n[4]*n[9]-n[5]*n[8])<0)h.z=-h.z;n[0]/=h.x;n[1]/=h.x;n[2]/=h.x;n[4]/=h.y;n[5]/=h.y;n[6]/=h.y;n[8]/=h.z;n[9]/=h.z;n[10]/=h.z;var u=new s;switch(t){case r.AXIS_ANGLE:u.w=Math.acos((n[0]+n[5]+n[10]-1)/2);var c=Math.sqrt((n[6]-n[9])*(n[6]-n[9])+(n[8]-n[2])*(n[8]-n[2])+(n[1]-n[4])*(n[1]-n[4]));u.x=(n[6]-n[9])/c;u.y=(n[8]-n[2])/c;u.z=(n[1]-n[4])/c;break;case r.QUATERNION:var p=n[0]+n[5]+n[10];if(p>0){u.w=Math.sqrt(1+p)/2;u.x=(n[6]-n[9])/(4*u.w);u.y=(n[8]-n[2])/(4*u.w);u.z=(n[1]-n[4])/(4*u.w)}else if(n[0]>n[5]&&n[0]>n[10]){u.x=Math.sqrt(1+n[0]-n[5]-n[10])/2;u.w=(n[6]-n[9])/(4*u.x);u.y=(n[1]+n[4])/(4*u.x);u.z=(n[8]+n[2])/(4*u.x)}else if(n[5]>n[10]){u.y=Math.sqrt(1+n[5]-n[0]-n[10])/2;u.x=(n[1]+n[4])/(4*u.y);u.w=(n[8]-n[2])/(4*u.y);u.z=(n[6]+n[9])/(4*u.y)}else{u.z=Math.sqrt(1+n[10]-n[0]-n[5])/2;u.x=(n[8]+n[2])/(4*u.z);u.y=(n[6]+n[9])/(4*u.z);u.w=(n[1]-n[4])/(4*u.z)}break;case r.EULER_ANGLES:u.y=Math.asin(-n[2]);if(n[2]!=1&&n[2]!=-1){u.x=Math.atan2(n[6],n[10]);u.z=Math.atan2(n[1],n[0])}else{u.z=0;u.x=Math.atan2(n[4],n[5])}break}i.push(o);i.push(u);i.push(h);return i};t.prototype.deltaTransformVector=function(t){var e=t.x;var i=t.y;var r=t.z;return new s(e*this.rawData[0]+i*this.rawData[4]+r*this.rawData[8],e*this.rawData[1]+i*this.rawData[5]+r*this.rawData[9],e*this.rawData[2]+i*this.rawData[6]+r*this.rawData[10],e*this.rawData[3]+i*this.rawData[7]+r*this.rawData[11])};t.prototype.identity=function(){this.rawData=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};t.interpolate=function(e,i,r){var s=new t;for(var a=0;a<16;++a)s.rawData[a]=e.rawData[a]+(i.rawData[a]-e.rawData[a])*r;return s};t.prototype.interpolateTo=function(t,e){for(var i=0;i<16;++i)this.rawData[i]=this.rawData[i]+(t.rawData[i]-this.rawData[i])*e};t.prototype.invert=function(){var t=this.determinant;var e=Math.abs(t)>1e-11;if(e){t=1/t;var i=this.rawData[0];var r=this.rawData[4];var s=this.rawData[8];var a=this.rawData[12];var n=this.rawData[1];var o=this.rawData[5];var h=this.rawData[9];var u=this.rawData[13];var c=this.rawData[2];var p=this.rawData[6];var l=this.rawData[10];var f=this.rawData[14];var y=this.rawData[3];var _=this.rawData[7];var d=this.rawData[11];var v=this.rawData[15];this.rawData[0]=t*(o*(l*v-f*d)-h*(p*v-f*_)+u*(p*d-l*_));this.rawData[1]=-t*(n*(l*v-f*d)-h*(c*v-f*y)+u*(c*d-l*y));this.rawData[2]=t*(n*(p*v-f*_)-o*(c*v-f*y)+u*(c*_-p*y));this.rawData[3]=-t*(n*(p*d-l*_)-o*(c*d-l*y)+h*(c*_-p*y));this.rawData[4]=-t*(r*(l*v-f*d)-s*(p*v-f*_)+a*(p*d-l*_));this.rawData[5]=t*(i*(l*v-f*d)-s*(c*v-f*y)+a*(c*d-l*y));this.rawData[6]=-t*(i*(p*v-f*_)-r*(c*v-f*y)+a*(c*_-p*y));this.rawData[7]=t*(i*(p*d-l*_)-r*(c*d-l*y)+s*(c*_-p*y));this.rawData[8]=t*(r*(h*v-u*d)-s*(o*v-u*_)+a*(o*d-h*_));this.rawData[9]=-t*(i*(h*v-u*d)-s*(n*v-u*y)+a*(n*d-h*y));this.rawData[10]=t*(i*(o*v-u*_)-r*(n*v-u*y)+a*(n*_-o*y));this.rawData[11]=-t*(i*(o*d-h*_)-r*(n*d-h*y)+s*(n*_-o*y));this.rawData[12]=-t*(r*(h*f-u*l)-s*(o*f-u*p)+a*(o*l-h*p));this.rawData[13]=t*(i*(h*f-u*l)-s*(n*f-u*c)+a*(n*l-h*c));this.rawData[14]=-t*(i*(o*f-u*p)-r*(n*f-u*c)+a*(n*p-o*c));this.rawData[15]=t*(i*(o*l-h*p)-r*(n*l-h*c)+s*(n*p-o*c))}return e};t.prototype.prepend=function(t){var e=t.rawData[0],i=t.rawData[4],r=t.rawData[8],s=t.rawData[12],a=t.rawData[1],n=t.rawData[5],o=t.rawData[9],h=t.rawData[13],u=t.rawData[2],c=t.rawData[6],p=t.rawData[10],l=t.rawData[14],f=t.rawData[3],y=t.rawData[7],_=t.rawData[11],d=t.rawData[15],v=this.rawData[0],w=this.rawData[4],b=this.rawData[8],g=this.rawData[12],m=this.rawData[1],D=this.rawData[5],E=this.rawData[9],A=this.rawData[13],x=this.rawData[2],j=this.rawData[6],T=this.rawData[10],P=this.rawData[14],O=this.rawData[3],R=this.rawData[7],S=this.rawData[11],I=this.rawData[15];this.rawData[0]=e*v+a*w+u*b+f*g;this.rawData[1]=e*m+a*D+u*E+f*A;this.rawData[2]=e*x+a*j+u*T+f*P;this.rawData[3]=e*O+a*R+u*S+f*I;this.rawData[4]=i*v+n*w+c*b+y*g;this.rawData[5]=i*m+n*D+c*E+y*A;this.rawData[6]=i*x+n*j+c*T+y*P;this.rawData[7]=i*O+n*R+c*S+y*I;this.rawData[8]=r*v+o*w+p*b+_*g;this.rawData[9]=r*m+o*D+p*E+_*A;this.rawData[10]=r*x+o*j+p*T+_*P;this.rawData[11]=r*O+o*R+p*S+_*I;this.rawData[12]=s*v+h*w+l*b+d*g;this.rawData[13]=s*m+h*D+l*E+d*A;this.rawData[14]=s*x+h*j+l*T+d*P;this.rawData[15]=s*O+h*R+l*S+d*I};t.prototype.prependRotation=function(e,i){var r=t.getAxisRotation(i.x,i.y,i.z,e);this.prepend(r)};t.prototype.prependScale=function(e,i,r){this.prepend(new t([e,0,0,0,0,i,0,0,0,0,r,0,0,0,0,1]))};t.prototype.prependTranslation=function(e,i,r){var a=new t;a.position=new s(e,i,r);this.prepend(a)};t.prototype.recompose=function(e){if(e.length<3)return false;this.identity();this.appendScale(e[2].x,e[2].y,e[2].z);var i;i=-e[1].x;this.append(new t([1,0,0,0,0,Math.cos(i),-Math.sin(i),0,0,Math.sin(i),Math.cos(i),0,0,0,0,0]));i=-e[1].y;this.append(new t([Math.cos(i),0,Math.sin(i),0,0,1,0,0,-Math.sin(i),0,Math.cos(i),0,0,0,0,0]));i=-e[1].z;this.append(new t([Math.cos(i),-Math.sin(i),0,0,Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,0]));this.position=e[0];this.rawData[15]=1;return true};t.prototype.transformVector=function(t){if(t==null)return new s;var e=t.x;var i=t.y;var r=t.z;return new s(e*this.rawData[0]+i*this.rawData[4]+r*this.rawData[8]+this.rawData[12],e*this.rawData[1]+i*this.rawData[5]+r*this.rawData[9]+this.rawData[13],e*this.rawData[2]+i*this.rawData[6]+r*this.rawData[10]+this.rawData[14],e*this.rawData[3]+i*this.rawData[7]+r*this.rawData[11]+this.rawData[15])};t.prototype.transformVectors=function(t,e){var i=0;var r=0,s=0,a=0;while(i+3<=t.length){r=t[i];s=t[i+1];a=t[i+2];e[i]=r*this.rawData[0]+s*this.rawData[4]+a*this.rawData[8]+this.rawData[12];e[i+1]=r*this.rawData[1]+s*this.rawData[5]+a*this.rawData[9]+this.rawData[13];e[i+2]=r*this.rawData[2]+s*this.rawData[6]+a*this.rawData[10]+this.rawData[14];i+=3}};t.prototype.transpose=function(){var t=this.rawData.slice(0);this.rawData[1]=t[4];this.rawData[2]=t[8];this.rawData[3]=t[12];this.rawData[4]=t[1];this.rawData[6]=t[9];this.rawData[7]=t[13];this.rawData[8]=t[2];this.rawData[9]=t[6];this.rawData[11]=t[14];this.rawData[12]=t[3];this.rawData[13]=t[7];this.rawData[14]=t[11]};t.getAxisRotation=function(e,i,r,s){var a=new t;var n=s*(Math.PI/180);var o=Math.cos(n);var h=Math.sin(n);var u=1-o;var c,p;a.rawData[0]=o+e*e*u;a.rawData[5]=o+i*i*u;a.rawData[10]=o+r*r*u;c=e*i*u;p=r*h;a.rawData[1]=c+p;a.rawData[4]=c-p;c=e*r*u;p=i*h;a.rawData[8]=c+p;a.rawData[2]=c-p;c=i*r*u;p=e*h;a.rawData[9]=c-p;a.rawData[6]=c+p;return a};Object.defineProperty(t.prototype,"determinant",{get:function(){return(this.rawData[0]*this.rawData[5]-this.rawData[4]*this.rawData[1])*(this.rawData[10]*this.rawData[15]-this.rawData[14]*this.rawData[11])-(this.rawData[0]*this.rawData[9]-this.rawData[8]*this.rawData[1])*(this.rawData[6]*this.rawData[15]-this.rawData[14]*this.rawData[7])+(this.rawData[0]*this.rawData[13]-this.rawData[12]*this.rawData[1])*(this.rawData[6]*this.rawData[11]-this.rawData[10]*this.rawData[7])+(this.rawData[4]*this.rawData[9]-this.rawData[8]*this.rawData[5])*(this.rawData[2]*this.rawData[15]-this.rawData[14]*this.rawData[3])-(this.rawData[4]*this.rawData[13]-this.rawData[12]*this.rawData[5])*(this.rawData[2]*this.rawData[11]-this.rawData[10]*this.rawData[3])+(this.rawData[8]*this.rawData[13]-this.rawData[12]*this.rawData[9])*(this.rawData[2]*this.rawData[7]-this.rawData[6]*this.rawData[3])},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"position",{get:function(){return new s(this.rawData[12],this.rawData[13],this.rawData[14])},set:function(t){this.rawData[12]=t.x;this.rawData[13]=t.y;this.rawData[14]=t.z},enumerable:true,configurable:true});t.prototype.toFixed=function(t){var e=Math.pow(10,t);return"matrix3d("+Math.round(this.rawData[0]*e)/e+","+Math.round(this.rawData[1]*e)/e+","+Math.round(this.rawData[2]*e)/e+","+Math.round(this.rawData[3]*e)/e+","+Math.round(this.rawData[4]*e)/e+","+Math.round(this.rawData[5]*e)/e+","+Math.round(this.rawData[6]*e)/e+","+Math.round(this.rawData[7]*e)/e+","+Math.round(this.rawData[8]*e)/e+","+Math.round(this.rawData[9]*e)/e+","+Math.round(this.rawData[10]*e)/e+","+Math.round(this.rawData[11]*e)/e+","+Math.round(this.rawData[12]*e)/e+","+Math.round(this.rawData[13]*e)/e+","+Math.round(this.rawData[14]*e)/e+","+Math.round(this.rawData[15]*e)/e+")"};t.prototype.toString=function(){return"matrix3d("+Math.round(this.rawData[0]*1e3)/1e3+","+Math.round(this.rawData[1]*1e3)/1e3+","+Math.round(this.rawData[2]*1e3)/1e3+","+Math.round(this.rawData[3]*1e3)/1e3+","+Math.round(this.rawData[4]*1e3)/1e3+","+Math.round(this.rawData[5]*1e3)/1e3+","+Math.round(this.rawData[6]*1e3)/1e3+","+Math.round(this.rawData[7]*1e3)/1e3+","+Math.round(this.rawData[8]*1e3)/1e3+","+Math.round(this.rawData[9]*1e3)/1e3+","+Math.round(this.rawData[10]*1e3)/1e3+","+Math.round(this.rawData[11]*1e3)/1e3+","+Math.round(this.rawData[12]*1e3)/1e3+","+Math.round(this.rawData[13]*1e3)/1e3+","+Math.round(this.rawData[14]*1e3)/1e3+","+Math.round(this.rawData[15]*1e3)/1e3+")"};return t}();e.exports=n},{"awayjs-core/lib/errors/ArgumentError":"awayjs-core/lib/errors/ArgumentError","awayjs-core/lib/geom/Orientation3D":"awayjs-core/lib/geom/Orientation3D","awayjs-core/lib/geom/Vector3D":"awayjs-core/lib/geom/Vector3D"}],"awayjs-core/lib/geom/Matrix":[function(t,e,i){var r=t("awayjs-core/lib/geom/Point");var s=t("awayjs-core/lib/errors/ArgumentError");var a=function(){function t(t,e,i,r,s,a){if(t===void 0){t=1}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=1}if(s===void 0){s=0}if(a===void 0){a=0}this.a=t;this.b=e;this.c=i;this.d=r;this.tx=s;this.ty=a}t.prototype.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)};t.prototype.concat=function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d;this.a=e;var i=this.c*t.a+this.d*t.c;this.d=this.c*t.b+this.d*t.d;this.c=i;var r=this.tx*t.a+this.ty*t.c+t.tx;this.ty=this.tx*t.b+this.ty*t.d+t.ty;this.tx=r};t.prototype.copyColumnFrom=function(t,e){if(t>2){throw"Column "+t+" out of bounds (2)"}else if(t==0){this.a=e.x;this.c=e.y}else if(t==1){this.b=e.x;this.d=e.y}else{this.tx=e.x;this.ty=e.y}};t.prototype.copyColumnTo=function(t,e){if(t>2){throw new s("ArgumentError, Column "+t+" out of bounds [0, ..., 2]")}else if(t==0){e.x=this.a;e.y=this.c;e.z=0}else if(t==1){e.x=this.b;e.y=this.d;e.z=0}else{e.x=this.tx;e.y=this.ty;e.z=1}};t.prototype.copyFrom=function(t){this.a=t.a;this.b=t.b;this.c=t.c;this.d=t.d;this.tx=t.tx;this.ty=t.ty};t.prototype.copyRowFrom=function(t,e){if(t>2){throw new s("ArgumentError, Row "+t+" out of bounds [0, ..., 2]")}else if(t==0){this.a=e.x;this.c=e.y}else if(t==1){this.b=e.x;this.d=e.y}else{this.tx=e.x;this.ty=e.y}};t.prototype.copyRowTo=function(t,e){if(t>2){throw new s("ArgumentError, Row "+t+" out of bounds [0, ..., 2]")}else if(t==0){e.x=this.a;e.y=this.b;e.z=this.tx}else if(t==1){e.x=this.c;e.y=this.d;e.z=this.ty}else{e.setTo(0,0,1)}};t.prototype.createBox=function(t,e,i,r,s){if(i===void 0){i=0}if(r===void 0){r=0}if(s===void 0){s=0}this.a=t;this.d=e;this.b=i;this.tx=r;this.ty=s};t.prototype.createGradientBox=function(t,e,i,r,s){if(i===void 0){i=0}if(r===void 0){r=0}if(s===void 0){s=0}this.a=t/1638.4;this.d=e/1638.4;if(i!=0){var a=Math.cos(i);var n=Math.sin(i);this.b=n*this.d;this.c=-n*this.a;this.a*=a;this.d*=a}else{this.b=this.c=0}this.tx=r+t/2;this.ty=s+e/2};t.prototype.deltaTransformPoint=function(t){return new r(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)};t.prototype.identity=function(){this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0};t.prototype.invert=function(){var t=this.a*this.d-this.b*this.c;if(t==0){this.a=this.b=this.c=this.d=0;this.tx=-this.tx;this.ty=-this.ty}else{t=1/t;var e=this.d*t;this.d=this.a*t;this.a=e;this.b*=-t;this.c*=-t;var i=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=i}};t.prototype.multiply=function(e){var i=new t;i.a=this.a*e.a+this.b*e.c;i.b=this.a*e.b+this.b*e.d;i.c=this.c*e.a+this.d*e.c;i.d=this.c*e.b+this.d*e.d;i.tx=this.tx*e.a+this.ty*e.c+e.tx;i.ty=this.tx*e.b+this.ty*e.d+e.ty;return i};t.prototype.rotate=function(t){var e=Math.cos(t);var i=Math.sin(t);var r=this.a*e-this.b*i;this.b=this.a*i+this.b*e;this.a=r;var s=this.c*e-this.d*i;this.d=this.c*i+this.d*e;this.c=s;var a=this.tx*e-this.ty*i;this.ty=this.tx*i+this.ty*e;this.tx=a};t.prototype.scale=function(t,e){this.a*=t;this.b*=e;this.c*=t;this.d*=e;this.tx*=t;this.ty*=e};t.prototype.setTo=function(t,e,i,r,s,a){this.a=t;this.b=e;this.c=i;this.d=r;this.tx=s;this.ty=a};t.prototype.toString=function(){return"[Matrix] (a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"};t.prototype.transformPoint=function(t){return new r(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)};t.prototype.translate=function(t,e){this.tx+=t;this.ty+=e};return t}();e.exports=a},{"awayjs-core/lib/errors/ArgumentError":"awayjs-core/lib/errors/ArgumentError","awayjs-core/lib/geom/Point":"awayjs-core/lib/geom/Point"}],"awayjs-core/lib/geom/Orientation3D":[function(t,e,i){var r=function(){function t(){}t.AXIS_ANGLE="axisAngle";t.EULER_ANGLES="eulerAngles";t.QUATERNION="quaternion";return t}();e.exports=r},{}],"awayjs-core/lib/geom/PerspectiveProjection":[function(t,e,i){var r=function(){function t(){}t.prototype.toMatrix3D=function(){return this._matrix3D};return t}();e.exports=r},{}],"awayjs-core/lib/geom/Plane3D":[function(t,e,i){var r=t("awayjs-core/lib/geom/PlaneClassification");var s=function(){function t(e,i,r,s){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=0}if(s===void 0){s=0}this.a=e;this.b=i;this.c=r;this.d=s;if(e==0&&i==0){this._iAlignment=t.ALIGN_XY_AXIS}else if(i==0&&r==0){this._iAlignment=t.ALIGN_YZ_AXIS}else if(e==0&&r==0){this._iAlignment=t.ALIGN_XZ_AXIS}else{this._iAlignment=t.ALIGN_ANY}}t.prototype.fromPoints=function(e,i,r){var s=i.x-e.x;var a=i.y-e.y;var n=i.z-e.z;var o=r.x-e.x;var h=r.y-e.y;var u=r.z-e.z;this.a=a*u-n*h;this.b=n*o-s*u;this.c=s*h-a*o;this.d=this.a*e.x+this.b*e.y+this.c*e.z;if(this.a==0&&this.b==0){this._iAlignment=t.ALIGN_XY_AXIS}else if(this.b==0&&this.c==0){this._iAlignment=t.ALIGN_YZ_AXIS}else if(this.a==0&&this.c==0){this._iAlignment=t.ALIGN_XZ_AXIS}else{this._iAlignment=t.ALIGN_ANY}};t.prototype.fromNormalAndPoint=function(e,i){this.a=e.x;this.b=e.y;this.c=e.z;this.d=this.a*i.x+this.b*i.y+this.c*i.z;if(this.a==0&&this.b==0){this._iAlignment=t.ALIGN_XY_AXIS}else if(this.b==0&&this.c==0){this._iAlignment=t.ALIGN_YZ_AXIS}else if(this.a==0&&this.c==0){this._iAlignment=t.ALIGN_XZ_AXIS}else{this._iAlignment=t.ALIGN_ANY}};t.prototype.normalize=function(){var t=1/Math.sqrt(this.a*this.a+this.b*this.b+this.c*this.c);this.a*=t;this.b*=t;this.c*=t;this.d*=t;return this};t.prototype.distance=function(e){if(this._iAlignment==t.ALIGN_YZ_AXIS){return this.a*e.x-this.d}else if(this._iAlignment==t.ALIGN_XZ_AXIS){return this.b*e.y-this.d}else if(this._iAlignment==t.ALIGN_XY_AXIS){return this.c*e.z-this.d}else{return this.a*e.x+this.b*e.y+this.c*e.z-this.d}};t.prototype.classifyPoint=function(e,i){if(i===void 0){i=.01}if(this.d!=this.d)return r.FRONT;var s;if(this._iAlignment==t.ALIGN_YZ_AXIS)s=this.a*e.x-this.d;else if(this._iAlignment==t.ALIGN_XZ_AXIS)s=this.b*e.y-this.d;else if(this._iAlignment==t.ALIGN_XY_AXIS)s=this.c*e.z-this.d;else s=this.a*e.x+this.b*e.y+this.c*e.z-this.d;if(s<-i)return r.BACK;else if(s>i)return r.FRONT;else return r.INTERSECT};t.prototype.toString=function(){return"Plane3D [a:"+this.a+", b:"+this.b+", c:"+this.c+", d:"+this.d+"]"};t.ALIGN_ANY=0;t.ALIGN_XY_AXIS=1;t.ALIGN_YZ_AXIS=2;t.ALIGN_XZ_AXIS=3;return t}();e.exports=s},{"awayjs-core/lib/geom/PlaneClassification":"awayjs-core/lib/geom/PlaneClassification"}],"awayjs-core/lib/geom/PlaneClassification":[function(t,e,i){var r=function(){function t(){}t.BACK=0;t.FRONT=1;t.IN=0;t.OUT=1;t.INTERSECT=2;return t}();e.exports=r},{}],"awayjs-core/lib/geom/Point":[function(t,e,i){var r=function(){function t(t,e){if(t===void 0){t=0}if(e===void 0){e=0}this.x=t;this.y=e}Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},enumerable:true,configurable:true});t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)};t.prototype.clone=function(){return new t(this.x,this.y)};t.prototype.copyFrom=function(t){};t.prototype.equals=function(t){return this.x==t.x&&this.y==t.y};t.prototype.normalize=function(t){if(t===void 0){t=1}if(this.length!=0){var e=t/this.length;this.x*=e;this.y*=e;return}throw"Cannot divide by zero length."};t.prototype.offset=function(t,e){this.x+=t;this.y+=e};t.prototype.setTo=function(t,e){};t.prototype.subtract=function(e){return new t(this.x-e.x,this.y-e.y)};t.prototype.toString=function(){return"[Point] (x="+this.x+", y="+this.y+")"};t.distance=function(t,e){var i=e.x-t.x;var r=e.y-t.y;return Math.sqrt(i*i+r*r)};t.interpolate=function(e,i,r){return new t(i.x+(e.x-i.x)*r,i.y+(e.y-i.y)*r)};t.polar=function(e,i){return new t(e*Math.cos(i),e*Math.sin(i))};return t}();e.exports=r},{}],"awayjs-core/lib/geom/PoissonLookup":[function(t,e,i){var r=function(){function t(){}t.initDistributions=function(){this._distributions=new Array;this._distributions[0]=new Array(.3082841,.4320919);this._distributions[1]=new Array(.3082841,.4320919,-.2274942,-.6640266);
this._distributions[2]=new Array(.8742689,.0009265686,-.6864116,-.5536607,-.2325206,.7678371);this._distributions[3]=new Array(.3913446,-.7084417,-.7511101,-.5935929,-.2323436,.5320091,.8435315,.5035911);this._distributions[4]=new Array(.2122471,-.5771395,-.8543506,-.1763534,.5189021,.8323698,-.3616908,.5865368,.9523004,-.04948437);this._distributions[5]=new Array(.5791035,.3496495,.2959551,-.6006749,-.2419119,-.06879545,-.7403072,.6110353,-.04555973,.8059174,-.5275017,-.737129);this._distributions[6]=new Array(.06941478,.8519508,-.7441907,.2426432,.6439992,-.2405252,-.1007523,-.2327587,-.6427067,-.7248485,.8050759,.5492936,.3573822,-.8824506);this._distributions[7]=new Array(.8509863,.4452587,-.09507271,.2073005,.1706571,-.6434793,.8029777,-.2718274,-.4401725,.8196304,.2715359,.8598521,-.8121575,-.006447683,-.6486837,-.7237598);this._distributions[8]=new Array(.6951686,-.2680728,-.04933243,.3710589,.6592212,.3661054,-.01579228,-.6909603,-.3275101,-.1756866,.3811549,.9218544,-.216032,.9755028,-.7065172,.3355389,-.6579109,-.6798355);this._distributions[9]=new Array(.6181276,-.09790418,-.2537868,-.5570995,-.1964931,.3459414,.3474613,-.8885581,.5135743,.5753114,-.9549091,.1480672,-.8711916,-.4293123,-.6928071,.6190156,-.13369,.8892705,.0548224,-.1246777);this._distributions[10]=new Array(.4853027,-.5080479,-.1331675,-.506597,.139575,.01316885,.803486,-.07568797,.5240274,.4883182,-.4334005,.1207938,-.7794577,-.3985141,.1576432,-.9861221,-.3712867,.6959021,.1517378,.9847429,-.9762396,.1661073);this._distributions[11]=new Array(-.2790166,-.01252619,.3389016,.3921154,.2408341,-.313211,-.8151779,-.3898362,-.6347761,.3486495,.09471484,-.7722448,-.1385674,.6364574,.2456331,.9295807,-.3864306,-.8247881,.6111673,-.7164014,.8287669,.05466961,.837706,.5415626);this._distributions[12]=new Array(.056417,.3185693,-.8245888,.1882799,.8575996,.1136829,.1070375,.875332,.4076743,-.06000621,-.4311306,.7239349,.2677574,-.538472,-.08486642,-.2083647,-.888989,-.3906443,-.4768958,-.6664082,.09334993,-.9861541,.808736,-.455949,.5889823,.7660807);this._distributions[13]=new Array(-.2681346,-.3955857,-.1315102,-.8852947,-.5143692,.09551838,.4344836,-.546945,-.8620899,-.3813288,.1650431,.02034803,-.1543657,.3842218,-.828457,.5376903,-.6145,-.7818927,-.2639062,.8784655,.1912684,.9720125,.3135219,.5224229,.7850655,.4592297,.7465045,-.1368916);this._distributions[14]=new Array(.4241029,.695281,.150511,-.02304107,-.2482675,.9120338,.8057325,.2622084,-.2445909,.2765962,.8588713,-.1772072,.3117845,-.4385471,-.3923851,-.3298936,-.1751254,-.7405846,.6926506,-.684163,-.9304563,-.3254691,-.8533293,.1523024,.2510415,-.917345,-.6239773,-.7105472,-.6104624,.6041355);this._distributions[15]=new Array(.5844554,.06651045,.1343258,.6756578,.3799674,-.6301104,.5590436,.7940555,.09574714,.02262517,.8697868,.393301,.003945862,-.421735,.9043913,-.2432393,-.4844007,.7190998,-.3201078,.2972371,-.3852352,-.6341155,-.5413069,-.09223081,-.8468984,-.5126905,.004156174,-.8633173,-.9681889,-.03305046,-.846509,.4414353);this._distributions[16]=new Array(.4506488,.657668,.4621297,.07441051,-.2782125,.6201044,.9750003,.09110117,.1019436,.2986514,.03457398,.9631706,.542098,-.5505635,.8675668,.4938077,-.5414361,.2655292,-.7941836,.6003053,-.09847672,-.1001604,-.9316511,-.08572888,.07286467,-.611899,-.5232627,-.4082253,-.5481608,-.827938,-.1551939,-.9621193,.9220031,-.3315949);this._distributions[17]=new Array(.197908,-.4697656,-.4474689,-.3428435,.8529873,-.2228634,.6022478,-.5469642,.2545276,-.931133,-.1507547,-.7855865,-.07606658,.1011628,.3046715,.2785755,.4698432,-.1064076,.6831254,.4152522,.1374381,.8363233,-.2166121,.6682042,.5511393,.7996449,-.4278994,.28836,-.8875198,.2181732,-.8772842,-.2818254,-.7000262,.5762185,-.6062385,-.7439126);this._distributions[18]=new Array(.6645703,-.05678739,.5720971,.4533803,-.07660709,.08802763,.5163431,-.4426552,.1163455,-.3404382,-.4004807,-.5046007,.2932099,-.8201418,-.5322125,.03834766,-.1490209,-.8817304,-.8000439,-.3509448,.5260983,.8421043,.1197811,.6963812,.9498612,.3122156,-.9285746,.02120355,-.6670724,.7217396,.9155889,-.3510147,-.271941,.4727852,.318879,.1634057,-.2686755,.9253026);this._distributions[19]=new Array(.5064292,.422527,.8935515,-.06610427,.1199719,.175568,.403388,-.2003276,.1657927,.8154403,.9301245,.2929218,-.1644068,.6201534,.7113559,-.6589743,-.3364046,-.1799502,.02109996,-.392765,-.382213,.3219992,-.9201946,.1207967,-.726185,.4291916,-.7443482,-.2480059,-.5147594,.7418784,.1935272,-.7406143,-.3643523,-.5559214,-.7147766,-.6326278,-.2524151,-.9096627,.5161405,.7908453);this._distributions[20]=new Array(.7921003,-.3032096,.5992879,-.009052323,.2538549,-.1872749,.7053444,.3677175,.5417761,-.8170255,.9749611,.1210478,.1969143,-.6117041,-.1824499,-.4634196,-.1181338,-.8668742,-.3050112,-.1352596,-.4409327,-.7082354,-.03225285,.1171548,.3113096,.3250439,-.8166144,-.463995,-.01014475,.4715334,-.6868284,.05091889,-.4011163,.2717285,-.06756835,.8307694,-.7938535,.4352129,-.4663842,.7165329,.559729,.8093995);this._distributions[21]=new Array(.07832243,.426151,-.3856795,.5799953,.01970797,.06706189,.4822682,.3014512,-.1532982,.87485,-.4959527,.07888043,.260601,-.2304784,.4996209,.7167382,.585986,-.04265174,-.7679967,.5509416,-.9041753,.1802134,-.8407655,-.4442826,-.2058258,-.2636995,-.4984115,-.5928579,.2926032,-.7886473,-.06933882,-.621177,.578115,-.4813387,.8981777,-.3291056,.1942733,.9255584,.8084362,.5066984,.9920095,.03103104,-.2403206,-.9389018);this._distributions[22]=new Array(-.5691095,.1014316,-.7788262,.384012,-.8253665,-.1645582,-.1830993,.002997211,-.2555013,-.4177977,-.6640869,-.4794711,-.2351242,.5850121,.02436554,.2825883,.006061143,-.8200245,.1618791,-.3063331,-.3765897,-.7249815,.6092919,-.6769328,-.5956934,.6957655,.5383642,.4522677,-.1489165,.9125596,.4167473,.1335986,.1898309,.5874342,.2288171,.9624356,.7540846,-.07672304,.8986252,.2788797,.3555991,-.9262139,.8454325,-.4027667,.4945236,-.2935512);this._distributions[23]=new Array(-.4481403,-.3758374,-.8877251,.08739938,.05015831,-.1339983,-.4070427,-.8534173,.1019274,-.5503222,-.445998,.1997541,-.8686263,-.2788867,-.7695944,-.6033704,-.05515742,-.885711,-.7714347,.5790485,.3466263,-.8799297,.4487582,-.5321087,-.2461368,.6053771,-.05568117,.2457351,-.4668669,.8523816,.8103387,-.4255538,.4054182,-.175663,-.2802011,-.08920153,.2665959,.382935,.555679,.1621837,.105246,.8420411,.6921161,.6902903,.880946,.2483067,.9699264,-.1021767);this._distributions[24]=new Array(-.1703323,-.3119385,.2916039,-.2988263,-.008472982,-.9277695,-.7730271,-.3277904,.3440474,-.6815342,-.2910278,.03461745,-.6764899,-.657078,-.3505501,-.7311988,-.03478927,.3258755,-.6048835,.159423,.2035525,.02212214,.5116573,.2226856,.6664805,-.2500189,.7147882,-.6609634,.03030632,-.5763278,-.2516585,.6116219,-.9434413,-.0116792,.9061816,.2491155,.182867,.6076167,.286593,.9485695,-.5992439,.6970096,-.2082874,.9416641,.9880044,-.1541709,-.9122881,.331555,.7324886,.6725098);this._distributions[25]=new Array(.3869598,-.04974834,.7168844,-.0693711,-.07166742,.1725325,.4599592,.3232779,.5872094,-.4198674,.2442266,-.625667,.1254557,.4500048,-.2290154,-.1803567,.890583,.3373493,.1256081,.7853789,-.2676466,.5305805,-.7063224,.252168,-.3989835,.1189921,.09617215,-.2451447,.6302541,.6085876,.9380925,-.3234899,.5086241,-.8573482,.03576187,-.9876697,-.0876712,-.6365195,-.5276513,.823456,-.6935764,-.2240411,-.5212318,-.5383121,-.2116208,.9639363,-.9840096,.02743555,-.3991577,-.8994547,-.7830126,.614068);this._distributions[26]=new Array(-.8366601,.4464895,-.5917366,-.02073906,-.9845258,.1635625,-.3097973,.4379579,-.5478154,.7173221,-.1685888,.9261969,.01503595,.6046097,.4452421,.5449086,.0315687,.1944619,.3753404,.8688548,.4143643,.1396648,.8711032,.4304703,.7328773,.1461501,.6374492,-.3521495,.145613,-.1341466,.9040975,-.135123,-.7839059,-.5450199,-.516019,-.3320859,-.206158,-.4431106,-.9703014,-.2368356,-.2473119,-.0864351,.2130725,-.4604077,-.003726701,-.7122303,-.4072131,-.6833169,.1632999,-.9776646,.4686888,-.680495,-.2293511,-.9509777);this._distributions[27]=new Array(.107311,-.1311369,-.4194764,-.3148777,.6171439,-.2745973,.2796618,.1937153,-.09106886,.4180236,.6044006,.05577846,.02927299,-.6738263,-.2580845,.1179939,-.09023564,-.3830024,.3570953,-.5000587,.81591,-.5518309,.9300217,-.1257987,.4904627,-.8381903,-.3163182,-.8632009,.1137595,-.9875998,.8390043,.3538185,.2149114,.4993694,.5191584,.3833552,.5002763,.7061465,-.2567276,.9068756,-.5197366,.3467845,.03668867,.9734009,-.5347553,.66747,-.9028882,.1023768,-.8967977,.412834,-.5821944,.0426479,-.8032165,-.2397038,-.5597343,-.6358021);this._distributions[28]=new Array(-.6562496,-.1781036,-.9301494,.1185208,-.3861143,-.4153562,-.1560799,-.1099607,-.5587025,.395218,-.5322112,-.699701,-.5008639,.08726846,-.970524,-.1963461,-.813577,-.5185111,-.1644458,.298,-.3216791,.639982,.3315373,.3339162,.2383235,-.00105722,.1137828,.5450742,-.01899921,.8798413,.2849685,.8255596,.6974412,.2123175,.7588523,.5470437,.5102502,-.1687844,.5853448,.8033476,.2590716,-.5262504,.5607718,-.6342825,.8666443,-.1491841,.8341052,-.4935003,-.1568441,-.6634066,.2512113,-.8769391,-.2559827,-.9572457,-.01928852,-.3966542,-.750667,.6409678);this._distributions[29]=new Array(.3454786,-.04837726,.2649553,.2406852,.5599093,-.3839145,-.1111814,-.05502108,.7586042,-.05818377,.2519488,-.4665135,-.1264972,.2602723,-.08766216,-.3671907,.6428129,.3999204,-.6105871,-.1246869,-.4589451,-.7646643,-.03021116,-.7899352,-.6036922,-.4293956,-.2481938,.6534185,.102798,.6784465,-.6392644,.4821358,-.6789002,.1779133,-.9140783,-.1989647,-.9262617,.3381507,.4794891,-.8093274,.3959447,.668478,.9602883,.2272305,-.123672,.9210883,.2375148,.9523395,-.52898,.7973378,-.382433,.1228794,.695015,.6948439,.7530277,-.6458191,.8777987,-.3272956,.2318525,-.962768);this._distributions[30]=new Array(.4518921,-.1146195,.4720805,-.4238748,.3655423,.1806341,.1589939,-.23568,.7673324,-.5149941,.01163658,.09045836,.7010971,.1245747,.7518286,-.1855433,.4960719,.4601022,.2566979,-.6308268,-.0654714,-.5126389,-.1823319,-.1343282,-.1464312,.4883236,-.3858738,.203523,.1484799,.4432284,-.477109,-.116241,.2719092,.7208626,.9104174,.3578536,-.5956199,.7662588,-.6996251,.3678654,-.2514512,.9251933,.1275825,-.9478135,-.204608,-.8611552,.4264838,-.877443,.9854161,.05521112,.5912951,.7997434,.1140349,.982093,-.9324368,-.2094094,-.42436,-.6441524,-.6722705,-.3554261,-.7844236,.08587621);this._distributions[31]=new Array(-.4206714,-.5613642,-.8733016,-.3373051,-.1046226,-.2902999,-.1318562,-.8434365,.1145093,-.5962623,-.4965627,-.1873259,-.5011808,-.8546229,-.7165636,-.5743566,.1090901,.2017643,.3404809,-.220455,-.1989015,.2372122,-.4538706,.0979171,.4514146,-.572846,.2314168,-.8514503,-.4247236,.5650803,-.943347,.04514639,-.1309718,.5221877,-.7004157,.4561877,.6306441,.04448673,.4301621,.5766876,.1078042,.7245752,.3875354,.2794483,.702876,-.2924213,.7360667,-.6210318,.7486517,.6531103,.4898235,.8591025,.6549174,.3854057,-.2596106,.7916998,.9251194,-.05296265,-.5620695,.820877,-.01228026,.9937211,.9612103,.2628758)};t.getDistribution=function(t){if(!this._distributions)this.initDistributions();if(t<2||t>32)return null;return this._distributions[t-1]};return t}();e.exports=r},{}],"awayjs-core/lib/geom/Quaternion":[function(t,e,i){var r=t("awayjs-core/lib/geom/Matrix3DUtils");var s=t("awayjs-core/lib/geom/Orientation3D");var a=t("awayjs-core/lib/geom/Matrix3D");var n=t("awayjs-core/lib/geom/Vector3D");var o=function(){function t(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=1}this.x=0;this.y=0;this.z=0;this.w=1;this.x=t;this.y=e;this.z=i;this.w=r}Object.defineProperty(t.prototype,"magnitude",{get:function(){return Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z)},enumerable:true,configurable:true});t.prototype.multiply=function(t,e){var i=t.w,r=t.x,s=t.y,a=t.z;var n=e.w,o=e.x,h=e.y,u=e.z;this.w=i*n-r*o-s*h-a*u;this.x=i*o+r*n+s*u-a*h;this.y=i*h-r*u+s*n+a*o;this.z=i*u+r*h-s*o+a*n};t.prototype.multiplyVector=function(e,i){if(i===void 0){i=null}if(i===null){i=new t}var r=e.x;var s=e.y;var a=e.z;i.w=-this.x*r-this.y*s-this.z*a;i.x=this.w*r+this.y*a-this.z*s;i.y=this.w*s-this.x*a+this.z*r;i.z=this.w*a+this.x*s-this.y*r;return i};t.prototype.fromAxisAngle=function(t,e){var i=Math.sin(e/2);var r=Math.cos(e/2);this.x=t.x*i;this.y=t.y*i;this.z=t.z*i;this.w=r;this.normalize()};t.prototype.slerp=function(t,e,i){var r=t.w,s=t.x,a=t.y,n=t.z;var o=e.w,h=e.x,u=e.y,c=e.z;var p=r*o+s*h+a*u+n*c;if(p<0){p=-p;o=-o;h=-h;u=-u;c=-c}if(p<.95){var l=Math.acos(p);var f=1/Math.sin(l);var y=Math.sin(l*(1-i))*f;var _=Math.sin(l*i)*f;this.w=r*y+o*_;this.x=s*y+h*_;this.y=a*y+u*_;this.z=n*y+c*_}else{this.w=r+i*(o-r);this.x=s+i*(h-s);this.y=a+i*(u-a);this.z=n+i*(c-n);var d=1/Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z);this.w*=d;this.x*=d;this.y*=d;this.z*=d}};t.prototype.lerp=function(t,e,i){var r=t.w,s=t.x,a=t.y,n=t.z;var o=e.w,h=e.x,u=e.y,c=e.z;var p;if(r*o+s*h+a*u+n*c<0){o=-o;h=-h;u=-u;c=-c}this.w=r+i*(o-r);this.x=s+i*(h-s);this.y=a+i*(u-a);this.z=n+i*(c-n);p=1/Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z);this.w*=p;this.x*=p;this.y*=p;this.z*=p};t.prototype.fromEulerAngles=function(t,e,i){var r=t*.5,s=e*.5,a=i*.5;var n=Math.cos(r),o=Math.sin(r);var h=Math.cos(s),u=Math.sin(s);var c=Math.cos(a),p=Math.sin(a);this.w=n*h*c+o*u*p;this.x=o*h*c-n*u*p;this.y=n*u*c+o*h*p;this.z=n*h*p-o*u*c};t.prototype.toEulerAngles=function(t){if(t===void 0){t=null}if(t===null){t=new n}t.x=Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y));t.y=Math.asin(2*(this.w*this.y-this.z*this.x));t.z=Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z));return t};t.prototype.normalize=function(t){if(t===void 0){t=1}var e=t/Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);this.x*=e;this.y*=e;this.z*=e;this.w*=e};t.prototype.toString=function(){return"{x:"+this.x+" y:"+this.y+" z:"+this.z+" w:"+this.w+"}"};t.prototype.toMatrix3D=function(t){if(t===void 0){t=null}var e=r.RAW_DATA_CONTAINER;var i=2*this.x*this.y,s=2*this.x*this.z,n=2*this.x*this.w;var o=2*this.y*this.z,h=2*this.y*this.w,u=2*this.z*this.w;var c=this.x*this.x,p=this.y*this.y,l=this.z*this.z,f=this.w*this.w;e[0]=c-p-l+f;e[4]=i-u;e[8]=s+h;e[12]=0;e[1]=i+u;e[5]=-c+p-l+f;e[9]=o-n;e[13]=0;e[2]=s-h;e[6]=o+n;e[10]=-c-p+l+f;e[14]=0;e[3]=0;e[7]=0;e[11]=0;e[15]=1;if(!t)return new a(e);t.copyRawDataFrom(e);return t};t.prototype.fromMatrix=function(t){var e=t.decompose(s.QUATERNION)[1];this.x=e.x;this.y=e.y;this.z=e.z;this.w=e.w};t.prototype.toRawData=function(t,e){if(e===void 0){e=false}var i=2*this.x*this.y,r=2*this.x*this.z,s=2*this.x*this.w;var a=2*this.y*this.z,n=2*this.y*this.w,o=2*this.z*this.w;var h=this.x*this.x,u=this.y*this.y,c=this.z*this.z,p=this.w*this.w;t[0]=h-u-c+p;t[1]=i-o;t[2]=r+n;t[4]=i+o;t[5]=-h+u-c+p;t[6]=a-s;t[8]=r-n;t[9]=a+s;t[10]=-h-u+c+p;t[3]=t[7]=t[11]=0;if(!e){t[12]=t[13]=t[14]=0;t[15]=1}};t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.w)};t.prototype.rotatePoint=function(t,e){if(e===void 0){e=null}var i,r,s,a;var o=t.x,h=t.y,u=t.z;if(e===null){e=new n}a=-this.x*o-this.y*h-this.z*u;i=this.w*o+this.y*u-this.z*h;r=this.w*h-this.x*u+this.z*o;s=this.w*u+this.x*h-this.y*o;e.x=-a*this.x+i*this.w-r*this.z+s*this.y;e.y=-a*this.y+i*this.z+r*this.w-s*this.x;e.z=-a*this.z-i*this.y+r*this.x+s*this.w;return e};t.prototype.copyFrom=function(t){this.x=t.x;this.y=t.y;this.z=t.z;this.w=t.w};return t}();e.exports=o},{"awayjs-core/lib/geom/Matrix3D":"awayjs-core/lib/geom/Matrix3D","awayjs-core/lib/geom/Matrix3DUtils":"awayjs-core/lib/geom/Matrix3DUtils","awayjs-core/lib/geom/Orientation3D":"awayjs-core/lib/geom/Orientation3D","awayjs-core/lib/geom/Vector3D":"awayjs-core/lib/geom/Vector3D"}],"awayjs-core/lib/geom/Rectangle":[function(t,e,i){var r=t("awayjs-core/lib/geom/Point");var s=function(){function t(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=0}this.x=t;this.y=e;this.width=i;this.height=r}Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"bottomRight",{get:function(){if(this._bottomRight==null)this._bottomRight=new r;this._bottomRight.x=this.x+this.width;this._bottomRight.y=this.y+this.height;return this._bottomRight},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"size",{get:function(){if(this._size==null)this._size=new r;this._size.x=this.width;this._size.y=this.height;return this._size},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"topLeft",{get:function(){if(this._topLeft==null)this._topLeft=new r;this._topLeft.x=this.x;this._topLeft.y=this.y;return this._topLeft},enumerable:true,configurable:true});t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)};t.prototype.contains=function(t,e){return this.x<=t&&this.x+this.width>=t&&this.y<=e&&this.y+this.height>=e};t.prototype.containsPoint=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y};t.prototype.containsRect=function(t){return this.x<=t.x&&this.x+this.width>=t.x+t.width&&this.y<=t.y&&this.y+this.height>=t.y+t.height};t.prototype.copyFrom=function(t){};t.prototype.equals=function(t){return this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height};t.prototype.inflate=function(t,e){this.x-=t/2;this.y-=e/2;this.width+=t/2;this.height+=e/2};t.prototype.inflatePoint=function(t){this.x-=t.x/2;this.y-=t.y/2;this.width+=t.x/2;this.height+=t.y/2};t.prototype.intersection=function(e){if(this.intersects(e)){var i=new t;if(this.x>e.x){i.x=this.x;i.width=e.x-this.x+e.width;if(i.width>this.width)i.width=this.width}else{i.x=e.x;i.width=this.x-e.x+this.width;if(i.width>e.width)i.width=e.width}if(this.y>e.y){i.y=this.y;i.height=e.y-this.y+e.height;if(i.height>this.height)i.height=this.height}else{i.y=e.y;i.height=this.y-e.y+this.height;if(i.height>e.height)i.height=e.height}return i}return new t};t.prototype.intersects=function(t){return this.x+this.width>t.x&&this.x<t.x+t.width&&this.y+this.height>t.y&&this.y<t.y+t.height};t.prototype.isEmpty=function(){return this.x==0&&this.y==0&&this.width==0&&this.height==0};t.prototype.offset=function(t,e){this.x+=t;this.y+=e};t.prototype.offsetPoint=function(t){this.x+=t.x;this.y+=t.y};t.prototype.setEmpty=function(){this.x=0;this.y=0;this.width=0;this.height=0};t.prototype.setTo=function(t,e,i,r){this.x=t;this.y=e;this.width=i;this.height=r};t.prototype.toString=function(){return"[Rectangle] (x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"};t.prototype.union=function(e){var i=new t;if(this.x<e.x){i.x=this.x;i.width=e.x-this.x+e.width;if(i.width<this.width)i.width=this.width}else{i.x=e.x;i.width=this.x-e.x+this.width;if(i.width<e.width)i.width=e.width}if(this.y<e.y){i.y=this.y;i.height=e.y-this.y+e.height;if(i.height<this.height)i.height=this.height}else{i.y=e.y;i.height=this.y-e.y+this.height;if(i.height<e.height)i.height=e.height}return i};return t}();e.exports=s},{"awayjs-core/lib/geom/Point":"awayjs-core/lib/geom/Point"}],"awayjs-core/lib/geom/Sphere":[function(t,e,i){var r=function(){function t(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=0}this.x=t;this.y=e;this.z=i;this.radius=r}t.prototype.rayIntersection=function(t,e,i){if(this.containsPoint(t))return 0;var r=t.x-this.x,s=t.y-this.y,a=t.z-this.z;var n=e.x,o=e.y,h=e.z;var u;var c=n*n+o*o+h*h;var p=2*(r*n+s*o+a*h);var l=r*r+s*s+a*a-this.radius*this.radius;var f=p*p-4*c*l;if(f>=0){var y=Math.sqrt(f);u=(-p-y)/(2*c);if(u>=0){i.x=r+u*n;i.y=s+u*o;i.z=a+u*h;i.normalize();return u}}return-1};t.prototype.containsPoint=function(t){var e=t.x-this.x;var i=t.y-this.y;var r=t.z-this.z;var s=Math.sqrt(e*e+i*i+r*r);return s<=this.radius};t.prototype.toString=function(){return"Sphere [x:"+this.x+", y:"+this.y+", z:"+this.z+", radius:"+this.radius+"]"};return t}();e.exports=r},{}],"awayjs-core/lib/geom/UVTransform":[function(t,e,i){var r=t("awayjs-core/lib/geom/Matrix");var s=function(){function t(){this._uvMatrix=new r;this._rotation=0;this._scaleU=1;this._scaleV=1;this._offsetU=0;this._offsetV=0}Object.defineProperty(t.prototype,"offsetU",{get:function(){return this._offsetU},set:function(t){if(t==this._offsetU)return;this._offsetU=t;this._uvMatrixDirty=true},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"offsetV",{get:function(){return this._offsetV},set:function(t){if(t==this._offsetV)return;this._offsetV=t;this._uvMatrixDirty=true},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){if(t==this._rotation)return;this._rotation=t;this._uvMatrixDirty=true},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"scaleU",{get:function(){return this._scaleU},set:function(t){if(t==this._scaleU)return;this._scaleU=t;this._uvMatrixDirty=true},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"scaleV",{get:function(){return this._scaleV},set:function(t){if(t==this._scaleV)return;this._scaleV=t;this._uvMatrixDirty=true},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"matrix",{get:function(){if(this._uvMatrixDirty)this.updateUVMatrix();return this._uvMatrix},enumerable:true,configurable:true});t.prototype.updateUVMatrix=function(){this._uvMatrix.identity();if(this._rotation!=0)this._uvMatrix.rotate(this._rotation);if(this._scaleU!=1||this._scaleV!=1)this._uvMatrix.scale(this._scaleU,this._scaleV);this._uvMatrix.translate(this._offsetU,this._offsetV);this._uvMatrixDirty=false};return t}();e.exports=s},{"awayjs-core/lib/geom/Matrix":"awayjs-core/lib/geom/Matrix"}],"awayjs-core/lib/geom/Vector3D":[function(t,e,i){var r=function(){function t(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=0}this.x=t;this.y=e;this.z=i;this.w=r}Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.lengthSquared)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"lengthSquared",{get:function(){return this.x*this.x+this.y*this.y+this.z*this.z},enumerable:true,configurable:true});t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y,this.z+e.z,this.w+e.w)};t.angleBetween=function(t,e){return Math.acos(t.dotProduct(e)/(t.length*e.length))};t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.w)};t.prototype.copyFrom=function(t){this.x=t.x;this.y=t.y;this.z=t.z;this.w=t.w};t.prototype.crossProduct=function(e){return new t(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x,1)};t.prototype.decrementBy=function(t){this.x-=t.x;this.y-=t.y;this.z-=t.z};t.distance=function(t,e){var i=t.x-e.x;var r=t.y-e.y;var s=t.z-e.z;return Math.sqrt(i*i+r*r+s*s)};t.prototype.dotProduct=function(t){return this.x*t.x+this.y*t.y+this.z*t.z};t.prototype.equals=function(t,e){if(e===void 0){e=false}return this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)};t.prototype.incrementBy=function(t){this.x+=t.x;this.y+=t.y;this.z+=t.z};t.prototype.nearEquals=function(t,e,i){if(i===void 0){i=true}return Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!i||Math.abs(this.w-t.w)<e)};t.prototype.negate=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};t.prototype.normalize=function(t){if(t===void 0){t=1}if(this.length!=0){var e=t/this.length;this.x*=e;this.y*=e;this.z*=e;return}};t.prototype.project=function(){this.x/=this.w;this.y/=this.w;this.z/=this.w};t.prototype.scaleBy=function(t){this.x*=t;this.y*=t;this.z*=t};t.prototype.setTo=function(t,e,i){this.x=t;this.y=e;this.z=i};t.prototype.subtract=function(e){return new t(this.x-e.x,this.y-e.y,this.z-e.z)};t.prototype.toString=function(){return"[Vector3D] (x:"+this.x+" ,y:"+this.y+", z"+this.z+", w:"+this.w+")"};t.X_AXIS=new t(1,0,0);t.Y_AXIS=new t(0,1,0);t.Z_AXIS=new t(0,0,1);return t}();e.exports=r},{}],"awayjs-core/lib/library/AssetLibraryBundle":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/library/AssetLibraryIterator");var a=t("awayjs-core/lib/library/AssetLoader");var n=t("awayjs-core/lib/library/ConflictPrecedence");var o=t("awayjs-core/lib/library/ConflictStrategy");var h=t("awayjs-core/lib/library/NamedAssetBase");var u=t("awayjs-core/lib/errors/Error");var c=t("awayjs-core/lib/events/AssetEvent");var p=t("awayjs-core/lib/events/IOErrorEvent");var l=t("awayjs-core/lib/events/LoaderEvent");var f=t("awayjs-core/lib/events/EventDispatcher");var y=t("awayjs-core/lib/events/ParserEvent");var _=function(t){r(e,t);function e(){var e=this;t.call(this);this._loadingSessionsGarbage=new Array;this._assets=new Array;this._assetDictionary=new Object;this._loadingSessions=new Array;this.conflictStrategy=o.IGNORE.create();this.conflictPrecedence=n.FAVOR_NEW;this._onAssetRenameDelegate=function(t){return e.onAssetRename(t)};this._onAssetConflictResolvedDelegate=function(t){return e.onAssetConflictResolved(t)};this._onResourceCompleteDelegate=function(t){return e.onResourceComplete(t)};this._onTextureSizeErrorDelegate=function(t){return e.onTextureSizeError(t)};this._onAssetCompleteDelegate=function(t){return e.onAssetComplete(t)};this._onLoadErrorDelegate=function(t){return e.onLoadError(t)};this._onParseErrorDelegate=function(t){return e.onParseError(t)}}e.getInstance=function(t){if(t===void 0){t="default"}if(!t)t="default";if(!e._iInstances.hasOwnProperty(t))e._iInstances[t]=new e;return e._iInstances[t]};e.prototype.enableParser=function(t){a.enableParser(t)};e.prototype.enableParsers=function(t){a.enableParsers(t)};Object.defineProperty(e.prototype,"conflictStrategy",{get:function(){return this._strategy},set:function(t){if(!t)throw new u("namingStrategy must not be null. To ignore naming, use AssetLibrary.IGNORE");this._strategy=t.create()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"conflictPrecedence",{get:function(){return this._strategyPreference},set:function(t){this._strategyPreference=t},enumerable:true,configurable:true});e.prototype.createIterator=function(t,e,i){if(t===void 0){t=null}if(e===void 0){e=null}if(i===void 0){i=null}return new s(this._assets,t,e,i)};e.prototype.load=function(t,e,i,r){if(e===void 0){e=null}if(i===void 0){i=null}if(r===void 0){r=null}var s=new a;if(!this._loadingSessions)this._loadingSessions=new Array;this._loadingSessions.push(s);s.addEventListener(l.RESOURCE_COMPLETE,this._onResourceCompleteDelegate);s.addEventListener(c.TEXTURE_SIZE_ERROR,this._onTextureSizeErrorDelegate);s.addEventListener(c.ASSET_COMPLETE,this._onAssetCompleteDelegate);s._iAddErrorHandler(this._onLoadErrorDelegate);s._iAddParseErrorHandler(this._onParseErrorDelegate);return s.load(t,e,i,r)};e.prototype.loadData=function(t,e,i,r){if(e===void 0){e=null}if(i===void 0){i=null}if(r===void 0){r=null}var s=new a;if(!this._loadingSessions)this._loadingSessions=new Array;this._loadingSessions.push(s);s.addEventListener(l.RESOURCE_COMPLETE,this._onResourceCompleteDelegate);s.addEventListener(c.TEXTURE_SIZE_ERROR,this._onTextureSizeErrorDelegate);s.addEventListener(c.ASSET_COMPLETE,this._onAssetCompleteDelegate);s._iAddErrorHandler(this._onLoadErrorDelegate);s._iAddParseErrorHandler(this._onParseErrorDelegate);return s.loadData(t,"",e,i,r)};e.prototype.getAsset=function(t,e){if(e===void 0){e=null}if(this._assetDictDirty)this.rehashAssetDict();if(e==null)e=h.DEFAULT_NAMESPACE;if(!this._assetDictionary.hasOwnProperty(e))return null;return this._assetDictionary[e][t]};e.prototype.addAsset=function(t){var e;var i;if(this._assets.indexOf(t)>=0)return;i=this.getAsset(t.name,t.assetNamespace);e=t.assetNamespace||h.DEFAULT_NAMESPACE;if(i!=null)this._strategy.resolveConflict(t,i,this._assetDictionary[e],this._strategyPreference);this._assets.push(t);if(!this._assetDictionary.hasOwnProperty(e))this._assetDictionary[e]=new Object;this._assetDictionary[e][t.name]=t;t.addEventListener(c.ASSET_RENAME,this._onAssetRenameDelegate);t.addEventListener(c.ASSET_CONFLICT_RESOLVED,this._onAssetConflictResolvedDelegate)};e.prototype.removeAsset=function(t,e){if(e===void 0){e=true}var i;this.removeAssetFromDict(t);t.removeEventListener(c.ASSET_RENAME,this._onAssetRenameDelegate);t.removeEventListener(c.ASSET_CONFLICT_RESOLVED,this._onAssetConflictResolvedDelegate);i=this._assets.indexOf(t);if(i>=0)this._assets.splice(i,1);if(e)t.dispose()};e.prototype.removeAssetByName=function(t,e,i){if(e===void 0){e=null}if(i===void 0){i=true}var r=this.getAsset(t,e);if(r)this.removeAsset(r,i);return r};e.prototype.removeAllAssets=function(t){if(t===void 0){t=true}if(t){var e;for(var i=0;i<this._assets.length;i++){e=this._assets[i];e.dispose()}}this._assets.length=0;this.rehashAssetDict()};e.prototype.removeNamespaceAssets=function(t,e){if(t===void 0){t=null}if(e===void 0){e=true}var i=0;var r;var s;s=this._assets.concat();this._assets.length=0;if(t==null)t=h.DEFAULT_NAMESPACE;for(var a=0;a<s.length;a++){r=s[a];if(r.assetNamespace==t){if(e)r.dispose();this.removeAssetFromDict(r,false)}else{this._assets[i++]=r}}if(this._assetDictionary.hasOwnProperty(t))delete this._assetDictionary[t]};e.prototype.removeAssetFromDict=function(t,e){if(e===void 0){e=true}if(this._assetDictDirty)this.rehashAssetDict();if(this._assetDictionary.hasOwnProperty(t.assetNamespace)){if(this._assetDictionary[t.assetNamespace].hasOwnProperty(t.name))delete this._assetDictionary[t.assetNamespace][t.name];if(e){var i;var r=true;for(i in this._assetDictionary[t.assetNamespace]){r=false;break}if(r)delete this._assetDictionary[t.assetNamespace]}}};e.prototype.stopAllLoadingSessions=function(){var t;if(!this._loadingSessions)this._loadingSessions=new Array;var e=this._loadingSessions.length;for(t=0;t<e;t++)this.killLoadingSession(this._loadingSessions[t]);this._loadingSessions=null};e.prototype.rehashAssetDict=function(){var t;this._assetDictionary={};var e=this._assets.length;for(var i=0;i<e;i++){t=this._assets[i];if(!this._assetDictionary.hasOwnProperty(t.assetNamespace))this._assetDictionary[t.assetNamespace]={};this._assetDictionary[t.assetNamespace][t.name]=t}this._assetDictDirty=false};e.prototype.onLoadError=function(t){if(this.hasEventListener(p.IO_ERROR)){this.dispatchEvent(t);return true}else{return false}};e.prototype.onParseError=function(t){if(this.hasEventListener(y.PARSE_ERROR)){this.dispatchEvent(t);return true}else{return false}};e.prototype.onAssetComplete=function(t){if(t.type==c.ASSET_COMPLETE)this.addAsset(t.asset);this.dispatchEvent(t)};e.prototype.onTextureSizeError=function(t){this.dispatchEvent(t)};e.prototype.onResourceComplete=function(t){var e=this;var i=t.target;this.dispatchEvent(t);var r=this._loadingSessions.indexOf(i);this._loadingSessions.splice(r,1);this._loadingSessionsGarbage.push(i);this._gcTimeoutIID=setTimeout(function(){e.loadingSessionGC()},100)};e.prototype.loadingSessionGC=function(){var t;while(this._loadingSessionsGarbage.length>0){t=this._loadingSessionsGarbage.pop();this.killLoadingSession(t)}clearTimeout(this._gcTimeoutIID);this._gcTimeoutIID=null};e.prototype.killLoadingSession=function(t){t.removeEventListener(l.RESOURCE_COMPLETE,this._onResourceCompleteDelegate);t.removeEventListener(c.TEXTURE_SIZE_ERROR,this._onTextureSizeErrorDelegate);t.removeEventListener(c.ASSET_COMPLETE,this._onAssetCompleteDelegate);t.stop()};e.prototype.onAssetRename=function(t){var e=t.target;var i=this.getAsset(e.assetNamespace,e.name);if(i!=null){this._strategy.resolveConflict(e,i,this._assetDictionary[e.assetNamespace],this._strategyPreference)
}else{var r=this._assetDictionary[t.asset.assetNamespace];if(r==null)return;r[t.assetPrevName]=null;r[t.asset.name]=t.asset}};e.prototype.onAssetConflictResolved=function(t){this.dispatchEvent(t.clone())};e._iInstances=new Object;return e}(f);e.exports=_},{"awayjs-core/lib/errors/Error":"awayjs-core/lib/errors/Error","awayjs-core/lib/events/AssetEvent":"awayjs-core/lib/events/AssetEvent","awayjs-core/lib/events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher","awayjs-core/lib/events/IOErrorEvent":"awayjs-core/lib/events/IOErrorEvent","awayjs-core/lib/events/LoaderEvent":"awayjs-core/lib/events/LoaderEvent","awayjs-core/lib/events/ParserEvent":"awayjs-core/lib/events/ParserEvent","awayjs-core/lib/library/AssetLibraryIterator":"awayjs-core/lib/library/AssetLibraryIterator","awayjs-core/lib/library/AssetLoader":"awayjs-core/lib/library/AssetLoader","awayjs-core/lib/library/ConflictPrecedence":"awayjs-core/lib/library/ConflictPrecedence","awayjs-core/lib/library/ConflictStrategy":"awayjs-core/lib/library/ConflictStrategy","awayjs-core/lib/library/NamedAssetBase":"awayjs-core/lib/library/NamedAssetBase"}],"awayjs-core/lib/library/AssetLibraryIterator":[function(t,e,i){var r=function(){function t(t,e,i,r){this._assets=t;this.filter(e,i,r)}Object.defineProperty(t.prototype,"currentAsset",{get:function(){return this._idx<this._filtered.length?this._filtered[this._idx]:null},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"numAssets",{get:function(){return this._filtered.length},enumerable:true,configurable:true});t.prototype.next=function(){var t=null;if(this._idx<this._filtered.length)t=this._filtered[this._idx];this._idx++;return t};t.prototype.reset=function(){this._idx=0};t.prototype.setIndex=function(t){this._idx=t};t.prototype.filter=function(t,e,i){if(t||e){var r;var s;r=0;this._filtered=new Array;var a=this._assets.length;for(var n=0;n<a;n++){s=this._assets[n];if(t&&s.assetType!=t)continue;if(e&&s.assetNamespace!=e)continue;if(i!=null&&!i(s))continue;this._filtered[r++]=s}}else{this._filtered=this._assets}};return t}();e.exports=r},{}],"awayjs-core/lib/library/AssetLibrary":[function(t,e,i){var r=t("awayjs-core/lib/library/AssetLibraryBundle");var s=t("awayjs-core/lib/library/AssetLoader");var a=function(){function t(){}t.getBundle=function(t){if(t===void 0){t="default"}return r.getInstance(t)};t.enableParser=function(t){s.enableParser(t)};t.enableParsers=function(t){s.enableParsers(t)};Object.defineProperty(t,"conflictStrategy",{get:function(){return t.getBundle().conflictStrategy},set:function(e){t.getBundle().conflictStrategy=e},enumerable:true,configurable:true});Object.defineProperty(t,"conflictPrecedence",{get:function(){return t.getBundle().conflictPrecedence},set:function(e){t.getBundle().conflictPrecedence=e},enumerable:true,configurable:true});t.createIterator=function(e,i,r){if(e===void 0){e=null}if(i===void 0){i=null}if(r===void 0){r=null}return t.getBundle().createIterator(e,i,r)};t.load=function(e,i,r,s){if(i===void 0){i=null}if(r===void 0){r=null}if(s===void 0){s=null}return t.getBundle().load(e,i,r,s)};t.loadData=function(e,i,r,s){if(i===void 0){i=null}if(r===void 0){r=null}if(s===void 0){s=null}return t.getBundle().loadData(e,i,r,s)};t.stopLoad=function(){t.getBundle().stopAllLoadingSessions()};t.getAsset=function(e,i){if(i===void 0){i=null}return t.getBundle().getAsset(e,i)};t.addEventListener=function(e,i){t.getBundle().addEventListener(e,i)};t.removeEventListener=function(e,i){t.getBundle().removeEventListener(e,i)};t.addAsset=function(e){t.getBundle().addAsset(e)};t.removeAsset=function(e,i){if(i===void 0){i=true}t.getBundle().removeAsset(e,i)};t.removeAssetByName=function(e,i,r){if(i===void 0){i=null}if(r===void 0){r=true}return t.getBundle().removeAssetByName(e,i,r)};t.removeAllAssets=function(e){if(e===void 0){e=true}t.getBundle().removeAllAssets(e)};t.removeNamespaceAssets=function(e,i){if(e===void 0){e=null}if(i===void 0){i=true}t.getBundle().removeNamespaceAssets(e,i)};return t}();e.exports=a},{"awayjs-core/lib/library/AssetLibraryBundle":"awayjs-core/lib/library/AssetLibraryBundle","awayjs-core/lib/library/AssetLoader":"awayjs-core/lib/library/AssetLoader"}],"awayjs-core/lib/library/AssetLoaderContext":[function(t,e,i){var r=function(){function t(e,i){if(e===void 0){e=true}if(i===void 0){i=null}this._includeDependencies=e;this._dependencyBaseUrl=i||"";this._embeddedDataByUrl={};this._remappedUrls={};this._materialMode=t.UNDEFINED}Object.defineProperty(t.prototype,"includeDependencies",{get:function(){return this._includeDependencies},set:function(t){this._includeDependencies=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"materialMode",{get:function(){return this._materialMode},set:function(t){this._materialMode=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"dependencyBaseUrl",{get:function(){return this._dependencyBaseUrl},set:function(t){this._dependencyBaseUrl=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"overrideAbsolutePaths",{get:function(){return this._overrideAbsPath},set:function(t){this._overrideAbsPath=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"overrideFullURLs",{get:function(){return this._overrideFullUrls},set:function(t){this._overrideFullUrls=t},enumerable:true,configurable:true});t.prototype.mapUrl=function(t,e){this._remappedUrls[t]=e};t.prototype.mapUrlToData=function(t,e){this._embeddedDataByUrl[t]=e};t.prototype._iHasDataForUrl=function(t){return this._embeddedDataByUrl.hasOwnProperty(t)};t.prototype._iGetDataForUrl=function(t){return this._embeddedDataByUrl[t]};t.prototype._iHasMappingForUrl=function(t){return this._remappedUrls.hasOwnProperty(t)};t.prototype._iGetRemappedUrl=function(t){return this._remappedUrls[t]};t.UNDEFINED=0;t.SINGLEPASS_MATERIALS=1;t.MULTIPASS_MATERIALS=2;return t}();e.exports=r},{}],"awayjs-core/lib/library/AssetLoaderToken":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/events/EventDispatcher");var a=function(t){r(e,t);function e(e){t.call(this);this._iLoader=e}e.prototype.addEventListener=function(t,e){this._iLoader.addEventListener(t,e)};e.prototype.removeEventListener=function(t,e){this._iLoader.removeEventListener(t,e)};e.prototype.hasEventListener=function(t,e){if(e===void 0){e=null}return this._iLoader.hasEventListener(t,e)};return e}(s);e.exports=a},{"awayjs-core/lib/events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher"}],"awayjs-core/lib/library/AssetLoader":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/library/AssetLoaderToken");var a=t("awayjs-core/lib/net/URLLoader");var n=t("awayjs-core/lib/net/URLLoaderDataFormat");var o=t("awayjs-core/lib/errors/Error");var h=t("awayjs-core/lib/events/AssetEvent");var u=t("awayjs-core/lib/events/Event");var c=t("awayjs-core/lib/events/EventDispatcher");var p=t("awayjs-core/lib/events/IOErrorEvent");var l=t("awayjs-core/lib/events/LoaderEvent");var f=t("awayjs-core/lib/events/ParserEvent");var y=t("awayjs-core/lib/parsers/CubeTextureParser");var _=t("awayjs-core/lib/parsers/ResourceDependency");var d=t("awayjs-core/lib/parsers/Texture2DParser");var v=function(t){r(e,t);function e(e){var i=this;if(e===void 0){e=0}t.call(this);this._materialMode=e;this._stack=new Array;this._errorHandlers=new Array;this._parseErrorHandlers=new Array;this._onReadyForDependenciesDelegate=function(t){return i.onReadyForDependencies(t)};this._onParseCompleteDelegate=function(t){return i.onParseComplete(t)};this._onParseErrorDelegate=function(t){return i.onParseError(t)};this._onLoadCompleteDelegate=function(t){return i.onLoadComplete(t)};this._onLoadErrorDelegate=function(t){return i.onLoadError(t)};this._onTextureSizeErrorDelegate=function(t){return i.onTextureSizeError(t)};this._onAssetCompleteDelegate=function(t){return i.onAssetComplete(t)}}e.enableParser=function(t){if(e._parsers.indexOf(t)<0)e._parsers.push(t)};e.enableParsers=function(t){for(var i=0;i<t.length;i++)e.enableParser(t[i])};Object.defineProperty(e.prototype,"baseDependency",{get:function(){return this._baseDependency},enumerable:true,configurable:true});e.prototype.load=function(t,e,i,r){if(e===void 0){e=null}if(i===void 0){i=null}if(r===void 0){r=null}if(!this._token){this._token=new s(this);this._uri=t.url=t.url.replace(/\\/g,"/");this._context=e;this._namespace=i;this._baseDependency=new _("",t,null,r,null);this.retrieveDependency(this._baseDependency);return this._token}return null};e.prototype.loadData=function(t,e,i,r,a){if(i===void 0){i=null}if(r===void 0){r=null}if(a===void 0){a=null}if(!this._token){this._token=new s(this);this._uri=e;this._context=i;this._namespace=r;this._baseDependency=new _(e,null,t,a,null);this.retrieveDependency(this._baseDependency);return this._token}return null};e.prototype.retrieveNext=function(t){if(t===void 0){t=null}if(this._currentDependency.dependencies.length){var e=this._currentDependency.dependencies.pop();this._stack.push(this._currentDependency);this.retrieveDependency(e)}else if(this._currentDependency.parser&&this._currentDependency.parser.parsingPaused){this._currentDependency.parser._iResumeParsingAfterDependencies();this._stack.pop()}else if(this._stack.length){var i=this._currentDependency;this._currentDependency=this._stack.pop();if(i._iSuccess)i.resolve();this.retrieveNext(t)}else{this.dispatchEvent(new l(l.RESOURCE_COMPLETE,this._uri,this._baseDependency.parser.content,this._baseDependency.assets))}};e.prototype.retrieveDependency=function(t){var e;if(this._context&&this._context.materialMode!=0)this._materialMode=this._context.materialMode;this._currentDependency=t;t._iLoader=new a;this.addEventListeners(t._iLoader);e=t.data;if(this._context&&t.request&&this._context._iHasDataForUrl(t.request.url))e=this._context._iGetDataForUrl(t.request.url);if(e){if(e.constructor===Function)e=new e;t._iSetData(e);if(t.retrieveAsRawData){t.resolve();this.retrieveNext()}else{this.parseDependency(t)}}else{t.request.url=this.resolveDependencyUrl(t);if(t.retrieveAsRawData){t._iLoader.dataFormat=n.BINARY}else{if(!t.parser)t._iSetParser(this.getParserFromSuffix(t.request.url));if(t.parser){t._iLoader.dataFormat=t.parser.dataFormat}else{t._iLoader.dataFormat=n.BINARY}}t._iLoader.load(t.request)}};e.prototype.joinUrl=function(t,e){if(e.charAt(0)=="/")e=e.substr(1);if(t.length==0)return e;if(t.charAt(t.length-1)=="/")t=t.substr(0,t.length-1);return t.concat("/",e)};e.prototype.resolveDependencyUrl=function(t){var e;var i;var r=t.request.url;if(this._context&&this._context._iHasMappingForUrl(r))return this._context._iGetRemappedUrl(r);if(r==this._uri)return r;e=new RegExp("/^[a-zA-Z]{3,4}:///");if(r.charAt(0)=="/"){if(this._context&&this._context.overrideAbsolutePaths)return this.joinUrl(this._context.dependencyBaseUrl,r);else return r}else if(e.test(r)){if(this._context&&this._context.overrideFullURLs){var s=r.replace(e,"");return this.joinUrl(this._context.dependencyBaseUrl,s)}}if(this._context&&this._context.dependencyBaseUrl){i=this._context.dependencyBaseUrl;return this.joinUrl(i,r)}else{i=this._uri.substring(0,this._uri.lastIndexOf("/")+1);return this.joinUrl(i,r)}};e.prototype.retrieveParserDependencies=function(){if(!this._currentDependency)return;var t=this._currentDependency.parser.dependencies;var e,i=t.length;for(e=0;e<i;e++)this._currentDependency.dependencies[e]=t[e];t.length=0;this._stack.push(this._currentDependency);this.retrieveNext()};e.prototype.resolveParserDependencies=function(){this._currentDependency._iSuccess=true;if(this._currentDependency.parser&&this._currentDependency.parser.dependencies.length&&(!this._context||this._context.includeDependencies))this.retrieveParserDependencies();else this.retrieveNext()};e.prototype.onLoadError=function(t){var e;var i=this._currentDependency!=this._baseDependency;var r=t.target;this.removeEventListeners(r);if(this.hasEventListener(p.IO_ERROR)){this.dispatchEvent(t);e=true}else{var s,a=this._errorHandlers.length;for(s=0;s<a;s++)if(!e)e=this._errorHandlers[s](t)}if(e){if(i){this._currentDependency.resolveFailure();this.retrieveNext()}else{this.dispose();return}}else{throw new o}};e.prototype.onParseError=function(t){var e;var i=this._currentDependency!=this._baseDependency;var r=t.target;this.removeEventListeners(r);if(this.hasEventListener(f.PARSE_ERROR)){this.dispatchEvent(t);e=true}else{var s,a=this._parseErrorHandlers.length;for(s=0;s<a;s++)if(!e)e=this._parseErrorHandlers[s](t)}if(e){this.dispose();return}else{throw new o(t.message)}};e.prototype.onAssetComplete=function(t){if(this._currentDependency)this._currentDependency.assets.push(t.asset);t.asset.resetAssetPath(t.asset.name,this._namespace);if(!this._currentDependency.suppresAssetEvents)this.dispatchEvent(t)};e.prototype.onReadyForDependencies=function(t){var e=t.target;if(this._context&&!this._context.includeDependencies)e._iResumeParsingAfterDependencies();else this.retrieveParserDependencies()};e.prototype.onLoadComplete=function(t){var e=t.target;this.removeEventListeners(e);this._currentDependency._iSetData(e.data);if(this._currentDependency.retrieveAsRawData){this.resolveParserDependencies()}else{this.parseDependency(this._currentDependency)}};e.prototype.onParseComplete=function(t){var e=t.target;this.resolveParserDependencies();e.removeEventListener(f.READY_FOR_DEPENDENCIES,this._onReadyForDependenciesDelegate);e.removeEventListener(f.PARSE_COMPLETE,this._onParseCompleteDelegate);e.removeEventListener(f.PARSE_ERROR,this._onParseErrorDelegate);e.removeEventListener(h.TEXTURE_SIZE_ERROR,this._onTextureSizeErrorDelegate);e.removeEventListener(h.ASSET_COMPLETE,this._onAssetCompleteDelegate)};e.prototype.onTextureSizeError=function(t){t.asset.name=this._currentDependency.resolveName(t.asset);this.dispatchEvent(t)};e.prototype.addEventListeners=function(t){t.addEventListener(u.COMPLETE,this._onLoadCompleteDelegate);t.addEventListener(p.IO_ERROR,this._onLoadErrorDelegate)};e.prototype.removeEventListeners=function(t){t.removeEventListener(u.COMPLETE,this._onLoadCompleteDelegate);t.removeEventListener(p.IO_ERROR,this._onLoadErrorDelegate)};e.prototype.stop=function(){this.dispose()};e.prototype.dispose=function(){this._errorHandlers=null;this._parseErrorHandlers=null;this._context=null;this._token=null;this._stack=null;if(this._currentDependency&&this._currentDependency._iLoader)this.removeEventListeners(this._currentDependency._iLoader);this._currentDependency=null};e.prototype._iAddParseErrorHandler=function(t){if(this._parseErrorHandlers.indexOf(t)<0)this._parseErrorHandlers.push(t)};e.prototype._iAddErrorHandler=function(t){if(this._errorHandlers.indexOf(t)<0)this._errorHandlers.push(t)};e.prototype.getParserFromData=function(t){var i=e._parsers.length;for(var r=i-1;r>=0;r--)if(e._parsers[r].supportsData(t))return new e._parsers[r];return null};e.prototype.parseDependency=function(t){var e=t.parser;if(!e)t._iSetParser(e=this.getParserFromData(t.data));if(e){e.addEventListener(f.READY_FOR_DEPENDENCIES,this._onReadyForDependenciesDelegate);e.addEventListener(f.PARSE_COMPLETE,this._onParseCompleteDelegate);e.addEventListener(f.PARSE_ERROR,this._onParseErrorDelegate);e.addEventListener(h.TEXTURE_SIZE_ERROR,this._onTextureSizeErrorDelegate);e.addEventListener(h.ASSET_COMPLETE,this._onAssetCompleteDelegate);if(t.request&&t.request.url)e._iFileName=t.request.url;e.materialMode=this._materialMode;e.parseAsync(t.data)}else{var i="No parser defined. To enable all parsers for auto-detection, use Parsers.enableAllBundled()";if(this.hasEventListener(f.PARSE_ERROR))this.dispatchEvent(new f(f.PARSE_ERROR,i));else throw new o(i)}};e.prototype.getParserFromSuffix=function(t){var i=t.indexOf("?")>0?t.split("?")[0]:t;var r=i.substr(i.lastIndexOf(".")+1).toLowerCase();var s=e._parsers.length;for(var a=s-1;a>=0;a--){var n=e._parsers[a];if(n.supportsType(r))return new n}return null};e._parsers=new Array(d,y);return e}(c);e.exports=v},{"awayjs-core/lib/errors/Error":"awayjs-core/lib/errors/Error","awayjs-core/lib/events/AssetEvent":"awayjs-core/lib/events/AssetEvent","awayjs-core/lib/events/Event":"awayjs-core/lib/events/Event","awayjs-core/lib/events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher","awayjs-core/lib/events/IOErrorEvent":"awayjs-core/lib/events/IOErrorEvent","awayjs-core/lib/events/LoaderEvent":"awayjs-core/lib/events/LoaderEvent","awayjs-core/lib/events/ParserEvent":"awayjs-core/lib/events/ParserEvent","awayjs-core/lib/library/AssetLoaderToken":"awayjs-core/lib/library/AssetLoaderToken","awayjs-core/lib/net/URLLoader":"awayjs-core/lib/net/URLLoader","awayjs-core/lib/net/URLLoaderDataFormat":"awayjs-core/lib/net/URLLoaderDataFormat","awayjs-core/lib/parsers/CubeTextureParser":"awayjs-core/lib/parsers/CubeTextureParser","awayjs-core/lib/parsers/ResourceDependency":"awayjs-core/lib/parsers/ResourceDependency","awayjs-core/lib/parsers/Texture2DParser":"awayjs-core/lib/parsers/Texture2DParser"}],"awayjs-core/lib/library/AssetType":[function(t,e,i){var r=function(){function t(){}t.ANIMATION_NODE="animationNode";t.ANIMATION_SET="animationSet";t.ANIMATION_STATE="animationState";t.ANIMATOR="animator";t.BILLBOARD="billboard";t.CAMERA="camera";t.CONTAINER="container";t.EFFECTS_METHOD="effectsMethod";t.FONT="font";t.GEOMETRY="geometry";t.LINE_SEGMENT="lineSegment";t.LIGHT="light";t.LIGHT_PICKER="lightPicker";t.MATERIAL="material";t.MESH="mesh";t.TRIANGLE_SUB_MESH="triangleSubMesh";t.CURVE_SUB_MESH="curveSubMesh";t.LINE_SUB_MESH="lineSubMesh";t.PRIMITIVE_PREFAB="primitivePrefab";t.SHADOW_MAP_METHOD="shadowMapMethod";t.SKELETON="skeleton";t.SKELETON_POSE="skeletonPose";t.SKYBOX="skybox";t.STATE_TRANSITION="stateTransition";t.TEXTFIELD="textfield";t.TEXTFORMAT="textformat";t.TEXTURE="texture";t.TEXTURE_PROJECTOR="textureProjector";t.TIMELINE="timeline";return t}();e.exports=r},{}],"awayjs-core/lib/library/ConflictPrecedence":[function(t,e,i){var r=function(){function t(){}t.FAVOR_OLD="favorOld";t.FAVOR_NEW="favorNew";return t}();e.exports=r},{}],"awayjs-core/lib/library/ConflictStrategyBase":[function(t,e,i){var r=t("awayjs-core/lib/library/ConflictPrecedence");var s=t("awayjs-core/lib/errors/AbstractMethodError");var a=t("awayjs-core/lib/events/AssetEvent");var n=function(){function t(){}t.prototype.resolveConflict=function(t,e,i,r){throw new s};t.prototype.create=function(){throw new s};t.prototype._pUpdateNames=function(t,e,i,s,n,o){var h;var u;var c;u=o===r.FAVOR_NEW?s:i;c=o===r.FAVOR_NEW?i:s;h=c.name;n[u.name]=u;n[e]=c;c.resetAssetPath(e,t,false);c.dispatchEvent(new a(a.ASSET_CONFLICT_RESOLVED,c,h))};return t}();e.exports=n},{"awayjs-core/lib/errors/AbstractMethodError":"awayjs-core/lib/errors/AbstractMethodError","awayjs-core/lib/events/AssetEvent":"awayjs-core/lib/events/AssetEvent","awayjs-core/lib/library/ConflictPrecedence":"awayjs-core/lib/library/ConflictPrecedence"}],"awayjs-core/lib/library/ConflictStrategy":[function(t,e,i){var r=t("awayjs-core/lib/library/ErrorConflictStrategy");var s=t("awayjs-core/lib/library/IgnoreConflictStrategy");var a=t("awayjs-core/lib/library/NumSuffixConflictStrategy");var n=function(){function t(t){}t.APPEND_NUM_SUFFIX=new a;t.IGNORE=new s;t.THROW_ERROR=new r;return t}();e.exports=n},{"awayjs-core/lib/library/ErrorConflictStrategy":"awayjs-core/lib/library/ErrorConflictStrategy","awayjs-core/lib/library/IgnoreConflictStrategy":"awayjs-core/lib/library/IgnoreConflictStrategy","awayjs-core/lib/library/NumSuffixConflictStrategy":"awayjs-core/lib/library/NumSuffixConflictStrategy"}],"awayjs-core/lib/library/ErrorConflictStrategy":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/library/ConflictStrategyBase");var a=t("awayjs-core/lib/errors/Error");var n=function(t){r(e,t);function e(){t.call(this)}e.prototype.resolveConflict=function(t,e,i,r){throw new a("Asset name collision while AssetLibrary.namingStrategy set to AssetLibrary.THROW_ERROR. Asset path: "+t.assetFullPath)};e.prototype.create=function(){return new e};return e}(s);e.exports=n},{"awayjs-core/lib/errors/Error":"awayjs-core/lib/errors/Error","awayjs-core/lib/library/ConflictStrategyBase":"awayjs-core/lib/library/ConflictStrategyBase"}],"awayjs-core/lib/library/IAsset":[function(t,e,i){},{}],"awayjs-core/lib/library/IDUtil":[function(t,e,i){var r=function(){function t(){}t.createUID=function(){var e=new Array(36);var i=0;var r;var s;for(r=0;r<8;r++)e[i++]=t.ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];for(r=0;r<3;r++){e[i++]=45;for(s=0;s<4;s++)e[i++]=t.ALPHA_CHAR_CODES[Math.floor(Math.random()*16)]}e[i++]=45;var a=(new Date).getTime();var n=("0000000"+a.toString(16).toUpperCase()).substr(-8);for(r=0;r<8;r++)e[i++]=n.charCodeAt(r);for(r=0;r<4;r++)e[i++]=t.ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];return String.fromCharCode.apply(null,e)};t.ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];return t}();e.exports=r},{}],"awayjs-core/lib/library/IgnoreConflictStrategy":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/library/ConflictStrategyBase");var a=function(t){r(e,t);function e(){t.call(this)}e.prototype.resolveConflict=function(t,e,i,r){return};e.prototype.create=function(){return new e};return e}(s);e.exports=a},{"awayjs-core/lib/library/ConflictStrategyBase":"awayjs-core/lib/library/ConflictStrategyBase"}],"awayjs-core/lib/library/NamedAssetBase":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/AbstractMethodError");var a=t("awayjs-core/lib/events/AssetEvent");var n=t("awayjs-core/lib/events/EventDispatcher");var o=function(t){r(e,t);function e(i){if(i===void 0){i=null}t.call(this);this._id=e.ID_COUNT++;if(i==null)i="null";this._name=i;this._originalName=i;this.updateFullPath()}Object.defineProperty(e.prototype,"assetType",{get:function(){throw new s},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"originalName",{get:function(){return this._originalName},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){var e;e=this._name;this._name=t;if(this._name==null)this._name="null";this.updateFullPath();this.dispatchEvent(new a(a.ASSET_RENAME,this,e))},enumerable:true,configurable:true});e.prototype.dispose=function(){throw new s};Object.defineProperty(e.prototype,"assetNamespace",{get:function(){return this._namespace},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"assetFullPath",{get:function(){return this._full_path},enumerable:true,configurable:true});e.prototype.assetPathEquals=function(t,e){return this._name==t&&(!e||this._namespace==e)};e.prototype.resetAssetPath=function(t,i,r){if(i===void 0){i=null}if(r===void 0){r=true}this._name=t?t:"null";this._namespace=i?i:e.DEFAULT_NAMESPACE;if(r)this._originalName=this._name;this.updateFullPath()};e.prototype.updateFullPath=function(){this._full_path=[this._namespace,this._name]};e.ID_COUNT=0;e.DEFAULT_NAMESPACE="default";return e}(n);e.exports=o},{"awayjs-core/lib/errors/AbstractMethodError":"awayjs-core/lib/errors/AbstractMethodError","awayjs-core/lib/events/AssetEvent":"awayjs-core/lib/events/AssetEvent","awayjs-core/lib/events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher"}],"awayjs-core/lib/library/NumSuffixConflictStrategy":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/library/ConflictStrategyBase");var a=function(t){r(e,t);function e(e){if(e===void 0){e="."}t.call(this);this._separator=e;this._next_suffix={}}e.prototype.resolveConflict=function(t,e,i,r){var s;var a;var n;var o;s=t.name;if(s.indexOf(this._separator)>=0){n=s.substring(0,s.lastIndexOf(this._separator));o=parseInt(s.substring(n.length-1));if(isNaN(o)){n=s;o=0}}else{n=s;o=0}if(o==0&&this._next_suffix.hasOwnProperty(n)){o=this._next_suffix[n]}do{o++;a=n.concat(this._separator,o.toString())}while(i.hasOwnProperty(a));this._next_suffix[n]=o;this._pUpdateNames(e.assetNamespace,a,e,t,i,r)};e.prototype.create=function(){return new e(this._separator)};return e}(s);e.exports=a},{"awayjs-core/lib/library/ConflictStrategyBase":"awayjs-core/lib/library/ConflictStrategyBase"}],"awayjs-core/lib/net/CrossDomainPolicy":[function(t,e,i){var r=function(){function t(){}t.ANONYMOUS="anonymous";t.USE_CREDENTIALS="use-credentials";return t}();e.exports=r},{}],"awayjs-core/lib/net/URLLoaderDataFormat":[function(t,e,i){var r=function(){function t(){}t.TEXT="text";t.VARIABLES="variables";t.BLOB="blob";t.ARRAY_BUFFER="arraybuffer";t.BINARY="binary";return t}();e.exports=r},{}],"awayjs-core/lib/net/URLLoader":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/net/URLLoaderDataFormat");var a=t("awayjs-core/lib/net/URLRequestMethod");var n=t("awayjs-core/lib/net/URLVariables");var o=t("awayjs-core/lib/events/Event");var h=t("awayjs-core/lib/events/EventDispatcher");var u=t("awayjs-core/lib/events/HTTPStatusEvent");var c=t("awayjs-core/lib/events/IOErrorEvent");var p=t("awayjs-core/lib/events/ProgressEvent");var l=function(t){r(e,t);function e(){t.call(this);this._bytesLoaded=0;this._bytesTotal=0;this._dataFormat=s.TEXT;this._loadError=false}Object.defineProperty(e.prototype,"url",{get:function(){return this._request?this._request.url:""},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"dataFormat",{get:function(){return this._dataFormat},set:function(t){this._dataFormat=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"bytesLoaded",{get:function(){return this._bytesLoaded},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"bytesTotal",{get:function(){return this._bytesTotal},enumerable:true,configurable:true});e.prototype.load=function(t){this._request=t;this.initXHR();if(t.method===a.POST)this.postRequest(t);else this.getRequest(t)};e.prototype.close=function(){this._XHR.abort();this.disposeXHR()};e.prototype.dispose=function(){if(this._XHR)this._XHR.abort();this.disposeXHR();this._data=null;this._dataFormat=null;this._bytesLoaded=null;this._bytesTotal=null};e.prototype.setResponseType=function(t,e){switch(e){case s.ARRAY_BUFFER:case s.BLOB:case s.TEXT:t.responseType=e;break;case s.VARIABLES:t.responseType=s.TEXT;break;case s.BINARY:t.responseType="";break;default:}};e.prototype.getRequest=function(t){try{this._XHR.open(t.method,t.url,t.async);this.setResponseType(this._XHR,this._dataFormat);this._XHR.send()}catch(e){this.handleXmlHttpRequestException(e)}};e.prototype.postRequest=function(t){this._loadError=false;this._XHR.open(t.method,t.url,t.async);if(t.data!=null){if(t.data instanceof n){var e=t.data;try{this._XHR.responseType="text";this._XHR.send(e.formData)}catch(i){this.handleXmlHttpRequestException(i)}}else{this.setResponseType(this._XHR,this._dataFormat);if(t.data)this._XHR.send(t.data);else this._XHR.send()}}else{this._XHR.send()}};e.prototype.handleXmlHttpRequestException=function(t){switch(t.code){case 101:break}};e.prototype.initXHR=function(){var t=this;if(!this._XHR){this._XHR=new XMLHttpRequest;this._XHR.onloadstart=function(e){return t.onLoadStart(e)};this._XHR.onprogress=function(e){return t.onProgress(e)};this._XHR.onabort=function(e){return t.onAbort(e)};this._XHR.onerror=function(e){return t.onLoadError(e)};this._XHR.onload=function(e){return t.onLoadComplete(e)};this._XHR.ontimeout=function(e){return t.onTimeOut(e)};this._XHR.onloadend=function(e){return t.onLoadEnd(e)};this._XHR.onreadystatechange=function(e){return t.onReadyStateChange(e)}}};e.prototype.disposeXHR=function(){if(this._XHR!==null){this._XHR.onloadstart=null;this._XHR.onprogress=null;this._XHR.onabort=null;this._XHR.onerror=null;this._XHR.onload=null;this._XHR.ontimeout=null;this._XHR.onloadend=null;this._XHR=null}};e.prototype.decodeURLVariables=function(t){var e=new Object;t=t.split("+").join(" ");var i,r=/[?&]?([^=]+)=([^&]*)/g;while(i=r.exec(t))e[decodeURIComponent(i[1])]=decodeURIComponent(i[2]);return e};e.prototype.onReadyStateChange=function(t){if(this._XHR.readyState==4){if(this._XHR.status==404){this._loadError=true;if(!this._loadErrorEvent)this._loadErrorEvent=new c(c.IO_ERROR);this.dispatchEvent(this._loadErrorEvent)}this.dispatchEvent(new u(u.HTTP_STATUS,this._XHR.status))}};e.prototype.onLoadEnd=function(t){if(this._loadError===true)return};e.prototype.onTimeOut=function(t){};e.prototype.onAbort=function(t){};e.prototype.onProgress=function(t){if(!this._progressEvent)this._progressEvent=new p(p.PROGRESS);this._progressEvent.bytesTotal=t.total;this._progressEvent.bytesLoaded=t.loaded;this.dispatchEvent(this._progressEvent)};e.prototype.onLoadStart=function(t){if(!this._loadStartEvent)this._loadStartEvent=new o(o.OPEN);this.dispatchEvent(this._loadStartEvent)};e.prototype.onLoadComplete=function(t){if(this._loadError===true)return;switch(this._dataFormat){case s.TEXT:this._data=this._XHR.responseText;break;case s.VARIABLES:this._data=this.decodeURLVariables(this._XHR.responseText);break;case s.BLOB:case s.ARRAY_BUFFER:case s.BINARY:this._data=this._XHR.response;break;default:this._data=this._XHR.responseText;break}if(!this._loadCompleteEvent)this._loadCompleteEvent=new o(o.COMPLETE);this.dispatchEvent(this._loadCompleteEvent)};e.prototype.onLoadError=function(t){this._loadError=true;if(!this._loadErrorEvent)this._loadErrorEvent=new c(c.IO_ERROR);this.dispatchEvent(this._loadErrorEvent)};return e}(h);e.exports=l},{"awayjs-core/lib/events/Event":"awayjs-core/lib/events/Event","awayjs-core/lib/events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher","awayjs-core/lib/events/HTTPStatusEvent":"awayjs-core/lib/events/HTTPStatusEvent","awayjs-core/lib/events/IOErrorEvent":"awayjs-core/lib/events/IOErrorEvent","awayjs-core/lib/events/ProgressEvent":"awayjs-core/lib/events/ProgressEvent","awayjs-core/lib/net/URLLoaderDataFormat":"awayjs-core/lib/net/URLLoaderDataFormat","awayjs-core/lib/net/URLRequestMethod":"awayjs-core/lib/net/URLRequestMethod","awayjs-core/lib/net/URLVariables":"awayjs-core/lib/net/URLVariables"}],"awayjs-core/lib/net/URLRequestMethod":[function(t,e,i){var r=function(){function t(){}t.POST="POST";t.GET="GET";return t}();e.exports=r},{}],"awayjs-core/lib/net/URLRequest":[function(t,e,i){var r=t("awayjs-core/lib/net/URLRequestMethod");var s=function(){function t(t){if(t===void 0){t=null}this.method=r.GET;this.async=true;this._url=t}Object.defineProperty(t.prototype,"url",{get:function(){return this._url},set:function(t){this._url=t},enumerable:true,configurable:true});t.prototype.dispose=function(){this.data=null;this._url=null};return t}();e.exports=s},{"awayjs-core/lib/net/URLRequestMethod":"awayjs-core/lib/net/URLRequestMethod"}],"awayjs-core/lib/net/URLVariables":[function(t,e,i){var r=function(){function t(t){if(t===void 0){t=null}this._variables=new Object;if(t!==null)this.decode(t)}t.prototype.decode=function(t){t=t.split("+").join(" ");var e,i=/[?&]?([^=]+)=([^&]*)/g;while(e=i.exec(t))this._variables[decodeURIComponent(e[1])]=decodeURIComponent(e[2])
};t.prototype.toString=function(){return""};Object.defineProperty(t.prototype,"variables",{get:function(){return this._variables},set:function(t){this._variables=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"formData",{get:function(){var t=new FormData;for(var e in this._variables)t.append(e,this._variables[e]);return t},enumerable:true,configurable:true});return t}();e.exports=r},{}],"awayjs-core/lib/parsers/CubeTextureParser":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/net/URLLoaderDataFormat");var a=t("awayjs-core/lib/net/URLRequest");var n=t("awayjs-core/lib/parsers/ParserBase");var o=t("awayjs-core/lib/textures/ImageCubeTexture");var h=function(t){r(e,t);function e(){t.call(this,s.TEXT)}e.supportsType=function(t){t=t.toLowerCase();return t=="cube"};e.supportsData=function(t){try{var e=JSON.parse(t);if(e){return true}return false}catch(i){return false}return false};e.prototype._iResolveDependency=function(t){};e.prototype._iResolveDependencyFailure=function(t){};e.prototype._pProceedParsing=function(){if(this._imgDependencyDictionary!=null){var t=new o(this._getHTMLImageElement(e.posX),this._getHTMLImageElement(e.negX),this._getHTMLImageElement(e.posY),this._getHTMLImageElement(e.negY),this._getHTMLImageElement(e.posZ),this._getHTMLImageElement(e.negZ));this._imgDependencyDictionary=null;t.name=this._iFileName;this._pFinalizeAsset(t,this._iFileName);return n.PARSING_DONE}try{var i=JSON.parse(this.data);var r=i.data;var s;if(r.length!=6)this._pDieWithError("CubeTextureParser: Error - cube texture should have exactly 6 images");if(i){this._imgDependencyDictionary=new Object;for(var h=0;h<r.length;h++){s=r[h];this._imgDependencyDictionary[s.id]=this._pAddDependency(s.id,new a(s.image.toString()))}if(!this._validateCubeData()){this._pDieWithError("CubeTextureParser: JSON data error - cubes require id of:   \n"+e.posX+", "+e.negX+",  \n"+e.posY+", "+e.negY+",  \n"+e.posZ+", "+e.negZ);return n.PARSING_DONE}this._pPauseAndRetrieveDependencies();return n.MORE_TO_PARSE}}catch(u){this._pDieWithError("CubeTexturePaser Error parsing JSON")}return n.PARSING_DONE};e.prototype._validateCubeData=function(){return this._imgDependencyDictionary[e.posX]!=null&&this._imgDependencyDictionary[e.negX]!=null&&this._imgDependencyDictionary[e.posY]!=null&&this._imgDependencyDictionary[e.negY]!=null&&this._imgDependencyDictionary[e.posZ]!=null&&this._imgDependencyDictionary[e.negZ]!=null};e.prototype._getHTMLImageElement=function(t){var e=this._imgDependencyDictionary[t];if(e){return e.assets[0].htmlImageElement}return null};e.posX="posX";e.negX="negX";e.posY="posY";e.negY="negY";e.posZ="posZ";e.negZ="negZ";return e}(n);e.exports=h},{"awayjs-core/lib/net/URLLoaderDataFormat":"awayjs-core/lib/net/URLLoaderDataFormat","awayjs-core/lib/net/URLRequest":"awayjs-core/lib/net/URLRequest","awayjs-core/lib/parsers/ParserBase":"awayjs-core/lib/parsers/ParserBase","awayjs-core/lib/textures/ImageCubeTexture":"awayjs-core/lib/textures/ImageCubeTexture"}],"awayjs-core/lib/parsers/ParserBase":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/AbstractMethodError");var a=t("awayjs-core/lib/events/AssetEvent");var n=t("awayjs-core/lib/events/EventDispatcher");var o=t("awayjs-core/lib/events/ParserEvent");var h=t("awayjs-core/lib/events/TimerEvent");var u=t("awayjs-core/lib/parsers/ParserUtils");var c=t("awayjs-core/lib/parsers/ResourceDependency");var p=t("awayjs-core/lib/utils/TextureUtils");var l=t("awayjs-core/lib/utils/Timer");var f=t("awayjs-core/lib/utils/getTimer");var y=function(t){r(e,t);function e(e){var i=this;t.call(this);this._materialMode=0;this._dataFormat=e;this._dependencies=new Array;this._pOnIntervalDelegate=function(t){return i._pOnInterval(t)}}e.supportsType=function(t){throw new s};Object.defineProperty(e.prototype,"content",{get:function(){return this._pContent},enumerable:true,configurable:true});e.prototype.isBitmapDataValid=function(t){var e=p.isBitmapDataValid(t);if(!e){console.log(">> Bitmap loaded is not having power of 2 dimensions or is higher than 2048")}return e};Object.defineProperty(e.prototype,"parsingFailure",{get:function(){return this._parsingFailure},set:function(t){this._parsingFailure=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"parsingPaused",{get:function(){return this._parsingPaused},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"parsingComplete",{get:function(){return this._parsingComplete},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"materialMode",{get:function(){return this._materialMode},set:function(t){this._materialMode=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"dataFormat",{get:function(){return this._dataFormat},enumerable:true,configurable:true});e.prototype.parseAsync=function(t,e){if(e===void 0){e=30}this._data=t;this._pStartParsing(e)};Object.defineProperty(e.prototype,"dependencies",{get:function(){return this._dependencies},enumerable:true,configurable:true});e.prototype._iResolveDependency=function(t){throw new s};e.prototype._iResolveDependencyFailure=function(t){throw new s};e.prototype._iResolveDependencyName=function(t,e){return e.name};e.prototype._iResumeParsingAfterDependencies=function(){this._parsingPaused=false;if(this._timer)this._timer.start()};e.prototype._pFinalizeAsset=function(t,e){if(e===void 0){e=null}var i;var r;if(e!=null)t.name=e;if(!t.name)t.name=t.assetType;this.dispatchEvent(new a(a.ASSET_COMPLETE,t))};e.prototype._pProceedParsing=function(){throw new s};e.prototype._pDieWithError=function(t){if(t===void 0){t="Unknown parsing error"}if(this._timer){this._timer.removeEventListener(h.TIMER,this._pOnIntervalDelegate);this._timer.stop();this._timer=null}this.dispatchEvent(new o(o.PARSE_ERROR,t))};e.prototype._pAddDependency=function(t,e,i,r,s){if(i===void 0){i=false}if(r===void 0){r=null}if(s===void 0){s=false}var a=new c(t,e,r,null,this,i,s);this._dependencies.push(a);return a};e.prototype._pPauseAndRetrieveDependencies=function(){if(this._timer)this._timer.stop();this._parsingPaused=true;this.dispatchEvent(new o(o.READY_FOR_DEPENDENCIES))};e.prototype._pHasTime=function(){return f()-this._lastFrameTime<this._frameLimit};e.prototype._pOnInterval=function(t){if(t===void 0){t=null}this._lastFrameTime=f();if(this._pProceedParsing()&&!this._parsingFailure)this._pFinishParsing()};e.prototype._pStartParsing=function(t){this._frameLimit=t;this._timer=new l(this._frameLimit,0);this._timer.addEventListener(h.TIMER,this._pOnIntervalDelegate);this._timer.start()};e.prototype._pFinishParsing=function(){if(this._timer){this._timer.removeEventListener(h.TIMER,this._pOnIntervalDelegate);this._timer.stop()}this._timer=null;this._parsingComplete=true;this.dispatchEvent(new o(o.PARSE_COMPLETE))};e.prototype._pGetTextData=function(){return u.toString(this._data)};e.prototype._pGetByteData=function(){return u.toByteArray(this._data)};e.PARSING_DONE=true;e.MORE_TO_PARSE=false;return e}(n);e.exports=y},{"awayjs-core/lib/errors/AbstractMethodError":"awayjs-core/lib/errors/AbstractMethodError","awayjs-core/lib/events/AssetEvent":"awayjs-core/lib/events/AssetEvent","awayjs-core/lib/events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher","awayjs-core/lib/events/ParserEvent":"awayjs-core/lib/events/ParserEvent","awayjs-core/lib/events/TimerEvent":"awayjs-core/lib/events/TimerEvent","awayjs-core/lib/parsers/ParserUtils":"awayjs-core/lib/parsers/ParserUtils","awayjs-core/lib/parsers/ResourceDependency":"awayjs-core/lib/parsers/ResourceDependency","awayjs-core/lib/utils/TextureUtils":"awayjs-core/lib/utils/TextureUtils","awayjs-core/lib/utils/Timer":"awayjs-core/lib/utils/Timer","awayjs-core/lib/utils/getTimer":"awayjs-core/lib/utils/getTimer"}],"awayjs-core/lib/parsers/ParserDataFormat":[function(t,e,i){var r=function(){function t(){}t.BINARY="binary";t.PLAIN_TEXT="plainText";t.IMAGE="image";return t}();e.exports=r},{}],"awayjs-core/lib/parsers/ParserUtils":[function(t,e,i){var r=t("awayjs-core/lib/utils/ByteArray");var s=function(){function t(){}t.arrayBufferToImage=function(t){var e="";var i=new Uint8Array(t);var r=i.byteLength;for(var s=0;s<r;s++)e+=String.fromCharCode(i[s]);var a=window.btoa(e);var n="data:image/png;base64,"+a;var o=new Image;o.src=n;return o};t.byteArrayToImage=function(t){var e="";var i=new Uint8Array(t.arraybytes);var r=i.byteLength;for(var s=0;s<r;s++)e+=String.fromCharCode(i[s]);var a=window.btoa(e);var n="data:image/png;base64,"+a;var o=new Image;o.src=n;return o};t.blobToImage=function(t){var e=window["URL"]||window["webkitURL"];var i=e.createObjectURL(t);var r=new Image;r.src=i;return r};t.toByteArray=function(t){var e=new r;e.setArrayBuffer(t);return e};t.toString=function(t,e){if(e===void 0){e=0}if(typeof t==="string"){var i=t;if(i["substr"]!=null)return i.substr(0,i.length)}if(t instanceof r){var s=t;s.position=0;return s.readUTFBytes(Math.min(s.getBytesAvailable(),e))}return null};return t}();e.exports=s},{"awayjs-core/lib/utils/ByteArray":"awayjs-core/lib/utils/ByteArray"}],"awayjs-core/lib/parsers/ResourceDependency":[function(t,e,i){var r=function(){function t(t,e,i,r,s,a,n){if(a===void 0){a=false}if(n===void 0){n=false}this._id=t;this._request=e;this._data=i;this._parser=r;this._parentParser=s;this._retrieveAsRawData=a;this._suppressAssetEvents=n;this._assets=new Array;this._dependencies=new Array}Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"request",{get:function(){return this._request},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"parser",{get:function(){return this._parser},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"parentParser",{get:function(){return this._parentParser},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"retrieveAsRawData",{get:function(){return this._retrieveAsRawData},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"suppresAssetEvents",{get:function(){return this._suppressAssetEvents},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"assets",{get:function(){return this._assets},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"dependencies",{get:function(){return this._dependencies},enumerable:true,configurable:true});t.prototype._iSetData=function(t){this._data=t};t.prototype._iSetParser=function(t){this._parser=t};t.prototype.resolve=function(){if(this._parentParser)this._parentParser._iResolveDependency(this)};t.prototype.resolveFailure=function(){if(this._parentParser)this._parentParser._iResolveDependencyFailure(this)};t.prototype.resolveName=function(t){if(this._parentParser)return this._parentParser._iResolveDependencyName(this,t);return t.name};return t}();e.exports=r},{}],"awayjs-core/lib/parsers/Texture2DParser":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/net/URLLoaderDataFormat");var a=t("awayjs-core/lib/parsers/ParserBase");var n=t("awayjs-core/lib/parsers/ParserUtils");var o=t("awayjs-core/lib/utils/ByteArray");var h=t("awayjs-core/lib/utils/TextureUtils");var u=t("awayjs-core/lib/textures/ImageTexture");var c=function(t){r(e,t);function e(){t.call(this,s.BLOB)}e.supportsType=function(t){t=t.toLowerCase();return t=="jpg"||t=="jpeg"||t=="png"||t=="gif"};e.supportsData=function(t){if(t instanceof HTMLImageElement)return true;if(!(t instanceof o))return false;var e=t;e.position=0;if(e.readUnsignedShort()==65496)return true;e.position=0;if(e.readShort()==16973)return true;e.position=1;if(e.readUTFBytes(3)=="PNG")return true;e.position=0;if(e.readUTFBytes(3)=="GIF"&&e.readShort()==14393&&e.readByte()==97)return true;e.position=0;if(e.readUTFBytes(3)=="ATF")return true;return false};e.prototype._pProceedParsing=function(){var t=this;var e;var i=false;if(this._loadingImage){return a.MORE_TO_PARSE}else if(this._htmlImageElement){if(h.isHTMLImageElementValid(this._htmlImageElement)){e=new u(this._htmlImageElement);this._pFinalizeAsset(e,this._iFileName)}}else if(this.data instanceof HTMLImageElement){if(h.isHTMLImageElementValid(this.data)){e=new u(this.data);this._pFinalizeAsset(e,this._iFileName)}else{i=true}}else if(this.data instanceof o){var r=this.data;r.position=0;var s=n.byteArrayToImage(this.data);if(h.isHTMLImageElementValid(s)){e=new u(s);this._pFinalizeAsset(e,this._iFileName)}else{i=true}}else if(this.data instanceof ArrayBuffer){this._htmlImageElement=n.arrayBufferToImage(this.data);e=new u(this._htmlImageElement);this._pFinalizeAsset(e,this._iFileName)}else if(this.data instanceof Blob){this._htmlImageElement=n.blobToImage(this.data);this._htmlImageElement.onload=function(e){return t.onLoadComplete(e)};this._loadingImage=true;return a.MORE_TO_PARSE}if(i==true){}this._pContent=e;return a.PARSING_DONE};e.prototype.onLoadComplete=function(t){this._loadingImage=false};return e}(a);e.exports=c},{"awayjs-core/lib/net/URLLoaderDataFormat":"awayjs-core/lib/net/URLLoaderDataFormat","awayjs-core/lib/parsers/ParserBase":"awayjs-core/lib/parsers/ParserBase","awayjs-core/lib/parsers/ParserUtils":"awayjs-core/lib/parsers/ParserUtils","awayjs-core/lib/textures/ImageTexture":"awayjs-core/lib/textures/ImageTexture","awayjs-core/lib/utils/ByteArray":"awayjs-core/lib/utils/ByteArray","awayjs-core/lib/utils/TextureUtils":"awayjs-core/lib/utils/TextureUtils"}],"awayjs-core/lib/pool/ITextureData":[function(t,e,i){},{}],"awayjs-core/lib/projections/CoordinateSystem":[function(t,e,i){var r=function(){function t(){}t.LEFT_HANDED="leftHanded";t.RIGHT_HANDED="rightHanded";return t}();e.exports=r},{}],"awayjs-core/lib/projections/FreeMatrixProjection":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/projections/PerspectiveProjection");var a=t("awayjs-core/lib/projections/ProjectionBase");var n=function(t){r(e,t);function e(){t.call(this);this._pMatrix.copyFrom((new s).matrix)}Object.defineProperty(e.prototype,"near",{set:function(t){this._pNear=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"far",{set:function(t){this._pFar=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"iAspectRatio",{set:function(t){this._pAspectRatio=t},enumerable:true,configurable:true});e.prototype.clone=function(){var t=new e;t._pMatrix.copyFrom(this._pMatrix);t._pNear=this._pNear;t._pFar=this._pFar;t._pAspectRatio=this._pAspectRatio;t.pInvalidateMatrix();return t};e.prototype.pUpdateMatrix=function(){this._pMatrixInvalid=false};return e}(a);e.exports=n},{"awayjs-core/lib/projections/PerspectiveProjection":"awayjs-core/lib/projections/PerspectiveProjection","awayjs-core/lib/projections/ProjectionBase":"awayjs-core/lib/projections/ProjectionBase"}],"awayjs-core/lib/projections/IProjection":[function(t,e,i){},{}],"awayjs-core/lib/projections/ObliqueNearPlaneProjection":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/geom/Vector3D");var a=t("awayjs-core/lib/events/ProjectionEvent");var n=t("awayjs-core/lib/projections/ProjectionBase");var o=function(t){r(e,t);function e(e,i){var r=this;t.call(this);this.baseProjection=e;this.plane=i;this._onProjectionMatrixChangedDelegate=function(t){return r.onProjectionMatrixChanged(t)}}Object.defineProperty(e.prototype,"frustumCorners",{get:function(){return this._baseProjection.frustumCorners},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"near",{get:function(){return this._baseProjection.near},set:function(t){this._baseProjection.near=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"far",{get:function(){return this._baseProjection.far},set:function(t){this._baseProjection.far=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"iAspectRatio",{get:function(){return this._baseProjection._iAspectRatio},set:function(t){this._baseProjection._iAspectRatio=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"plane",{get:function(){return this._plane},set:function(t){this._plane=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"baseProjection",{set:function(t){if(this._baseProjection){this._baseProjection.removeEventListener(a.MATRIX_CHANGED,this._onProjectionMatrixChangedDelegate)}this._baseProjection=t;if(this._baseProjection){this._baseProjection.addEventListener(a.MATRIX_CHANGED,this._onProjectionMatrixChangedDelegate)}this.pInvalidateMatrix()},enumerable:true,configurable:true});e.prototype.onProjectionMatrixChanged=function(t){this.pInvalidateMatrix()};e.prototype.pUpdateMatrix=function(){this._pMatrix.copyFrom(this._baseProjection.matrix);var t=this._plane.a;var e=this._plane.b;var i=this._plane.c;var r=-this._plane.d+.05;var a=t>=0?1:-1;var n=e>=0?1:-1;var o=new s(a,n,1,1);var h=this._pMatrix.clone();h.invert();var u=h.transformVector(o);this._pMatrix.copyRowTo(3,o);var c=(u.x*o.x+u.y*o.y+u.z*o.z+u.w*o.w)/(t*u.x+e*u.y+i*u.z+r*u.w);this._pMatrix.copyRowFrom(2,new s(t*c,e*c,i*c,r*c))};return e}(n);e.exports=o},{"awayjs-core/lib/events/ProjectionEvent":"awayjs-core/lib/events/ProjectionEvent","awayjs-core/lib/geom/Vector3D":"awayjs-core/lib/geom/Vector3D","awayjs-core/lib/projections/ProjectionBase":"awayjs-core/lib/projections/ProjectionBase"}],"awayjs-core/lib/projections/OrthographicOffCenterProjection":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/geom/Vector3D");var a=t("awayjs-core/lib/projections/ProjectionBase");var n=function(t){r(e,t);function e(e,i,r,s){t.call(this);this._minX=e;this._maxX=i;this._minY=r;this._maxY=s}Object.defineProperty(e.prototype,"minX",{get:function(){return this._minX},set:function(t){this._minX=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"maxX",{get:function(){return this._maxX},set:function(t){this._maxX=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"minY",{get:function(){return this._minY},set:function(t){this._minY=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"maxY",{get:function(){return this._maxY},set:function(t){this._maxY=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});e.prototype.unproject=function(t,e,i){var r=new s(t,-e,i,1);r=this.unprojectionMatrix.transformVector(r);r.z=i;return r};e.prototype.clone=function(){var t=new e(this._minX,this._maxX,this._minY,this._maxY);t._pNear=this._pNear;t._pFar=this._pFar;t._pAspectRatio=this._pAspectRatio;return t};e.prototype.pUpdateMatrix=function(){var t=[];var e=1/(this._maxX-this._minX);var i=1/(this._maxY-this._minY);var r=1/(this._pFar-this._pNear);t[0]=2*e;t[5]=2*i;t[10]=r;t[12]=-(this._maxX+this._minX)*e;t[13]=-(this._maxY+this._minY)*i;t[14]=-this._pNear*r;t[15]=1;t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[8]=t[9]=t[11]=0;this._pMatrix.copyRawDataFrom(t);this._pFrustumCorners[0]=this._pFrustumCorners[9]=this._pFrustumCorners[12]=this._pFrustumCorners[21]=this._minX;this._pFrustumCorners[3]=this._pFrustumCorners[6]=this._pFrustumCorners[15]=this._pFrustumCorners[18]=this._maxX;this._pFrustumCorners[1]=this._pFrustumCorners[4]=this._pFrustumCorners[13]=this._pFrustumCorners[16]=this._minY;this._pFrustumCorners[7]=this._pFrustumCorners[10]=this._pFrustumCorners[19]=this._pFrustumCorners[22]=this._maxY;this._pFrustumCorners[2]=this._pFrustumCorners[5]=this._pFrustumCorners[8]=this._pFrustumCorners[11]=this._pNear;this._pFrustumCorners[14]=this._pFrustumCorners[17]=this._pFrustumCorners[20]=this._pFrustumCorners[23]=this._pFar;this._pMatrixInvalid=false};return e}(a);e.exports=n},{"awayjs-core/lib/geom/Vector3D":"awayjs-core/lib/geom/Vector3D","awayjs-core/lib/projections/ProjectionBase":"awayjs-core/lib/projections/ProjectionBase"}],"awayjs-core/lib/projections/OrthographicProjection":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/geom/Vector3D");var a=t("awayjs-core/lib/projections/ProjectionBase");var n=function(t){r(e,t);function e(e){if(e===void 0){e=500}t.call(this);this._projectionHeight=e}Object.defineProperty(e.prototype,"projectionHeight",{get:function(){return this._projectionHeight},set:function(t){if(t==this._projectionHeight){return}this._projectionHeight=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});e.prototype.unproject=function(t,e,i){var r=new s(t+this.matrix.rawData[12],-e+this.matrix.rawData[13],i,1);r=this.unprojectionMatrix.transformVector(r);r.z=i;return r};e.prototype.clone=function(){var t=new e;t._pNear=this._pNear;t._pFar=this._pFar;t._pAspectRatio=this._pAspectRatio;t.projectionHeight=this._projectionHeight;return t};e.prototype.pUpdateMatrix=function(){var t=[];this._yMax=this._projectionHeight*.5;this._xMax=this._yMax*this._pAspectRatio;var e;var i;var r;var s;if(this._pScissorRect.x==0&&this._pScissorRect.y==0&&this._pScissorRect.width==this._pViewPort.width&&this._pScissorRect.height==this._pViewPort.height){e=-this._xMax;i=this._xMax;r=-this._yMax;s=this._yMax;t[0]=2/(this._projectionHeight*this._pAspectRatio);t[5]=2/this._projectionHeight;t[10]=1/(this._pFar-this._pNear);t[14]=this._pNear/(this._pNear-this._pFar);t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[8]=t[9]=t[11]=t[12]=t[13]=0;t[15]=1}else{var a=this._xMax*(this._pViewPort.width/this._pScissorRect.width);var n=this._yMax*(this._pViewPort.height/this._pScissorRect.height);var o=this._xMax*(this._pScissorRect.x*2-this._pViewPort.width)/this._pScissorRect.width+this._xMax;var h=-this._yMax*(this._pScissorRect.y*2-this._pViewPort.height)/this._pScissorRect.height-this._yMax;e=o-a;i=o+a;r=h-n;s=h+n;t[0]=2*1/(i-e);t[5]=-2*1/(r-s);t[10]=1/(this._pFar-this._pNear);t[12]=(i+e)/(i-e);t[13]=(s+r)/(s-r);t[14]=this._pNear/(this.near-this.far);t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[8]=t[9]=t[11]=0;t[15]=1}this._pFrustumCorners[0]=this._pFrustumCorners[9]=this._pFrustumCorners[12]=this._pFrustumCorners[21]=e;this._pFrustumCorners[3]=this._pFrustumCorners[6]=this._pFrustumCorners[15]=this._pFrustumCorners[18]=i;this._pFrustumCorners[1]=this._pFrustumCorners[4]=this._pFrustumCorners[13]=this._pFrustumCorners[16]=r;this._pFrustumCorners[7]=this._pFrustumCorners[10]=this._pFrustumCorners[19]=this._pFrustumCorners[22]=s;this._pFrustumCorners[2]=this._pFrustumCorners[5]=this._pFrustumCorners[8]=this._pFrustumCorners[11]=this._pNear;this._pFrustumCorners[14]=this._pFrustumCorners[17]=this._pFrustumCorners[20]=this._pFrustumCorners[23]=this._pFar;this._pMatrix.copyRawDataFrom(t);this._pMatrixInvalid=false};return e}(a);e.exports=n},{"awayjs-core/lib/geom/Vector3D":"awayjs-core/lib/geom/Vector3D","awayjs-core/lib/projections/ProjectionBase":"awayjs-core/lib/projections/ProjectionBase"}],"awayjs-core/lib/projections/PerspectiveProjection":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/geom/Vector3D");var a=t("awayjs-core/lib/projections/CoordinateSystem");var n=t("awayjs-core/lib/projections/ProjectionBase");var o=function(t){r(e,t);function e(e,i){if(e===void 0){e=60}if(i===void 0){i="leftHanded"}t.call(this,i);this._fieldOfView=60;this._focalLength=1e3;this._hFieldOfView=60;this._hFocalLength=1e3;this._preserveAspectRatio=true;this._preserveFocalLength=false;this.fieldOfView=e}Object.defineProperty(e.prototype,"preserveAspectRatio",{get:function(){return this._preserveAspectRatio},set:function(t){if(this._preserveAspectRatio==t)return;this._preserveAspectRatio=t;if(this._preserveAspectRatio)this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"preserveFocalLength",{get:function(){return this._preserveFocalLength},set:function(t){if(this._preserveFocalLength==t)return;this._preserveFocalLength=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"fieldOfView",{get:function(){return this._fieldOfView},set:function(t){if(this._fieldOfView==t)return;this._fieldOfView=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"focalLength",{get:function(){return this._focalLength},set:function(t){if(this._focalLength==t)return;this._focalLength=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"hFieldOfView",{get:function(){return this._hFieldOfView},set:function(t){if(this._hFieldOfView==t)return;this._hFieldOfView=t;this._hFocalLength=1/Math.tan(this._hFieldOfView*Math.PI/360);this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"hFocalLength",{get:function(){return this._hFocalLength},set:function(t){if(this._hFocalLength==t)return;this._hFocalLength=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});e.prototype.unproject=function(t,e,i){var r=new s(t,-e,i,1);r.x*=i;r.y*=i;r=this.unprojectionMatrix.transformVector(r);r.z=i;return r};e.prototype.clone=function(){var t=new e(this._fieldOfView);t._pNear=this._pNear;t._pFar=this._pFar;t._pAspectRatio=this._pAspectRatio;t._pCoordinateSystem=this._pCoordinateSystem;return t};e.prototype.pUpdateMatrix=function(){var t=[];if(this._preserveFocalLength){if(this._preserveAspectRatio)this._hFocalLength=this._focalLength;this._fieldOfView=Math.atan(.5*this._pScissorRect.height/this._focalLength)*360/Math.PI;this._hFieldOfView=Math.atan(.5*this._pScissorRect.width/this._hFocalLength)*360/Math.PI}else{this._focalLength=.5*this._pScissorRect.height/Math.tan(this._fieldOfView*Math.PI/360);if(this._preserveAspectRatio)this._hFocalLength=this._focalLength;else this._hFocalLength=.5*this._pScissorRect.width/Math.tan(this._hFieldOfView*Math.PI/360)}var e=-this._pOriginX/this._hFocalLength;var i=(1-this._pOriginX)/this._hFocalLength;var r=-this._pOriginY/this._focalLength;var s=(1-this._pOriginY)/this._focalLength;var n;var o;var h;var u;var c=-((e-i)*this._pScissorRect.x+e*this._pScissorRect.width);var p=(r-s)*this._pScissorRect.y+r*this._pScissorRect.height;n=c-(i-e)*this._pViewPort.width;o=c;h=p;u=p+(s-r)*this._pViewPort.height;t[0]=2/(o-n);t[5]=2/(u-h);t[8]=(o+n)/(o-n);t[9]=(u+h)/(u-h);t[10]=(this._pFar+this._pNear)/(this._pFar-this._pNear);t[11]=1;t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[12]=t[13]=t[15]=0;t[14]=-2*this._pFar*this._pNear/(this._pFar-this._pNear);if(this._pCoordinateSystem==a.RIGHT_HANDED)t[5]=-t[5];this._pMatrix.copyRawDataFrom(t);this._pFrustumCorners[0]=this._pFrustumCorners[9]=this._pNear*n;this._pFrustumCorners[3]=this._pFrustumCorners[6]=this._pNear*o;this._pFrustumCorners[1]=this._pFrustumCorners[4]=this._pNear*h;this._pFrustumCorners[7]=this._pFrustumCorners[10]=this._pNear*u;this._pFrustumCorners[12]=this._pFrustumCorners[21]=this._pFar*n;this._pFrustumCorners[15]=this._pFrustumCorners[18]=this._pFar*o;this._pFrustumCorners[13]=this._pFrustumCorners[16]=this._pFar*h;this._pFrustumCorners[19]=this._pFrustumCorners[22]=this._pFar*u;this._pFrustumCorners[2]=this._pFrustumCorners[5]=this._pFrustumCorners[8]=this._pFrustumCorners[11]=this._pNear;this._pFrustumCorners[14]=this._pFrustumCorners[17]=this._pFrustumCorners[20]=this._pFrustumCorners[23]=this._pFar;this._pMatrixInvalid=false};return e}(n);e.exports=o},{"awayjs-core/lib/geom/Vector3D":"awayjs-core/lib/geom/Vector3D","awayjs-core/lib/projections/CoordinateSystem":"awayjs-core/lib/projections/CoordinateSystem","awayjs-core/lib/projections/ProjectionBase":"awayjs-core/lib/projections/ProjectionBase"}],"awayjs-core/lib/projections/ProjectionBase":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/geom/Matrix3D");var a=t("awayjs-core/lib/geom/Rectangle");var n=t("awayjs-core/lib/events/EventDispatcher");var o=t("awayjs-core/lib/events/ProjectionEvent");var h=t("awayjs-core/lib/errors/AbstractMethodError");var u=function(t){r(e,t);function e(e){if(e===void 0){e="leftHanded"}t.call(this);this._pMatrix=new s;this._pScissorRect=new a;this._pViewPort=new a;this._pNear=20;this._pFar=3e3;this._pAspectRatio=1;this._pMatrixInvalid=true;this._pFrustumCorners=[];this._pOriginX=.5;this._pOriginY=.5;this._unprojectionInvalid=true;this.coordinateSystem=e}Object.defineProperty(e.prototype,"coordinateSystem",{get:function(){return this._pCoordinateSystem},set:function(t){if(this._pCoordinateSystem==t)return;this._pCoordinateSystem=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"frustumCorners",{get:function(){return this._pFrustumCorners},set:function(t){this._pFrustumCorners=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"matrix",{get:function(){if(this._pMatrixInvalid){this.pUpdateMatrix();this._pMatrixInvalid=false}return this._pMatrix},set:function(t){this._pMatrix=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"near",{get:function(){return this._pNear},set:function(t){if(t==this._pNear){return}this._pNear=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"originX",{get:function(){return this._pOriginX},set:function(t){if(this._pOriginX==t)return;this._pOriginX=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"originY",{get:function(){return this._pOriginY},set:function(t){if(this._pOriginY==t)return;this._pOriginY=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"far",{get:function(){return this._pFar},set:function(t){if(t==this._pFar){return}this._pFar=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});e.prototype.project=function(t){var e=this.matrix.transformVector(t);e.x=e.x/e.w;e.y=-e.y/e.w;e.z=t.z;return e};Object.defineProperty(e.prototype,"unprojectionMatrix",{get:function(){if(this._unprojectionInvalid){if(!this._unprojection)this._unprojection=new s;this._unprojection.copyFrom(this.matrix);this._unprojection.invert();this._unprojectionInvalid=false}return this._unprojection},enumerable:true,configurable:true});e.prototype.unproject=function(t,e,i){throw new h};e.prototype.clone=function(){throw new h};Object.defineProperty(e.prototype,"_iAspectRatio",{get:function(){return this._pAspectRatio},set:function(t){if(this._pAspectRatio==t)return;this._pAspectRatio=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});e.prototype.pInvalidateMatrix=function(){this._pMatrixInvalid=true;this._unprojectionInvalid=true;this.dispatchEvent(new o(o.MATRIX_CHANGED,this))};e.prototype.pUpdateMatrix=function(){throw new h};e.prototype._iUpdateScissorRect=function(t,e,i,r){this._pScissorRect.x=t;this._pScissorRect.y=e;this._pScissorRect.width=i;this._pScissorRect.height=r;this.pInvalidateMatrix()};e.prototype._iUpdateViewport=function(t,e,i,r){this._pViewPort.x=t;
this._pViewPort.y=e;this._pViewPort.width=i;this._pViewPort.height=r;this.pInvalidateMatrix()};return e}(n);e.exports=u},{"awayjs-core/lib/errors/AbstractMethodError":"awayjs-core/lib/errors/AbstractMethodError","awayjs-core/lib/events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher","awayjs-core/lib/events/ProjectionEvent":"awayjs-core/lib/events/ProjectionEvent","awayjs-core/lib/geom/Matrix3D":"awayjs-core/lib/geom/Matrix3D","awayjs-core/lib/geom/Rectangle":"awayjs-core/lib/geom/Rectangle"}],"awayjs-core/lib/textures/BitmapCubeTexture":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/Error");var a=t("awayjs-core/lib/textures/CubeTextureBase");var n=t("awayjs-core/lib/utils/TextureUtils");var o=function(t){r(e,t);function e(e,i,r,s,a,n){t.call(this);this._bitmapDatas=new Array(6);this._testSize(this._bitmapDatas[0]=e);this._testSize(this._bitmapDatas[1]=i);this._testSize(this._bitmapDatas[2]=r);this._testSize(this._bitmapDatas[3]=s);this._testSize(this._bitmapDatas[4]=a);this._testSize(this._bitmapDatas[5]=n);this.invalidateContent();this._pSetSize(e.width)}Object.defineProperty(e.prototype,"positiveX",{get:function(){return this._bitmapDatas[0]},set:function(t){this._testSize(t);this.invalidateContent();this._pSetSize(t.width);this._bitmapDatas[0]=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"negativeX",{get:function(){return this._bitmapDatas[1]},set:function(t){this._testSize(t);this.invalidateContent();this._pSetSize(t.width);this._bitmapDatas[1]=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"positiveY",{get:function(){return this._bitmapDatas[2]},set:function(t){this._testSize(t);this.invalidateContent();this._pSetSize(t.width);this._bitmapDatas[2]=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"negativeY",{get:function(){return this._bitmapDatas[3]},set:function(t){this._testSize(t);this.invalidateContent();this._pSetSize(t.width);this._bitmapDatas[3]=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"positiveZ",{get:function(){return this._bitmapDatas[4]},set:function(t){this._testSize(t);this.invalidateContent();this._pSetSize(t.width);this._bitmapDatas[4]=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"negativeZ",{get:function(){return this._bitmapDatas[5]},set:function(t){this._testSize(t);this.invalidateContent();this._pSetSize(t.width);this._bitmapDatas[5]=t},enumerable:true,configurable:true});e.prototype._testSize=function(t){if(t.width!=t.height)throw new s("BitmapData should have equal width and height!");if(!n.isBitmapDataValid(t))throw new s("Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048")};e.prototype.dispose=function(){t.prototype.dispose.call(this);var e=this._bitmapDatas.length;for(var i=0;i<e;i++){this._bitmapDatas[i].dispose();this._bitmapDatas[i]=null}this._bitmapDatas=null};e.prototype._iGetTextureData=function(t){return this._bitmapDatas[t]};return e}(a);e.exports=o},{"awayjs-core/lib/errors/Error":"awayjs-core/lib/errors/Error","awayjs-core/lib/textures/CubeTextureBase":"awayjs-core/lib/textures/CubeTextureBase","awayjs-core/lib/utils/TextureUtils":"awayjs-core/lib/utils/TextureUtils"}],"awayjs-core/lib/textures/BitmapTexture":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/Error");var a=t("awayjs-core/lib/textures/Texture2DBase");var n=t("awayjs-core/lib/utils/TextureUtils");var o=function(t){r(e,t);function e(e){t.call(this);this.bitmapData=e}Object.defineProperty(e.prototype,"bitmapData",{get:function(){return this._bitmapData},set:function(t){if(this._bitmapData==t)return;if(!n.isBitmapDataValid(t))throw new s("Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048");this._bitmapData=t;this.invalidateContent();this._pSetSize(t.width,t.height)},enumerable:true,configurable:true});e.prototype.dispose=function(){t.prototype.dispose.call(this);this._bitmapData.dispose();this._bitmapData=null};e.prototype._iGetTextureData=function(){return this._bitmapData};return e}(a);e.exports=o},{"awayjs-core/lib/errors/Error":"awayjs-core/lib/errors/Error","awayjs-core/lib/textures/Texture2DBase":"awayjs-core/lib/textures/Texture2DBase","awayjs-core/lib/utils/TextureUtils":"awayjs-core/lib/utils/TextureUtils"}],"awayjs-core/lib/textures/CubeTextureBase":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/AbstractMethodError");var a=t("awayjs-core/lib/textures/MipmapGenerator");var n=t("awayjs-core/lib/textures/TextureProxyBase");var o=function(t){r(e,t);function e(){t.call(this);this._mipmapDataArray=new Array(6);this._mipmapDataDirtyArray=new Array(6)}e.prototype._pSetSize=function(t){if(this._pSize!=t)this.invalidateSize();for(var e=0;e<6;e++)this._mipmapDataDirtyArray[e]=true;this._pSize=t};e.prototype.dispose=function(){t.prototype.dispose.call(this);for(var e=0;e<6;e++){var i=this._mipmapDataArray[e];var r=i.length;for(var s=0;s<r;s++)a.freeMipMapHolder(i[s])}};e.prototype.invalidateContent=function(){t.prototype.invalidateContent.call(this);for(var e=0;e<6;e++)this._mipmapDataDirtyArray[e]=true};e.prototype._iGetMipmapData=function(t){if(this._mipmapDataDirtyArray[t]){this._mipmapDataDirtyArray[t]=false;var e=this._mipmapDataArray[t]||(this._mipmapDataArray[t]=new Array);a.generateMipMaps(this._iGetTextureData(t),e,true)}return this._mipmapDataArray[t]};e.prototype._iGetTextureData=function(t){throw new s};return e}(n);e.exports=o},{"awayjs-core/lib/errors/AbstractMethodError":"awayjs-core/lib/errors/AbstractMethodError","awayjs-core/lib/textures/MipmapGenerator":"awayjs-core/lib/textures/MipmapGenerator","awayjs-core/lib/textures/TextureProxyBase":"awayjs-core/lib/textures/TextureProxyBase"}],"awayjs-core/lib/textures/ImageCubeTexture":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/Error");var a=t("awayjs-core/lib/textures/CubeTextureBase");var n=t("awayjs-core/lib/utils/TextureUtils");var o=function(t){r(e,t);function e(e,i,r,s,a,n){t.call(this);this._htmlImageElements=new Array(6);this._testSize(this._htmlImageElements[0]=e);this._testSize(this._htmlImageElements[1]=i);this._testSize(this._htmlImageElements[2]=r);this._testSize(this._htmlImageElements[3]=s);this._testSize(this._htmlImageElements[4]=a);this._testSize(this._htmlImageElements[5]=n);this.invalidateContent();this._pSetSize(e.width)}Object.defineProperty(e.prototype,"positiveX",{get:function(){return this._htmlImageElements[0]},set:function(t){this._testSize(t);this.invalidateContent();this._pSetSize(t.width);this._htmlImageElements[0]=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"negativeX",{get:function(){return this._htmlImageElements[1]},set:function(t){this._testSize(t);this.invalidateContent();this._pSetSize(t.width);this._htmlImageElements[1]=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"positiveY",{get:function(){return this._htmlImageElements[2]},set:function(t){this._testSize(t);this.invalidateContent();this._pSetSize(t.width);this._htmlImageElements[2]=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"negativeY",{get:function(){return this._htmlImageElements[3]},set:function(t){this._testSize(t);this.invalidateContent();this._pSetSize(t.width);this._htmlImageElements[3]=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"positiveZ",{get:function(){return this._htmlImageElements[4]},set:function(t){this._testSize(t);this.invalidateContent();this._pSetSize(t.width);this._htmlImageElements[4]=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"negativeZ",{get:function(){return this._htmlImageElements[5]},set:function(t){this._testSize(t);this.invalidateContent();this._pSetSize(t.width);this._htmlImageElements[5]=t},enumerable:true,configurable:true});e.prototype._testSize=function(t){if(t.width!=t.height)throw new s("BitmapData should have equal width and height!");if(!n.isHTMLImageElementValid(t))throw new s("Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048")};e.prototype._iGetTextureData=function(t){return this._htmlImageElements[t]};return e}(a);e.exports=o},{"awayjs-core/lib/errors/Error":"awayjs-core/lib/errors/Error","awayjs-core/lib/textures/CubeTextureBase":"awayjs-core/lib/textures/CubeTextureBase","awayjs-core/lib/utils/TextureUtils":"awayjs-core/lib/utils/TextureUtils"}],"awayjs-core/lib/textures/ImageTexture":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/Error");var a=t("awayjs-core/lib/textures/Texture2DBase");var n=t("awayjs-core/lib/utils/TextureUtils");var o=function(t){r(e,t);function e(e){t.call(this);this.htmlImageElement=e}Object.defineProperty(e.prototype,"htmlImageElement",{get:function(){return this._htmlImageElement},set:function(t){if(this._htmlImageElement==t)return;if(!n.isHTMLImageElementValid(t))throw new s("Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048");this._htmlImageElement=t;this.invalidateContent();this._pSetSize(t.width,t.height)},enumerable:true,configurable:true});e.prototype._iGetTextureData=function(){return this._htmlImageElement};return e}(a);e.exports=o},{"awayjs-core/lib/errors/Error":"awayjs-core/lib/errors/Error","awayjs-core/lib/textures/Texture2DBase":"awayjs-core/lib/textures/Texture2DBase","awayjs-core/lib/utils/TextureUtils":"awayjs-core/lib/utils/TextureUtils"}],"awayjs-core/lib/textures/MipmapGenerator":[function(t,e,i){var r=t("awayjs-core/lib/data/BitmapData");var s=t("awayjs-core/lib/geom/Matrix");var a=t("awayjs-core/lib/geom/Rectangle");var n=function(){function t(){}t.generateMipMaps=function(e,i,r){if(r===void 0){r=false}var s=e.width;var a=e.height;var n=0;var o;t._rect.width=s;t._rect.height=a;while(s>=1||a>=1){o=i[n]=t._getMipmapHolder(i[n],t._rect.width,t._rect.height);if(r)o.fillRect(t._rect,0);t._matrix.a=t._rect.width/e.width;t._matrix.d=t._rect.height/e.height;o.draw(e,t._matrix);s>>=1;a>>=1;t._rect.width=s>1?s:1;t._rect.height=a>1?a:1;n++}};t._getMipmapHolder=function(e,i,s){if(e){if(e.width==i&&e.height==s)return e;t.freeMipMapHolder(e)}if(!t._mipMaps[i]){t._mipMaps[i]=[];t._mipMapUses[i]=[]}if(!t._mipMaps[i][s]){e=t._mipMaps[i][s]=new r(i,s,true);t._mipMapUses[i][s]=1}else{t._mipMapUses[i][s]=t._mipMapUses[i][s]+1;e=t._mipMaps[i][s]}return e};t.freeMipMapHolder=function(e){var i=e.width;var r=e.height;if(--t._mipMapUses[i][r]==0){t._mipMaps[i][r].dispose();t._mipMaps[i][r]=null}};t._mipMaps=[];t._mipMapUses=[];t._matrix=new s;t._rect=new a;return t}();e.exports=n},{"awayjs-core/lib/data/BitmapData":"awayjs-core/lib/data/BitmapData","awayjs-core/lib/geom/Matrix":"awayjs-core/lib/geom/Matrix","awayjs-core/lib/geom/Rectangle":"awayjs-core/lib/geom/Rectangle"}],"awayjs-core/lib/textures/RenderTexture":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/Error");var a=t("awayjs-core/lib/textures/Texture2DBase");var n=t("awayjs-core/lib/utils/TextureUtils");var o=function(t){r(e,t);function e(e,i){t.call(this);this._pSetSize(e,i)}Object.defineProperty(e.prototype,"width",{get:function(){return this._pWidth},set:function(t){if(t==this._pWidth)return;if(!n.isDimensionValid(t))throw new s("Invalid size: Width and height must be power of 2 and cannot exceed 2048");this.invalidateContent();this._pSetSize(t,this._pHeight)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"height",{get:function(){return this._pHeight},set:function(t){if(t==this._pHeight)return;if(!n.isDimensionValid(t))throw new s("Invalid size: Width and height must be power of 2 and cannot exceed 2048");this.invalidateContent();this._pSetSize(this._pWidth,t)},enumerable:true,configurable:true});return e}(a);e.exports=o},{"awayjs-core/lib/errors/Error":"awayjs-core/lib/errors/Error","awayjs-core/lib/textures/Texture2DBase":"awayjs-core/lib/textures/Texture2DBase","awayjs-core/lib/utils/TextureUtils":"awayjs-core/lib/utils/TextureUtils"}],"awayjs-core/lib/textures/SpecularBitmapTexture":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/data/BitmapData");var a=t("awayjs-core/lib/data/BitmapDataChannel");var n=t("awayjs-core/lib/geom/Point");var o=t("awayjs-core/lib/textures/BitmapTexture");var h=function(t){r(e,t);function e(e,i){if(e===void 0){e=null}if(i===void 0){i=null}var r=e?e:i;r=r?new s(r.width,r.height,false,16777215):new s(1,1,false,16777215);t.call(this,r);this.specularMap=e;this.glossMap=i}Object.defineProperty(e.prototype,"specularMap",{get:function(){return this._specularMap},set:function(t){this._specularMap=t;this.invalidateContent();this._testSize()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"glossMap",{get:function(){return this._glossMap},set:function(t){this._glossMap=t;this.invalidateContent();this._testSize()},enumerable:true,configurable:true});e.prototype._testSize=function(){var t,e;if(this._specularMap){t=this._specularMap.width;e=this._specularMap.height}else if(this._glossMap){t=this._glossMap.width;e=this._glossMap.height}else{t=1;e=1}if(t!=this._bitmapData.width&&e!=this._bitmapData.height){var i=this._bitmapData;this.bitmapData=new s(this._specularMap.width,this._specularMap.height,false,16777215);i.dispose()}};e.prototype._iGetTextureData=function(){var t=this._specularMap.rect;var e=new n;this._bitmapData.fillRect(t,16777215);if(this._glossMap)this._bitmapData.copyChannel(this._glossMap,t,e,a.GREEN,a.GREEN);if(this._specularMap)this._bitmapData.copyChannel(this._specularMap,t,e,a.RED,a.RED);return this._bitmapData};return e}(o);e.exports=h},{"awayjs-core/lib/data/BitmapData":"awayjs-core/lib/data/BitmapData","awayjs-core/lib/data/BitmapDataChannel":"awayjs-core/lib/data/BitmapDataChannel","awayjs-core/lib/geom/Point":"awayjs-core/lib/geom/Point","awayjs-core/lib/textures/BitmapTexture":"awayjs-core/lib/textures/BitmapTexture"}],"awayjs-core/lib/textures/Texture2DBase":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/AbstractMethodError");var a=t("awayjs-core/lib/textures/MipmapGenerator");var n=t("awayjs-core/lib/textures/TextureProxyBase");var o=function(t){r(e,t);function e(){t.call(this)}Object.defineProperty(e.prototype,"width",{get:function(){return this._pWidth},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"height",{get:function(){return this._pHeight},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"size",{get:function(){return this._pWidth},enumerable:true,configurable:true});e.prototype.dispose=function(){t.prototype.dispose.call(this);if(this._mipmapData){var e=this._mipmapData.length;for(var i=0;i<e;i++)a.freeMipMapHolder(this._mipmapData[i])}};e.prototype.invalidateContent=function(){t.prototype.invalidateContent.call(this);this._mipmapDataDirty=true};e.prototype._pSetSize=function(t,e){if(this._pWidth!=t||this._pHeight!=e)this.invalidateSize();this._mipmapDataDirty=true;this._pWidth=t;this._pHeight=e};e.prototype._iGetMipmapData=function(){if(this._mipmapDataDirty){this._mipmapDataDirty=false;if(!this._mipmapData)this._mipmapData=new Array;a.generateMipMaps(this._iGetTextureData(),this._mipmapData,true)}return this._mipmapData};e.prototype._iGetTextureData=function(){throw new s};return e}(n);e.exports=o},{"awayjs-core/lib/errors/AbstractMethodError":"awayjs-core/lib/errors/AbstractMethodError","awayjs-core/lib/textures/MipmapGenerator":"awayjs-core/lib/textures/MipmapGenerator","awayjs-core/lib/textures/TextureProxyBase":"awayjs-core/lib/textures/TextureProxyBase"}],"awayjs-core/lib/textures/TextureProxyBase":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/library/AssetType");var a=t("awayjs-core/lib/library/NamedAssetBase");var n=function(t){r(e,t);function e(e){if(e===void 0){e=false}t.call(this);this._pFormat="bgra";this._textureData=new Array}Object.defineProperty(e.prototype,"size",{get:function(){return this._pSize},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"format",{get:function(){return this._pFormat},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"assetType",{get:function(){return s.TEXTURE},enumerable:true,configurable:true});e.prototype.invalidateContent=function(){var t=this._textureData.length;for(var e=0;e<t;e++)this._textureData[e].invalidate()};e.prototype.invalidateSize=function(){while(this._textureData.length)this._textureData[0].dispose()};e.prototype.dispose=function(){while(this._textureData.length)this._textureData[0].dispose()};e.prototype._iAddTextureData=function(t){this._textureData.push(t);return t};e.prototype._iRemoveTextureData=function(t){this._textureData.splice(this._textureData.indexOf(t),1);return t};return e}(a);e.exports=n},{"awayjs-core/lib/library/AssetType":"awayjs-core/lib/library/AssetType","awayjs-core/lib/library/NamedAssetBase":"awayjs-core/lib/library/NamedAssetBase"}],"awayjs-core/lib/ui/Keyboard":[function(t,e,i){var r=function(){function t(){}t.A=65;t.ALTERNATE=18;t.AUDIO=16777239;t.B=66;t.BACK=16777238;t.BACKQUOTE=192;t.BACKSLASH=220;t.BACKSPACE=8;t.BLUE=16777219;t.C=67;t.CAPS_LOCK=20;t.CHANNEL_DOWN=16777221;t.CHANNEL_UP=16777221;t.COMMA=188;t.COMMAND=15;t.CONTROL=17;t.D=68;t.DELETE=46;t.DOWN=40;t.DVR=16777241;t.E=69;t.END=35;t.ENTER=13;t.EQUAL=187;t.ESCAPE=27;t.EXIT=16777237;t.F=70;t.F1=112;t.F10=121;t.F11=122;t.F12=123;t.F13=124;t.F14=125;t.F15=126;t.F2=113;t.F3=114;t.F4=115;t.F5=116;t.F6=117;t.F7=118;t.F8=119;t.F9=120;t.FAST_FORWARD=16777226;t.G=71;t.GREEN=16777217;t.GUIDE=16777236;t.H=72;t.HELP=16777245;t.HOME=36;t.I=73;t.INFO=16777235;t.INPUT=16777243;t.INSERT=45;t.J=74;t.K=75;t.KEYNAME_BEGIN="Begin";t.KEYNAME_BREAK="Break";t.KEYNAME_CLEARDISPLAY="ClrDsp";t.KEYNAME_CLEARLINE="ClrLn";t.KEYNAME_DELETE="Delete";t.KEYNAME_DELETECHAR="DelChr";t.KEYNAME_DELETELINE="DelLn";t.KEYNAME_DOWNARROW="Down";t.KEYNAME_END="End";t.KEYNAME_EXECUTE="Exec";t.KEYNAME_F1="F1";t.KEYNAME_F10="F10";t.KEYNAME_F11="F11";t.KEYNAME_F12="F12";t.KEYNAME_F13="F13";t.KEYNAME_F14="F14";t.KEYNAME_F15="F15";t.KEYNAME_F16="F16";t.KEYNAME_F17="F17";t.KEYNAME_F18="F18";t.KEYNAME_F19="F19";t.KEYNAME_F2="F2";t.KEYNAME_F20="F20";t.KEYNAME_F21="F21";t.KEYNAME_F22="F22";t.KEYNAME_F23="F23";t.KEYNAME_F24="F24";t.KEYNAME_F25="F25";t.KEYNAME_F26="F26";t.KEYNAME_F27="F27";t.KEYNAME_F28="F28";t.KEYNAME_F29="F29";t.KEYNAME_F3="F3";t.KEYNAME_F30="F30";t.KEYNAME_F31="F31";t.KEYNAME_F32="F32";t.KEYNAME_F33="F33";t.KEYNAME_F34="F34";t.KEYNAME_F35="F35";t.KEYNAME_F4="F4";t.KEYNAME_F5="F5";t.KEYNAME_F6="F6";t.KEYNAME_F7="F7";t.KEYNAME_F8="F8";t.KEYNAME_F9="F9";t.KEYNAME_FIND="Find";t.KEYNAME_HELP="Help";t.KEYNAME_HOME="Home";t.KEYNAME_INSERT="Insert";t.KEYNAME_INSERTCHAR="InsChr";t.KEYNAME_INSERTLINE="LnsLn";t.KEYNAME_LEFTARROW="Left";t.KEYNAME_MENU="Menu";t.KEYNAME_MODESWITCH="ModeSw";t.KEYNAME_NEXT="Next";t.KEYNAME_PAGEDOWN="PgDn";t.KEYNAME_PAGEUP="PgUp";t.KEYNAME_PAUSE="Pause";t.KEYNAME_PREV="Prev";t.KEYNAME_PRINT="Print";t.KEYNAME_PRINTSCREEN="PrntScrn";t.KEYNAME_REDO="Redo";t.KEYNAME_RESET="Reset";t.KEYNAME_RIGHTARROW="Right";t.KEYNAME_SCROLLLOCK="ScrlLck";t.KEYNAME_SELECT="Select";t.KEYNAME_STOP="Stop";t.KEYNAME_SYSREQ="SysReq";t.KEYNAME_SYSTEM="Sys";t.KEYNAME_UNDO="Undo";t.KEYNAME_UPARROW="Up";t.KEYNAME_USER="User";t.L=76;t.LAST=16777233;t.LEFT=37;t.LEFTBRACKET=219;t.LIVE=16777232;t.M=77;t.MASTER_SHELL=16777246;t.MENU=16777234;t.MINUS=189;t.N=78;t.NEXT=16777230;t.NUMBER_0=48;t.NUMBER_1=49;t.NUMBER_2=50;t.NUMBER_3=51;t.NUMBER_4=52;t.NUMBER_5=53;t.NUMBER_6=54;t.NUMBER_7=55;t.NUMBER_8=56;t.NUMBER_9=57;t.NUMPAD=21;t.NUMPAD_0=96;t.NUMPAD_1=97;t.NUMPAD_2=98;t.NUMPAD_3=99;t.NUMPAD_4=100;t.NUMPAD_5=101;t.NUMPAD_6=102;t.NUMPAD_7=103;t.NUMPAD_8=104;t.NUMPAD_9=105;t.NUMPAD_ADD=107;t.NUMPAD_DECIMAL=110;t.NUMPAD_DIVIDE=111;t.NUMPAD_ENTER=108;t.NUMPAD_MULTIPLY=106;t.NUMPAD_SUBTRACT=109;t.O=79;t.P=80;t.PAGE_DOWN=34;t.PAGE_UP=33;t.PAUSE=16777224;t.PERIOD=190;t.PLAY=16777223;t.PREVIOUS=16777231;t.Q=81;t.QUOTE=222;t.R=82;t.RECORD=16777222;t.RED=16777216;t.REWIND=16777227;t.RIGHT=39;t.RIGHTBRACKET=221;t.S=83;t.SEARCH=16777247;t.SEMICOLON=186;t.SETUP=16777244;t.SHIFT=16;t.SKIP_BACKWARD=16777229;t.SKIP_FORWARD=16777228;t.SLASH=191;t.SPACE=32;t.STOP=16777225;t.SUBTITLE=16777240;t.T=84;t.TAB=9;t.U=85;t.UP=38;t.V=86;t.VOD=16777242;t.W=87;t.X=88;t.Y=89;t.YELLOW=16777218;t.Z=90;return t}();e.exports=r},{}],"awayjs-core/lib/utils/ByteArrayBase":[function(t,e,i){var r=t("awayjs-core/lib/errors/AbstractMethodError");var s=function(){function t(){this.position=0;this.length=0;this._mode=""}t.prototype.writeByte=function(t){throw"Virtual method"};t.prototype.readByte=function(){throw"Virtual method"};t.prototype.writeUnsignedByte=function(t){throw"Virtual method"};t.prototype.readUnsignedByte=function(){throw"Virtual method"};t.prototype.writeUnsignedShort=function(t){throw"Virtual method"};t.prototype.readUnsignedShort=function(){throw"Virtual method"};t.prototype.writeUnsignedInt=function(t){throw"Virtual method"};t.prototype.readUnsignedInt=function(){throw"Virtual method"};t.prototype.writeFloat=function(t){throw"Virtual method"};t.prototype.toFloatBits=function(t){throw"Virtual method"};t.prototype.readFloat=function(t){throw"Virtual method"};t.prototype.fromFloatBits=function(t){throw"Virtual method"};t.prototype.getBytesAvailable=function(){throw new r("ByteArrayBase, getBytesAvailable() not implemented ")};t.prototype.toString=function(){return"[ByteArray] ( "+this._mode+" ) position="+this.position+" length="+this.length};t.prototype.compareEqual=function(t,e){if(e==undefined||e>this.length-this.position)e=this.length-this.position;if(e>t.length-t.position)e=t.length-t.position;var i=e;var r=true;while(r&&e>=4){e-=4;if(this.readUnsignedInt()!=t.readUnsignedInt())r=false}while(r&&e>=1){e--;if(this.readUnsignedByte()!=t.readUnsignedByte())r=false}var s;this.position-=s-e;t.position-=s-e;return r};t.prototype.writeBase64String=function(t){for(var e=0;e<t.length;e++){var i=t.charAt(e)}};t.prototype.dumpToConsole=function(){var t=this.position;this.position=0;var e=8;function i(t,e){var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var r="";for(var s=0;s<e;s++){r=i[t>>(s<<2)&15]+r}return r}for(var r=0;r<this.length;r+=e){var s=i(r,4)+":";for(var a=0;a<e&&r+a<this.length;a++){s+=" "+i(this.readUnsignedByte(),2)}console.log(s)}this.position=t};t.prototype.readBase64String=function(e){if(e==undefined||e>this.length-this.position)e=this.length-this.position;if(!(e>0))return"";return t.internalGetBase64String(e,this.readUnsignedByte,this)};t.internalGetBase64String=function(e,i,r){var s="";var a,n,o,h,u,c,p;var l=t.Base64Key;while(e>=3){a=i.apply(r);n=i.apply(r);o=i.apply(r);h=a>>2;u=(a&3)<<4|n>>4;c=(n&15)<<2|o>>6;p=o&63;s+=l.charAt(h)+l.charAt(u)+l.charAt(c)+l.charAt(p);e-=3}if(e==2){a=i.apply(r);n=i.apply(r);h=a>>2;u=(a&3)<<4|n>>4;c=(n&15)<<2;s+=l.charAt(h)+l.charAt(u)+l.charAt(c)+"="}else if(e==1){a=i.apply(r);h=a>>2;u=(a&3)<<4;s+=l.charAt(h)+l.charAt(u)+"=="}return s};t.Base64Key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return t}();e.exports=s},{"awayjs-core/lib/errors/AbstractMethodError":"awayjs-core/lib/errors/AbstractMethodError"}],"awayjs-core/lib/utils/ByteArrayBuffer":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/utils/ByteArrayBase");var a=function(t){r(e,t);function e(){t.call(this);this._bytes=[];this._mode="Array"}e.prototype.writeByte=function(t){var e=~~t;this._bytes[this.position++]=e;if(this.position>this.length){this.length=this.position}};e.prototype.readByte=function(){if(this.position>=this.length){throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length}return this._bytes[this.position++]};e.prototype.writeUnsignedByte=function(t){var e=~~t;this._bytes[this.position++]=e&255;if(this.position>this.length){this.length=this.position}};e.prototype.readUnsignedByte=function(){if(this.position>=this.length){throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length}return this._bytes[this.position++]};e.prototype.writeUnsignedShort=function(t){var e=~~t;this._bytes[this.position++]=e&255;this._bytes[this.position++]=e>>8&255;if(this.position>this.length){this.length=this.position}};e.prototype.readUnsignedShort=function(){if(this.position+2>this.length){throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length}var t=this._bytes[this.position]|this._bytes[this.position+1]<<8;this.position+=2;return t};e.prototype.writeUnsignedInt=function(t){var e=~~t;this._bytes[this.position++]=e&255;this._bytes[this.position++]=e>>>8&255;this._bytes[this.position++]=e>>>16&255;this._bytes[this.position++]=e>>>24&255;if(this.position>this.length){this.length=this.position}};e.prototype.readUnsignedInt=function(){if(this.position+4>this.length){throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length}var t=this._bytes[this.position]|this._bytes[this.position+1]<<8|this._bytes[this.position+2]<<16|this._bytes[this.position+3]<<24;this.position+=4;return t>>>0};e.prototype.writeFloat=function(t){this.writeUnsignedInt(this.toFloatBits(Number(t)))};e.prototype.toFloatBits=function(t){if(t==0){return 0}var e=0;if(t<0){t=-t;e=1}else{e=0}var i=Math.log(t)/Math.log(2);i=Math.floor(i);t=t*Math.pow(2,23-i);var r=Math.floor(t)-8388608;i=i+127;return e<<31>>>0|i<<23|r};e.prototype.readFloat=function(t){return this.fromFloatBits(this.readUnsignedInt())};e.prototype.fromFloatBits=function(t){if(t==0){return 0}var e=t>>>23&255;var i=t&8388607|8388608;var r=Math.pow(2,e-127-23)*i;if(t>>>31!=0){r=-r}return r};return e}(s);e.exports=a},{"awayjs-core/lib/utils/ByteArrayBase":"awayjs-core/lib/utils/ByteArrayBase"}],"awayjs-core/lib/utils/ByteArray":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/utils/ByteArrayBase");var a=function(t){r(e,t);function e(){t.call(this);this.maxlength=0;this._mode="Typed array";this.maxlength=4;this.arraybytes=new ArrayBuffer(this.maxlength);this.unalignedarraybytestemp=new ArrayBuffer(16)}e.prototype.ensureWriteableSpace=function(t){this.ensureSpace(t+this.position)};e.prototype.setArrayBuffer=function(t){this.ensureSpace(t.byteLength);this.length=t.byteLength;var e=new Int8Array(t);var i=new Int8Array(this.arraybytes,0,this.length);i.set(e);this.position=0};e.prototype.getBytesAvailable=function(){return this.length-this.position};e.prototype.ensureSpace=function(t){if(t>this.maxlength){var e=t+255&~255;var i=new ArrayBuffer(e);var r=new Uint8Array(this.arraybytes,0,this.length);var s=new Uint8Array(i,0,this.length);s.set(r);this.arraybytes=i;this.maxlength=e}};e.prototype.writeByte=function(t){this.ensureWriteableSpace(1);var e=new Int8Array(this.arraybytes);e[this.position++]=~~t;if(this.position>this.length){this.length=this.position}};e.prototype.readByte=function(){if(this.position>=this.length){throw"ByteArray out of bounds read. Positon="+this.position+", Length="+this.length}var t=new Int8Array(this.arraybytes);return t[this.position++]};e.prototype.readBytes=function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=0}if(i==null){i=t.length}t.ensureWriteableSpace(e+i);var r=new Int8Array(t.arraybytes);var s=new Int8Array(this.arraybytes);r.set(s.subarray(this.position,this.position+i),e);this.position+=i;if(i+e>t.length){t.length+=i+e-t.length}};e.prototype.writeUnsignedByte=function(t){this.ensureWriteableSpace(1);var e=new Uint8Array(this.arraybytes);e[this.position++]=~~t&255;if(this.position>this.length){this.length=this.position}};e.prototype.readUnsignedByte=function(){if(this.position>=this.length){throw"ByteArray out of bounds read. Positon="+this.position+", Length="+this.length}var t=new Uint8Array(this.arraybytes);return t[this.position++]};e.prototype.writeUnsignedShort=function(t){this.ensureWriteableSpace(2);if((this.position&1)==0){var e=new Uint16Array(this.arraybytes);e[this.position>>1]=~~t&65535}else{var e=new Uint16Array(this.unalignedarraybytestemp,0,1);e[0]=~~t&65535;var i=new Uint8Array(this.arraybytes,this.position,2);var r=new Uint8Array(this.unalignedarraybytestemp,0,2);i.set(r)}this.position+=2;if(this.position>this.length){this.length=this.position}};e.prototype.readUTFBytes=function(t){var e="";var i=this.position+t;var r=new DataView(this.arraybytes);while(this.position<i){var s=r.getUint8(this.position++);if(s<128){if(s==0)break;e+=String.fromCharCode(s)}else if(s<224){e+=String.fromCharCode((s&63)<<6|r.getUint8(this.position++)&127)}else if(s<240){var a=r.getUint8(this.position++);e+=String.fromCharCode((s&31)<<12|(a&127)<<6|r.getUint8(this.position++)&127)}else{var a=r.getUint8(this.position++);var n=r.getUint8(this.position++);e+=String.fromCharCode((s&15)<<18|(a&127)<<12|n<<6&127|r.getUint8(this.position++)&127)}}return e};e.prototype.readInt=function(){var t=new DataView(this.arraybytes);var e=t.getInt32(this.position,true);this.position+=4;return e};e.prototype.readShort=function(){var t=new DataView(this.arraybytes);var e=t.getInt16(this.position,true);this.position+=2;return e};e.prototype.readDouble=function(){var t=new DataView(this.arraybytes);var e=t.getFloat64(this.position,true);this.position+=8;return e};e.prototype.readUnsignedShort=function(){if(this.position>this.length+2){throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length}if((this.position&1)==0){var t=new Uint16Array(this.arraybytes);var e=this.position>>1;this.position+=2;return t[e]}else{var t=new Uint16Array(this.unalignedarraybytestemp,0,1);var i=new Uint8Array(this.arraybytes,this.position,2);var r=new Uint8Array(this.unalignedarraybytestemp,0,2);r.set(i);this.position+=2;return t[0]}};e.prototype.writeUnsignedInt=function(t){this.ensureWriteableSpace(4);if((this.position&3)==0){var e=new Uint32Array(this.arraybytes);e[this.position>>2]=~~t&4294967295}else{var e=new Uint32Array(this.unalignedarraybytestemp,0,1);e[0]=~~t&4294967295;var i=new Uint8Array(this.arraybytes,this.position,4);var r=new Uint8Array(this.unalignedarraybytestemp,0,4);i.set(r)}this.position+=4;if(this.position>this.length){this.length=this.position}};e.prototype.readUnsignedInt=function(){if(this.position>this.length+4){throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length}if((this.position&3)==0){var t=new Uint32Array(this.arraybytes);var e=this.position>>2;this.position+=4;return t[e]}else{var t=new Uint32Array(this.unalignedarraybytestemp,0,1);var i=new Uint8Array(this.arraybytes,this.position,4);var r=new Uint8Array(this.unalignedarraybytestemp,0,4);
r.set(i);this.position+=4;return t[0]}};e.prototype.writeFloat=function(t){this.ensureWriteableSpace(4);if((this.position&3)==0){var e=new Float32Array(this.arraybytes);e[this.position>>2]=t}else{var e=new Float32Array(this.unalignedarraybytestemp,0,1);e[0]=t;var i=new Uint8Array(this.arraybytes,this.position,4);var r=new Uint8Array(this.unalignedarraybytestemp,0,4);i.set(r)}this.position+=4;if(this.position>this.length){this.length=this.position}};e.prototype.readFloat=function(){if(this.position>this.length+4){throw"ByteArray out of bounds read. Positon="+this.position+", Length="+this.length}if((this.position&3)==0){var t=new Float32Array(this.arraybytes);var e=this.position>>2;this.position+=4;return t[e]}else{var t=new Float32Array(this.unalignedarraybytestemp,0,1);var i=new Uint8Array(this.arraybytes,this.position,4);var r=new Uint8Array(this.unalignedarraybytestemp,0,4);r.set(i);this.position+=4;return t[0]}};return e}(s);e.exports=a},{"awayjs-core/lib/utils/ByteArrayBase":"awayjs-core/lib/utils/ByteArrayBase"}],"awayjs-core/lib/utils/CSS":[function(t,e,i){var r=function(){function t(){}t.setElementSize=function(t,e,i){t.style.width=e+"px";t.style.height=i+"px";t["width"]=e;t["height"]=i};t.setElementWidth=function(t,e){t.style.width=e+"px";t["width"]=e};t.setElementHeight=function(t,e){t.style.height=e+"px";t["height"]=e};t.setElementX=function(t,e){t.style.position="absolute";t.style.left=e+"px"};t.setElementY=function(t,e){t.style.position="absolute";t.style.top=e+"px"};t.getElementVisibility=function(t){return t.style.visibility=="visible"};t.setElementVisibility=function(t,e){if(e){t.style.visibility="visible"}else{t.style.visibility="hidden"}};t.setElementAlpha=function(t,e){if(t instanceof HTMLCanvasElement){var i=t.getContext("2d");i.globalAlpha=e}};t.setElementPosition=function(t,e,i,r){if(r===void 0){r=false}if(r){t.style.position="absolute"}else{t.style.position="relative"}t.style.left=e+"px";t.style.top=i+"px"};return t}();e.exports=r},{}],"awayjs-core/lib/utils/ColorUtils":[function(t,e,i){var r=function(){function t(){}t.float32ColorToARGB=function(t){var e=(t&4278190080)>>>24;var i=(t&16711680)>>>16;var r=(t&65280)>>>8;var s=t&255;var a=[e,i,r,s];return a};t.componentToHex=function(t){var e=t.toString(16);return e.length==1?"0"+e:e};t.RGBToHexString=function(e){return"#"+t.componentToHex(e[1])+t.componentToHex(e[2])+t.componentToHex(e[3])};t.ARGBToHexString=function(e){return"#"+t.componentToHex(e[0])+t.componentToHex(e[1])+t.componentToHex(e[2])+t.componentToHex(e[3])};return t}();e.exports=r},{}],"awayjs-core/lib/utils/Debug":[function(t,e,i){var r=t("awayjs-core/lib/errors/PartialImplementationError");var s=function(){function t(){}t.breakpoint=function(){t["break"]()};t.throwPIROnKeyWordOnly=function(e,i){if(i===void 0){i=true}if(!i)t.keyword=null;else t.keyword=e};t.throwPIR=function(e,i,s){t.logPIR("PartialImplementationError "+e,i,s);if(t.THROW_ERRORS){if(t.keyword){var a=e+i+s;if(a.indexOf(t.keyword)==-1)return}throw new r(e+"."+i+": "+s)}};t.logPIR=function(e,i,r){if(r===void 0){r=""}if(t.LOG_PI_ERRORS)console.log(e+"."+i+": "+r)};t.log=function(){var e=[];for(var i=0;i<arguments.length;i++){e[i-0]=arguments[i]}if(t.ENABLE_LOG)console.log(e)};t.THROW_ERRORS=true;t.ENABLE_LOG=true;t.LOG_PI_ERRORS=true;t.keyword=null;return t}();e.exports=s},{"awayjs-core/lib/errors/PartialImplementationError":"awayjs-core/lib/errors/PartialImplementationError"}],"awayjs-core/lib/utils/RequestAnimationFrame":[function(t,e,i){var r=t("awayjs-core/lib/utils/getTimer");var s=function(){function t(t,e){var i=this;this._active=false;this._argsArray=new Array;this._getTimer=r;this.setCallback(t,e);this._rafUpdateFunction=function(){if(i._active)i._tick()};this._argsArray.push(this._dt)}t.prototype.setCallback=function(t,e){this._callback=t;this._callbackContext=e};t.prototype.start=function(){this._prevTime=this._getTimer();this._active=true;if(window.requestAnimationFrame){window.requestAnimationFrame(this._rafUpdateFunction)}else{if(window["mozRequestAnimationFrame"])window.requestAnimationFrame=window["mozRequestAnimationFrame"];else if(window["webkitRequestAnimationFrame"])window.requestAnimationFrame=window["webkitRequestAnimationFrame"];else if(window["oRequestAnimationFrame"])window.requestAnimationFrame=window["oRequestAnimationFrame"]}};t.prototype.stop=function(){this._active=false};Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:true,configurable:true});t.prototype._tick=function(){this._currentTime=this._getTimer();this._dt=this._currentTime-this._prevTime;this._argsArray[0]=this._dt;this._callback.apply(this._callbackContext,this._argsArray);window.requestAnimationFrame(this._rafUpdateFunction);this._prevTime=this._currentTime};return t}();e.exports=s},{"awayjs-core/lib/utils/getTimer":"awayjs-core/lib/utils/getTimer"}],"awayjs-core/lib/utils/TextureUtils":[function(t,e,i){var r=function(){function t(){}t.isBitmapDataValid=function(e){if(e==null)return true;return t.isDimensionValid(e.width)&&t.isDimensionValid(e.height)};t.isHTMLImageElementValid=function(e){if(e==null)return true;return t.isDimensionValid(e.width)&&t.isDimensionValid(e.height)};t.isDimensionValid=function(e){return e>=1&&e<=t.MAX_SIZE&&t.isPowerOfTwo(e)};t.isPowerOfTwo=function(t){return t?(t&-t)==t:false};t.getBestPowerOf2=function(e){var i=1;while(i<e)i<<=1;if(i>t.MAX_SIZE)i=t.MAX_SIZE;return i};t.MAX_SIZE=2048;return t}();e.exports=r},{}],"awayjs-core/lib/utils/Timer":[function(t,e,i){var r=this.__extends||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r};var s=t("awayjs-core/lib/errors/Error");var a=t("awayjs-core/lib/events/EventDispatcher");var n=t("awayjs-core/lib/events/TimerEvent");var o=function(t){r(e,t);function e(e,i){if(i===void 0){i=0}t.call(this);this._repeatCount=0;this._currentCount=0;this._running=false;this._delay=e;this._repeatCount=i;if(isNaN(e)||e<0)throw new s("Delay is negative or not a number")}Object.defineProperty(e.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=t;if(this._running){this.stop();this.start()}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(t){this._repeatCount=t},enumerable:true,configurable:true});e.prototype.reset=function(){if(this._running)this.stop();this._currentCount=0};Object.defineProperty(e.prototype,"running",{get:function(){return this._running},enumerable:true,configurable:true});e.prototype.start=function(){var t=this;this._running=true;clearInterval(this._iid);this._iid=setInterval(function(){return t.tick()},this._delay)};e.prototype.stop=function(){this._running=false;clearInterval(this._iid)};e.prototype.tick=function(){this._currentCount++;if(this._repeatCount>0&&this._currentCount>=this._repeatCount){this.stop();this.dispatchEvent(new n(n.TIMER));this.dispatchEvent(new n(n.TIMER_COMPLETE))}else{this.dispatchEvent(new n(n.TIMER))}};return e}(a);e.exports=o},{"awayjs-core/lib/errors/Error":"awayjs-core/lib/errors/Error","awayjs-core/lib/events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher","awayjs-core/lib/events/TimerEvent":"awayjs-core/lib/events/TimerEvent"}],"awayjs-core/lib/utils/getTimer":[function(t,e,i){function r(){return Date.now()}e.exports=r},{}]},{},[]);

//# sourceMappingURL=awayjs-core.min.js.map