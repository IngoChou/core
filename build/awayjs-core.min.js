require=function t(e,i,r){function s(a,o){if(!i[a]){if(!e[a]){var h="function"==typeof require&&require;if(!o&&h)return h(a,!0);if(n)return n(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var c=i[a]={exports:{}};e[a][0].call(c.exports,function(t){var i=e[a][1][t];return s(i?i:t)},c,c.exports,t,e,i,r)}return i[a].exports}for(var n="function"==typeof require&&require,a=0;a<r.length;a++)s(r[a]);return s}({"awayjs-core/lib/base/BitmapDataChannel":[function(t,e){var i=function(){function t(){}return t.ALPHA=8,t.BLUE=4,t.GREEN=2,t.RED=1,t}();e.exports=i},{}],"awayjs-core/lib/base/BitmapData":[function(t,e){var i=t("awayjs-core/lib/geom/Rectangle"),r=t("awayjs-core/lib/utils/ColorUtils"),s=function(){function t(t,e,s,n){void 0===s&&(s=!0),void 0===n&&(n=null),this._alpha=0,this._locked=!1,this._transparent=s,this._imageCanvas=document.createElement("canvas"),this._imageCanvas.width=t,this._imageCanvas.height=e,this._context=this._imageCanvas.getContext("2d"),this._rect=new i(0,0,t,e),null!=n&&(this._alpha=this._transparent?r.float32ColorToARGB(n)[0]/255:1,this.fillRect(this._rect,n))}return t.prototype.dispose=function(){this._context=null,this._imageCanvas=null,this._imageData=null,this._rect=null,this._transparent=null,this._locked=null},t.prototype.lock=function(){this._locked=!0,this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)},t.prototype.unlock=function(){this._locked=!1,this._imageData&&(this._context.putImageData(this._imageData,0,0),this._imageData=null)},t.prototype.getPixel=function(t,e){var i,r,s,n;if(this._locked){var a=4*(t+e*this._imageCanvas.width);this._imageData||(this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)),i=this._imageData.data[a+0],r=this._imageData.data[a+1],s=this._imageData.data[a+2],n=this._imageData.data[a+3]}else{var o=this._context.getImageData(t,e,1,1);i=o.data[0],r=o.data[1],s=o.data[2],n=o.data[3]}return this._locked||(this._imageData=null),n<<24|i<<16|r<<8|s},t.prototype.setPixel=function(t,e,i){var s=r.float32ColorToARGB(i);if(this._locked||(this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)),this._imageData){var n=4*(t+e*this._imageCanvas.width);this._imageData.data[n+0]=s[1],this._imageData.data[n+1]=s[2],this._imageData.data[n+2]=s[3],this._imageData.data[n+3]=255}this._locked||(this._context.putImageData(this._imageData,0,0),this._imageData=null)},t.prototype.setPixels=function(t,e){if(this._locked||(this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)),this._imageData){e.position=0;var i,r,s;for(i=0;i<t.width;++i)for(r=0;r<t.height;++r)s=4*(i+t.x+(r+t.y)*this._imageCanvas.width),this._imageData.data[s+0]=e.readUnsignedInt(),this._imageData.data[s+1]=e.readUnsignedInt(),this._imageData.data[s+2]=e.readUnsignedInt(),this._imageData.data[s+3]=e.readUnsignedInt()}this._locked||(this._context.putImageData(this._imageData,0,0),this._imageData=null)},t.prototype.setPixel32=function(t,e,i){var s=r.float32ColorToARGB(i);if(this._locked||(this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)),this._imageData){var n=4*(t+e*this._imageCanvas.width);this._imageData.data[n+0]=s[1],this._imageData.data[n+1]=s[2],this._imageData.data[n+2]=s[3],this._imageData.data[n+3]=s[0]}this._locked||(this._context.putImageData(this._imageData,0,0),this._imageData=null)},t.prototype.setVector=function(t,e){if(this._locked||(this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)),this._imageData){var i,s,n,a;for(i=0;i<t.width;++i)for(s=0;s<t.height;++s)a=r.float32ColorToARGB(e[i+s*t.width]),n=4*(i+t.x+(s+t.y)*this._imageCanvas.width),this._imageData.data[n+0]=a[1],this._imageData.data[n+1]=a[2],this._imageData.data[n+2]=a[3],this._imageData.data[n+3]=a[0]}this._locked||(this._context.putImageData(this._imageData,0,0),this._imageData=null)},t.prototype.drawImage=function(t,e,i){this._locked?(this._imageData&&this._context.putImageData(this._imageData,0,0),this._drawImage(t,e,i),this._imageData&&(this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height))):this._drawImage(t,e,i)},t.prototype._drawImage=function(e,i,r){e instanceof t?this._context.drawImage(e.canvas,i.x,i.y,i.width,i.height,r.x,r.y,r.width,r.height):e instanceof HTMLImageElement&&this._context.drawImage(e,i.x,i.y,i.width,i.height,r.x,r.y,r.width,r.height)},t.prototype.copyPixels=function(t,e,i){this._locked?(this._imageData&&this._context.putImageData(this._imageData,0,0),this._copyPixels(t,e,i),this._imageData&&(this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height))):this._copyPixels(t,e,i)},t.prototype._copyPixels=function(e,i,r){e instanceof t?this._context.drawImage(e.canvas,i.x,i.y,i.width,i.height,r.x,r.y,r.width,r.height):e instanceof HTMLImageElement&&this._context.drawImage(e,i.x,i.y,i.width,i.height,r.x,r.y,r.width,r.height)},t.prototype.fillRect=function(t,e){this._locked?(this._imageData&&this._context.putImageData(this._imageData,0,0),this._context.fillStyle=this.hexToRGBACSS(e),this._context.fillRect(t.x,t.y,t.width,t.height),this._imageData&&(this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height))):(this._context.fillStyle=this.hexToRGBACSS(e),this._context.fillRect(t.x,t.y,t.width,t.height))},t.prototype.draw=function(t,e){this._locked?(this._imageData&&this._context.putImageData(this._imageData,0,0),this._draw(t,e),this._imageData&&(this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height))):this._draw(t,e)},t.prototype._draw=function(e,i){e instanceof t?(this._context.save(),null!=i&&this._context.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),this._context.drawImage(e.canvas,0,0),this._context.restore()):e instanceof HTMLImageElement&&(this._context.save(),null!=i&&this._context.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),this._context.drawImage(e,0,0),this._context.restore())},t.prototype.copyChannel=function(t,e,i,r,s){t.imageData;if(this._locked||(this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)),this._imageData){var n,a,o,h,p=t.imageData.data,c=this._imageData.data,u=Math.round(Math.log(r)/Math.log(2)),l=Math.round(Math.log(s)/Math.log(2));for(n=0;n<e.width;++n)for(a=0;a<e.height;++a)o=4*(n+e.x+(a+e.y)*t.width),h=4*(n+i.x+(a+i.y)*this.width),c[h+l]=p[o+u]}this._locked||(this._context.putImageData(this._imageData,0,0),this._imageData=null)},t.prototype.colorTransform=function(t,e){if(this._locked||(this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)),this._imageData){var i,r,s,n=this._imageData.data;for(i=0;i<t.width;++i)for(r=0;r<t.height;++r)s=4*(i+t.x+(r+t.y)*this.width),n[s]=n[s]*e.redMultiplier+e.redOffset,n[s+1]=n[s+1]*e.greenMultiplier+e.greenOffset,n[s+2]=n[s+2]*e.blueMultiplier+e.blueOffset,n[s+3]=n[s+3]*e.alphaMultiplier+e.alphaOffset}this._locked||(this._context.putImageData(this._imageData,0,0),this._imageData=null)},Object.defineProperty(t.prototype,"imageData",{get:function(){return this._context.getImageData(0,0,this._rect.width,this._rect.height)},set:function(t){this._context.putImageData(t,0,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._imageCanvas.width},set:function(t){this._rect.width=t,this._imageCanvas.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._imageCanvas.height},set:function(t){this._rect.height=t,this._imageCanvas.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){return this._imageCanvas},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),t.prototype.hexToRGBACSS=function(t){var e=r.float32ColorToARGB(t);return 0==this._transparent?(e[0]=1,"rgba("+e[1]+","+e[2]+","+e[3]+","+e[0]+")"):"rgba("+e[1]+","+e[2]+","+e[3]+","+e[0]/255+")"},t}();e.exports=s},{"awayjs-core/lib/geom/Rectangle":void 0,"awayjs-core/lib/utils/ColorUtils":void 0}],"awayjs-core/lib/bounds/AxisAlignedBoundingBox":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/bounds/BoundingVolumeBase"),s=t("awayjs-core/lib/geom/Matrix3DUtils"),n=t("awayjs-core/lib/geom/PlaneClassification"),a=t("awayjs-core/lib/geom/Vector3D"),o=function(t){function e(){t.call(this),this._centerX=0,this._centerY=0,this._centerZ=0,this._halfExtentsX=0,this._halfExtentsY=0,this._halfExtentsZ=0}return i(e,t),e.prototype.nullify=function(){t.prototype.nullify.call(this),this._centerX=this._centerY=this._centerZ=0,this._halfExtentsX=this._halfExtentsY=this._halfExtentsZ=0},e.prototype.isInFrustum=function(t,e){for(var i=0;e>i;++i){var r=t[i],s=r.a,n=r.b,a=r.c,o=0>s?-this._halfExtentsX:this._halfExtentsX,h=0>n?-this._halfExtentsY:this._halfExtentsY,p=0>a?-this._halfExtentsZ:this._halfExtentsZ,c=s*(this._centerX+o)+n*(this._centerY+h)+a*(this._centerZ+p)-r.d;if(0>c)return!1}return!0},e.prototype.rayIntersection=function(t,e,i){if(this.containsPoint(t))return 0;var r,s,n,a,o,h=t.x-this._centerX,p=t.y-this._centerY,c=t.z-this._centerZ,u=e.x,l=e.y,y=e.z;return 0>u&&(a=(this._halfExtentsX-h)/u,a>0&&(s=p+a*l,n=c+a*y,s>-this._halfExtentsY&&s<this._halfExtentsY&&n>-this._halfExtentsZ&&n<this._halfExtentsZ&&(i.x=1,i.y=0,i.z=0,o=!0))),!o&&u>0&&(a=(-this._halfExtentsX-h)/u,a>0&&(s=p+a*l,n=c+a*y,s>-this._halfExtentsY&&s<this._halfExtentsY&&n>-this._halfExtentsZ&&n<this._halfExtentsZ&&(i.x=-1,i.y=0,i.z=0,o=!0))),!o&&0>l&&(a=(this._halfExtentsY-p)/l,a>0&&(r=h+a*u,n=c+a*y,r>-this._halfExtentsX&&r<this._halfExtentsX&&n>-this._halfExtentsZ&&n<this._halfExtentsZ&&(i.x=0,i.y=1,i.z=0,o=!0))),!o&&l>0&&(a=(-this._halfExtentsY-p)/l,a>0&&(r=h+a*u,n=c+a*y,r>-this._halfExtentsX&&r<this._halfExtentsX&&n>-this._halfExtentsZ&&n<this._halfExtentsZ&&(i.x=0,i.y=-1,i.z=0,o=!0))),!o&&0>y&&(a=(this._halfExtentsZ-c)/y,a>0&&(r=h+a*u,s=p+a*l,s>-this._halfExtentsY&&s<this._halfExtentsY&&r>-this._halfExtentsX&&r<this._halfExtentsX&&(i.x=0,i.y=0,i.z=1,o=!0))),!o&&y>0&&(a=(-this._halfExtentsZ-c)/y,a>0&&(r=h+a*u,s=p+a*l,s>-this._halfExtentsY&&s<this._halfExtentsY&&r>-this._halfExtentsX&&r<this._halfExtentsX&&(i.x=0,i.y=0,i.z=-1,o=!0))),o?a:-1},e.prototype.containsPoint=function(t){var e=t.x-this._centerX,i=t.y-this._centerY,r=t.z-this._centerZ;return e<=this._halfExtentsX&&e>=-this._halfExtentsX&&i<=this._halfExtentsY&&i>=-this._halfExtentsY&&r<=this._halfExtentsZ&&r>=-this._halfExtentsZ},e.prototype.fromExtremes=function(e,i,r,s,n,a){this._centerX=.5*(s+e),this._centerY=.5*(n+i),this._centerZ=.5*(a+r),this._halfExtentsX=.5*(s-e),this._halfExtentsY=.5*(n-i),this._halfExtentsZ=.5*(a-r),t.prototype.fromExtremes.call(this,e,i,r,s,n,a)},e.prototype.clone=function(){var t=new e;return t.fromExtremes(this._aabb.x,this._aabb.y+this._aabb.height,this._aabb.z,this._aabb.x+this._aabb.width,this._aabb.y,this._aabb.z+this._aabb.depth),t},Object.defineProperty(e.prototype,"halfExtentsX",{get:function(){return this._halfExtentsX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfExtentsY",{get:function(){return this._halfExtentsY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfExtentsZ",{get:function(){return this._halfExtentsZ},enumerable:!0,configurable:!0}),e.prototype.closestPointToPoint=function(t,e){void 0===e&&(e=null);var i;return null==e&&(e=new a),i=t.x,i<this._aabb.x&&(i=this._aabb.x),i>this._aabb.x+this._aabb.width&&(i=this._aabb.x+this._aabb.width),e.x=i,i=t.y,i<this._aabb.y+this._aabb.height&&(i=this._aabb.y+this._aabb.height),i>this._aabb.y&&(i=this._aabb.y),e.y=i,i=t.z,i<this._aabb.z&&(i=this._aabb.z),i>this._aabb.z+this._aabb.depth&&(i=this._aabb.z+this._aabb.depth),e.z=i,e},e.prototype.classifyToPlane=function(t){var e=t.a,i=t.b,r=t.c,s=e*this._centerX+i*this._centerY+r*this._centerZ-t.d;0>e&&(e=-e),0>i&&(i=-i),0>r&&(r=-r);var a=e*this._halfExtentsX+i*this._halfExtentsY+r*this._halfExtentsZ;return s>a?n.FRONT:-a>s?n.BACK:n.INTERSECT},e.prototype.transformFrom=function(t,e){var i=t,r=i._centerX,n=i._centerY,a=i._centerZ,o=s.RAW_DATA_CONTAINER;e.copyRawDataTo(o);var h=o[0],p=o[4],c=o[8],u=o[12],l=o[1],y=o[5],_=o[9],d=o[13],f=o[2],w=o[6],b=o[10],g=o[14];this._centerX=r*h+n*p+a*c+u,this._centerY=r*l+n*y+a*_+d,this._centerZ=r*f+n*w+a*b+g,0>h&&(h=-h),0>p&&(p=-p),0>c&&(c=-c),0>l&&(l=-l),0>y&&(y=-y),0>_&&(_=-_),0>f&&(f=-f),0>w&&(w=-w),0>b&&(b=-b);var m=i._halfExtentsX,v=i._halfExtentsY,E=i._halfExtentsZ;this._halfExtentsX=m*h+v*p+E*c,this._halfExtentsY=m*l+v*y+E*_,this._halfExtentsZ=m*f+v*w+E*b,this._aabb.width=this._aabb.height=this._aabb.depth=2*this._halfExtentsX,this._aabb.x=this._centerX-this._halfExtentsX,this._aabb.y=this._centerY+this._halfExtentsY,this._aabb.z=this._centerZ-this._halfExtentsZ},e}(r);e.exports=o},{"awayjs-core/lib/bounds/BoundingVolumeBase":void 0,"awayjs-core/lib/geom/Matrix3DUtils":void 0,"awayjs-core/lib/geom/PlaneClassification":void 0,"awayjs-core/lib/geom/Vector3D":void 0}],"awayjs-core/lib/bounds/BoundingSphere":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/bounds/BoundingVolumeBase"),s=t("awayjs-core/lib/geom/PlaneClassification"),n=t("awayjs-core/lib/geom/Vector3D"),a=function(t){function e(){t.call(this),this._radius=0,this._centerX=0,this._centerY=0,this._centerZ=0}return i(e,t),Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),e.prototype.nullify=function(){t.prototype.nullify.call(this),this._centerX=this._centerY=this._centerZ=0,this._radius=0},e.prototype.isInFrustum=function(t,e){for(var i=0;e>i;++i){var r=t[i],s=r.a<0?-this._radius:this._radius,n=r.b<0?-this._radius:this._radius,a=r.c<0?-this._radius:this._radius,o=r.a*(this._centerX+s)+r.b*(this._centerY+n)+r.c*(this._centerZ+a)-r.d;if(0>o)return!1}return!0},e.prototype.fromSphere=function(t,e){this._centerX=t.x,this._centerY=t.y,this._centerZ=t.z,this._radius=e,this._aabb.width=this._aabb.height=this._aabb.depth=2*e,this._aabb.x=this._centerX-e,this._aabb.y=this._centerY+e,this._aabb.z=this._centerZ-e,this._pAabbPointsDirty=!0},e.prototype.fromExtremes=function(e,i,r,s,n,a){this._centerX=.5*(s+e),this._centerY=.5*(n+i),this._centerZ=.5*(a+r);var o=s-e,h=n-i,p=a-r;h>o&&(o=h),p>o&&(o=p),this._radius=o*Math.sqrt(.5),t.prototype.fromExtremes.call(this,e,i,r,s,n,a)},e.prototype.clone=function(){var t=new e;return t.fromSphere(new n(this._centerX,this._centerY,this._centerZ),this._radius),t},e.prototype.rayIntersection=function(t,e,i){if(this.containsPoint(t))return 0;var r,s=t.x-this._centerX,n=t.y-this._centerY,a=t.z-this._centerZ,o=e.x,h=e.y,p=e.z,c=o*o+h*h+p*p,u=2*(s*o+n*h+a*p),l=s*s+n*n+a*a-this._radius*this._radius,y=u*u-4*c*l;if(y>=0){var _=Math.sqrt(y);if(r=(-u-_)/(2*c),r>=0)return i.x=s+r*o,i.y=n+r*h,i.z=a+r*p,i.normalize(),r}return-1},e.prototype.containsPoint=function(t){var e=t.x-this._centerX,i=t.y-this._centerY,r=t.z-this._centerZ,s=Math.sqrt(e*e+i*i+r*r);return s<=this._radius},e.prototype.classifyToPlane=function(t){var e=t.a,i=t.b,r=t.c,n=e*this._centerX+i*this._centerY+r*this._centerZ-t.d;0>e&&(e=-e),0>i&&(i=-i),0>r&&(r=-r);var a=(e+i+r)*this._radius;return n>a?s.FRONT:-a>n?s.BACK:s.INTERSECT},e.prototype.transformFrom=function(t,e){var i=t,r=i._centerX,s=i._centerY,n=i._centerZ,a=new Array(16);e.copyRawDataTo(a);var o=a[0],h=a[4],p=a[8],c=a[12],u=a[1],l=a[5],y=a[9],_=a[13],d=a[2],f=a[6],w=a[10],b=a[14];this._centerX=r*o+s*h+n*p+c,this._centerY=r*u+s*l+n*y+_,this._centerZ=r*d+s*f+n*w+b,0>o&&(o=-o),0>h&&(h=-h),0>p&&(p=-p),0>u&&(u=-u),0>l&&(l=-l),0>y&&(y=-y),0>d&&(d=-d),0>f&&(f=-f),0>w&&(w=-w);var g=i._radius,m=o+h+p,v=u+l+y,E=d+f+w;this._radius=g*Math.sqrt(m*m+v*v+E*E),this._aabb.width=this._aabb.height=this._aabb.depth=2*this._radius,this._aabb.x=this._centerX-this._radius,this._aabb.y=this._centerY+this._radius,this._aabb.z=this._centerZ-this._radius},e}(r);e.exports=a},{"awayjs-core/lib/bounds/BoundingVolumeBase":void 0,"awayjs-core/lib/geom/PlaneClassification":void 0,"awayjs-core/lib/geom/Vector3D":void 0}],"awayjs-core/lib/bounds/BoundingVolumeBase":[function(t,e){var i=t("awayjs-core/lib/geom/Box"),r=t("awayjs-core/lib/errors/AbstractMethodError"),s=function(){function t(){this._pAabbPoints=new Array,this._pAabbPointsDirty=!0,this._aabb=new i}return Object.defineProperty(t.prototype,"aabb",{get:function(){return this._aabb},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aabbPoints",{get:function(){return this._pAabbPointsDirty&&this.pUpdateAABBPoints(),this._pAabbPoints},enumerable:!0,configurable:!0}),t.prototype.nullify=function(){this._aabb.x=this._aabb.y=this._aabb.z=0,this._aabb.width=this._aabb.height=this._aabb.depth=0,this._pAabbPointsDirty=!0},t.prototype.fromVertices=function(t){var e,i,r,s,n,a,o,h=t.length;if(0==h)return void this.nullify();var p;for(i=n=t[e++],r=a=t[e++],s=o=t[e++];h>e;)p=t[e++],i>p?i=p:p>n&&(n=p),p=t[e++],r>p?r=p:p>a&&(a=p),p=t[e++],s>p?s=p:p>o&&(o=p);this.fromExtremes(i,r,s,n,a,o)},t.prototype.fromSphere=function(t,e){this.fromExtremes(t.x-e,t.y-e,t.z-e,t.x+e,t.y+e,t.z+e)},t.prototype.fromExtremes=function(t,e,i,r,s,n){this._aabb.x=t,this._aabb.y=s,this._aabb.z=i,this._aabb.width=r-t,this._aabb.height=s-e,this._aabb.depth=n-i,this._pAabbPointsDirty=!0},t.prototype.isInFrustum=function(){throw new r},t.prototype.overlaps=function(t){return this._aabb.intersects(t.aabb)},t.prototype.clone=function(){throw new r},t.prototype.rayIntersection=function(){return-1},t.prototype.containsPoint=function(){return!1},t.prototype.pUpdateAABBPoints=function(){var t=this._aabb.x,e=this._aabb.y-this._aabb.height,i=this._aabb.z,r=this._aabb.x+this._aabb.width,s=this._aabb.y,n=this._aabb.z+this._aabb.depth;this._pAabbPoints[0]=t,this._pAabbPoints[1]=e,this._pAabbPoints[2]=i,this._pAabbPoints[3]=r,this._pAabbPoints[4]=e,this._pAabbPoints[5]=i,this._pAabbPoints[6]=t,this._pAabbPoints[7]=s,this._pAabbPoints[8]=i,this._pAabbPoints[9]=r,this._pAabbPoints[10]=s,this._pAabbPoints[11]=i,this._pAabbPoints[12]=t,this._pAabbPoints[13]=e,this._pAabbPoints[14]=n,this._pAabbPoints[15]=r,this._pAabbPoints[16]=e,this._pAabbPoints[17]=n,this._pAabbPoints[18]=t,this._pAabbPoints[19]=s,this._pAabbPoints[20]=n,this._pAabbPoints[21]=r,this._pAabbPoints[22]=s,this._pAabbPoints[23]=n,this._pAabbPointsDirty=!1},t.prototype.classifyToPlane=function(){throw new r},t.prototype.transformFrom=function(){throw new r},t}();e.exports=s},{"awayjs-core/lib/errors/AbstractMethodError":void 0,"awayjs-core/lib/geom/Box":void 0}],"awayjs-core/lib/bounds/NullBounds":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/bounds/BoundingVolumeBase"),s=t("awayjs-core/lib/geom/PlaneClassification"),n=function(t){function e(e){void 0===e&&(e=!0),t.call(this),this._alwaysIn=e,this._aabb.width=this._aabb.height=this._aabb.depth=Number.POSITIVE_INFINITY,this._aabb.x=this._aabb.y=this._aabb.z=this._alwaysIn?Number.NEGATIVE_INFINITY/2:Number.POSITIVE_INFINITY}return i(e,t),e.prototype.clone=function(){return new e(this._alwaysIn)},e.prototype.isInFrustum=function(){return this._alwaysIn},e.prototype.fromSphere=function(){},e.prototype.fromExtremes=function(){},e.prototype.classifyToPlane=function(){return s.INTERSECT},e.prototype.transformFrom=function(t){this._alwaysIn=t._alwaysIn},e}(r);e.exports=n},{"awayjs-core/lib/bounds/BoundingVolumeBase":void 0,"awayjs-core/lib/geom/PlaneClassification":void 0}],"awayjs-core/lib/errors/AbstractMethodError":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/Error"),s=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=0),t.call(this,e||"An abstract method was called! Either an instance of an abstract class was created, or an abstract method was not overridden by the subclass.",i)}return i(e,t),e}(r);e.exports=s},{"awayjs-core/lib/errors/Error":void 0}],"awayjs-core/lib/errors/ArgumentError":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/Error"),s=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=0),t.call(this,e||"ArgumentError",i)}return i(e,t),e}(r);e.exports=s},{"awayjs-core/lib/errors/Error":void 0}],"awayjs-core/lib/errors/DocumentError":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/Error"),s=function(t){function e(e,i){void 0===e&&(e="DocumentError"),void 0===i&&(i=0),t.call(this,e,i)}return i(e,t),e.DOCUMENT_DOES_NOT_EXIST="documentDoesNotExist",e}(r);e.exports=s},{"awayjs-core/lib/errors/Error":void 0}],"awayjs-core/lib/errors/Error":[function(t,e){var i=function(){function t(t,e,i){void 0===t&&(t=""),void 0===e&&(e=0),void 0===i&&(i=""),this._errorID=0,this._messsage="",this._name="",this._messsage=t,this._name=name,this._errorID=e}return Object.defineProperty(t.prototype,"message",{get:function(){return this._messsage},set:function(t){this._messsage=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorID",{get:function(){return this._errorID},enumerable:!0,configurable:!0}),t}();e.exports=i},{}],"awayjs-core/lib/errors/PartialImplementationError":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/Error"),s=function(t){function e(e,i){void 0===e&&(e=""),void 0===i&&(i=0),t.call(this,"PartialImplementationError - this function is in development. Required Dependency: "+e,i)}return i(e,t),e}(r);e.exports=s},{"awayjs-core/lib/errors/Error":void 0}],"awayjs-core/lib/errors/RangeError":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/Error"),s=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=0),t.call(this,e||"RangeError",i)}return i(e,t),e}(r);e.exports=s},{"awayjs-core/lib/errors/Error":void 0}],"awayjs-core/lib/events/AssetEvent":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/events/Event"),s=function(t){function e(e,i,r){void 0===i&&(i=null),void 0===r&&(r=null),t.call(this,e),this._asset=i,this._prevName=r||(this._asset?this._asset.name:null)}return i(e,t),Object.defineProperty(e.prototype,"asset",{get:function(){return this._asset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assetPrevName",{get:function(){return this._prevName},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this.type,this.asset,this.assetPrevName)},e.ASSET_COMPLETE="assetComplete",e.ASSET_RENAME="assetRename",e.ASSET_CONFLICT_RESOLVED="assetConflictResolved",e.TEXTURE_SIZE_ERROR="textureSizeError",e}(r);e.exports=s},{"awayjs-core/lib/events/Event":void 0}],"awayjs-core/lib/events/EventDispatcher":[function(t,e){var i=function(){function t(t){void 0===t&&(t=null),this.listeners=new Array,this.target=t||this}return t.prototype.addEventListener=function(t,e){void 0===this.listeners[t]&&(this.listeners[t]=new Array),-1===this.getEventListenerIndex(t,e)&&this.listeners[t].push(e)},t.prototype.removeEventListener=function(t,e){var i=this.getEventListenerIndex(t,e);-1!==i&&this.listeners[t].splice(i,1)},t.prototype.dispatchEvent=function(t){var e=this.listeners[t.type];if(void 0!==e){var i=e.length;t.target=this.target;for(var r=0;i>r;r++)e[r](t)}},t.prototype.getEventListenerIndex=function(t,e){if(void 0!==this.listeners[t])for(var i=this.listeners[t],r=i.length,s=0;r>s;s++)if(e==i[s])return s;return-1},t.prototype.hasEventListener=function(t,e){return null!=e?-1!==this.getEventListenerIndex(t,e):void 0!==this.listeners[t]?this.listeners[t].length>0:!1},t}();e.exports=i},{}],"awayjs-core/lib/events/Event":[function(t,e){var i=function(){function t(t){this.type=void 0,this.target=void 0,this.type=t}return t.prototype.clone=function(){return new t(this.type)},t.COMPLETE="complete",t.OPEN="open",t.ENTER_FRAME="enterFrame",t.EXIT_FRAME="exitFrame",t.RESIZE="resize",t.ERROR="error",t.CHANGE="change",t}();e.exports=i},{}],"awayjs-core/lib/events/HTTPStatusEvent":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/events/Event"),s=function(t){function e(e,i){void 0===i&&(i=null),t.call(this,e),this.status=i}return i(e,t),e.HTTP_STATUS="httpStatus",e}(r);e.exports=s},{"awayjs-core/lib/events/Event":void 0}],"awayjs-core/lib/events/IEventDispatcher":[function(){},{}],"awayjs-core/lib/events/IOErrorEvent":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/events/Event"),s=function(t){function e(e){t.call(this,e)}return i(e,t),e.IO_ERROR="ioError",e}(r);e.exports=s},{"awayjs-core/lib/events/Event":void 0}],"awayjs-core/lib/events/LoaderEvent":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/events/Event"),s=function(t){function e(e,i,r,s){void 0===i&&(i=null),void 0===r&&(r=null),void 0===s&&(s=null),t.call(this,e),this._url=i,this._content=r,this._assets=s}return i(e,t),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assets",{get:function(){return this._assets},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this.type,this._url,this._content,this._assets)},e.RESOURCE_COMPLETE="resourceComplete",e}(r);e.exports=s},{"awayjs-core/lib/events/Event":void 0}],"awayjs-core/lib/events/ParserEvent":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/events/Event"),s=function(t){function e(e,i){void 0===i&&(i=""),t.call(this,e),this._message=i}return i(e,t),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this.type,this.message)},e.PARSE_COMPLETE="parseComplete",e.PARSE_ERROR="parseError",e.READY_FOR_DEPENDENCIES="readyForDependencies",e}(r);e.exports=s},{"awayjs-core/lib/events/Event":void 0}],"awayjs-core/lib/events/ProgressEvent":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/events/Event"),s=function(t){function e(e){t.call(this,e)}return i(e,t),e.PROGRESS="progress",e}(r);e.exports=s},{"awayjs-core/lib/events/Event":void 0}],"awayjs-core/lib/events/ProjectionEvent":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/events/Event"),s=function(t){function e(e,i){t.call(this,e),this._projection=i}return i(e,t),Object.defineProperty(e.prototype,"projection",{get:function(){return this._projection},enumerable:!0,configurable:!0}),e.MATRIX_CHANGED="matrixChanged",e}(r);e.exports=s},{"awayjs-core/lib/events/Event":void 0}],"awayjs-core/lib/events/TimerEvent":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/events/Event"),s=function(t){function e(e){t.call(this,e)}return i(e,t),e.TIMER="timer",e.TIMER_COMPLETE="timerComplete",e}(r);e.exports=s},{"awayjs-core/lib/events/Event":void 0}],"awayjs-core/lib/geom/Box":[function(t,e){var i=t("awayjs-core/lib/geom/Vector3D"),r=function(){function t(t,e,i,r,s,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===s&&(s=0),void 0===n&&(n=0),this.x=t,this.y=e,this.z=i,this.width=r,this.height=s,this.depth=n}return Object.defineProperty(t.prototype,"back",{get:function(){return this.z+this.depth},set:function(t){this.depth=t-this.z},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){this.height=t-this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRightBack",{get:function(){return null==this._bottomRightBack&&(this._bottomRightBack=new i),this._bottomRightBack.x=this.x+this.width,this._bottomRightBack.y=this.y+this.height,this._bottomRightBack.z=this.z+this.depth,this._bottomRightBack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"front",{get:function(){return this.z},set:function(t){this.depth+=this.z-t,this.z=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},set:function(t){this.width+=this.x-t,this.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},set:function(t){this.width=t-this.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return null==this._size&&(this._size=new i),this._size.x=this.width,this._size.y=this.height,this._size.z=this.depth,this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},set:function(t){this.height+=this.y-t,this.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeftFront",{get:function(){return null==this._topLeftFront&&(this._topLeftFront=new i),this._topLeftFront.x=this.x,this._topLeftFront.y=this.y,this._topLeftFront.z=this.z,this._topLeftFront},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.width,this.height,this.depth)},t.prototype.contains=function(t,e,i){return this.x<=t&&this.x+this.width>=t&&this.y<=e&&this.y+this.height>=e&&this.z<=i&&this.z+this.depth>=i},t.prototype.containsPoint=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y&&this.z<=t.z&&this.z+this.depth>=t.z},t.prototype.containsRect=function(t){return this.x<=t.x&&this.x+this.width>=t.x+t.width&&this.y<=t.y&&this.y+this.height>=t.y+t.height&&this.z<=t.z&&this.z+this.depth>=t.z+t.depth},t.prototype.copyFrom=function(){},t.prototype.equals=function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z&&this.width==t.width&&this.height==t.height&&this.depth==t.depth},t.prototype.inflate=function(t,e,i){this.x-=t/2,this.y-=e/2,this.z-=i/2,this.width+=t/2,this.height+=e/2,this.depth+=i/2},t.prototype.inflatePoint=function(t){this.x-=t.x/2,this.y-=t.y/2,this.z-=t.z/2,this.width+=t.x/2,this.height+=t.y/2,this.depth+=t.z/2
},t.prototype.intersection=function(e){if(this.intersects(e)){var i=new t;return this.x>e.x?(i.x=this.x,i.width=e.x-this.x+e.width,i.width>this.width&&(i.width=this.width)):(i.x=e.x,i.width=this.x-e.x+this.width,i.width>e.width&&(i.width=e.width)),this.y>e.y?(i.y=this.y,i.height=e.y-this.y+e.height,i.height>this.height&&(i.height=this.height)):(i.y=e.y,i.height=this.y-e.y+this.height,i.height>e.height&&(i.height=e.height)),this.z>e.z?(i.z=this.z,i.depth=e.z-this.z+e.depth,i.depth>this.depth&&(i.depth=this.depth)):(i.z=e.z,i.depth=this.z-e.z+this.depth,i.depth>e.depth&&(i.depth=e.depth)),i}return new t},t.prototype.intersects=function(t){return this.x+this.width>t.x&&this.x<t.x+t.width&&this.y+this.height>t.y&&this.y<t.y+t.height&&this.z+this.depth>t.z&&this.z<t.z+t.depth},t.prototype.isEmpty=function(){return 0==this.x&&0==this.y&&0==this.z&&0==this.width&&0==this.height&&0==this.depth},t.prototype.offset=function(t,e,i){this.x+=t,this.y+=e,this.z+=i},t.prototype.offsetPosition=function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},t.prototype.setEmpty=function(){this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.depth=0},t.prototype.setTo=function(t,e,i,r,s,n){this.x=t,this.y=e,this.z=i,this.width=r,this.height=s,this.depth=n},t.prototype.toString=function(){return"[Box] (x="+this.x+", y="+this.y+", z="+this.z+", width="+this.width+", height="+this.height+", depth="+this.depth+")"},t.prototype.union=function(e){var i=new t;return this.x<e.x?(i.x=this.x,i.width=e.x-this.x+e.width,i.width<this.width&&(i.width=this.width)):(i.x=e.x,i.width=this.x-e.x+this.width,i.width<e.width&&(i.width=e.width)),this.y<e.y?(i.y=this.y,i.height=e.y-this.y+e.height,i.height<this.height&&(i.height=this.height)):(i.y=e.y,i.height=this.y-e.y+this.height,i.height<e.height&&(i.height=e.height)),this.z<e.z?(i.z=this.z,i.depth=e.z-this.z+e.depth,i.depth<this.depth&&(i.depth=this.depth)):(i.z=e.z,i.depth=this.z-e.z+this.depth,i.depth<e.depth&&(i.depth=e.depth)),i},t}();e.exports=r},{"awayjs-core/lib/geom/Vector3D":void 0}],"awayjs-core/lib/geom/ColorTransform":[function(t,e){var i=t("awayjs-core/lib/utils/ColorUtils"),r=function(){function t(t,e,i,r,s,n,a,o){void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i=1),void 0===r&&(r=1),void 0===s&&(s=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===o&&(o=0),this.redMultiplier=t,this.greenMultiplier=e,this.blueMultiplier=i,this.alphaMultiplier=r,this.redOffset=s,this.greenOffset=n,this.blueOffset=a,this.alphaOffset=o}return Object.defineProperty(t.prototype,"color",{get:function(){return this.redOffset<<16|this.greenOffset<<8|this.blueOffset},set:function(t){var e=i.float32ColorToARGB(t);this.redOffset=e[1],this.greenOffset=e[2],this.blueOffset=e[3],this.redMultiplier=0,this.greenMultiplier=0,this.blueMultiplier=0},enumerable:!0,configurable:!0}),t.prototype.concat=function(t){this.redMultiplier+=t.redMultiplier,this.greenMultiplier+=t.greenMultiplier,this.blueMultiplier+=t.blueMultiplier,this.alphaMultiplier+=t.alphaMultiplier},t}();e.exports=r},{"awayjs-core/lib/utils/ColorUtils":void 0}],"awayjs-core/lib/geom/MathConsts":[function(t,e){var i=function(){function t(){}return t.RADIANS_TO_DEGREES=180/Math.PI,t.DEGREES_TO_RADIANS=Math.PI/180,t}();e.exports=i},{}],"awayjs-core/lib/geom/Matrix3DUtils":[function(t,e){var i=t("awayjs-core/lib/geom/Matrix3D"),r=t("awayjs-core/lib/geom/Vector3D"),s=function(){function t(){}return t.quaternion2matrix=function(e,r){void 0===r&&(r=null);var s=e.x,n=e.y,a=e.z,o=e.w,h=s*s,p=s*n,c=s*a,u=s*o,l=n*n,y=n*a,_=n*o,d=a*a,f=a*o,w=t.RAW_DATA_CONTAINER;return w[0]=1-2*(l+d),w[1]=2*(p+f),w[2]=2*(c-_),w[4]=2*(p-f),w[5]=1-2*(h+d),w[6]=2*(y+u),w[8]=2*(c+_),w[9]=2*(y-u),w[10]=1-2*(h+l),w[3]=w[7]=w[11]=w[12]=w[13]=w[14]=0,w[15]=1,r?(r.copyRawDataFrom(w),r):new i(w)},t.getForward=function(t,e){return void 0===e&&(e=null),null===e&&(e=new r(0,0,0)),t.copyColumnTo(2,e),e.normalize(),e},t.getUp=function(t,e){return void 0===e&&(e=null),null===e&&(e=new r(0,0,0)),t.copyColumnTo(1,e),e.normalize(),e},t.getRight=function(t,e){return void 0===e&&(e=null),null===e&&(e=new r(0,0,0)),t.copyColumnTo(0,e),e.normalize(),e},t.compare=function(e,i){var r=t.RAW_DATA_CONTAINER,s=i.rawData;e.copyRawDataTo(r);for(var n=0;16>n;++n)if(r[n]!=s[n])return!1;return!0},t.lookAt=function(e,i,r,s){var n,a,o,h=t.RAW_DATA_CONTAINER;o=r.crossProduct(s),o.normalize(),a=o.crossProduct(r),a.normalize(),n=r.clone(),n.normalize(),h[0]=o.x,h[1]=a.x,h[2]=-n.x,h[3]=0,h[4]=o.y,h[5]=a.y,h[6]=-n.y,h[7]=0,h[8]=o.z,h[9]=a.z,h[10]=-n.z,h[11]=0,h[12]=-o.dotProduct(i),h[13]=-a.dotProduct(i),h[14]=n.dotProduct(i),h[15]=1,e.copyRawDataFrom(h)},t.reflection=function(e,r){void 0===r&&(r=null),null===r&&(r=new i);var s=e.a,n=e.b,a=e.c,o=e.d,h=t.RAW_DATA_CONTAINER,p=-2*s*n,c=-2*s*a,u=-2*n*a;return h[0]=1-2*s*s,h[4]=p,h[8]=c,h[12]=-2*s*o,h[1]=p,h[5]=1-2*n*n,h[9]=u,h[13]=-2*n*o,h[2]=c,h[6]=u,h[10]=1-2*a*a,h[14]=-2*a*o,h[3]=0,h[7]=0,h[11]=0,h[15]=1,r.copyRawDataFrom(h),r},t.transformVector=function(e,i,s){void 0===s&&(s=null),s||(s=new r);var n=t.RAW_DATA_CONTAINER;e.copyRawDataTo(n);var a=n[0],o=n[1],h=n[2],p=n[3],c=n[4],u=n[5],l=n[6],y=n[7],_=n[8],d=n[9],f=n[10],w=n[11],b=n[12],g=n[13],m=n[14],v=n[15],E=i.x,x=i.y,D=i.z;return s.x=a*E+c*x+_*D+b,s.y=o*E+u*x+d*D+g,s.z=h*E+l*x+f*D+m,s.w=p*E+y*x+w*D+v,s},t.deltaTransformVector=function(e,i,s){void 0===s&&(s=null),s||(s=new r);var n=t.RAW_DATA_CONTAINER;e.copyRawDataTo(n);var a=n[0],o=n[1],h=n[2],p=n[3],c=n[4],u=n[5],l=n[6],y=n[7],_=n[8],d=n[9],f=n[10],w=n[11],b=i.x,g=i.y,m=i.z;return s.x=a*b+c*g+_*m,s.y=o*b+u*g+d*m,s.z=h*b+l*g+f*m,s.w=p*b+y*g+w*m,s},t.getTranslation=function(t,e){return void 0===e&&(e=null),e||(e=new r),t.copyColumnTo(3,e),e},t.deltaTransformVectors=function(e,i,r){var s=t.RAW_DATA_CONTAINER;e.copyRawDataTo(s);for(var n=s[0],a=s[1],o=s[2],h=(s[3],s[4]),p=s[5],c=s[6],u=(s[7],s[8]),l=s[9],y=s[10],_=(s[11],0),d=i.length,f=0;d>f;f+=3){var w=i[f],b=i[f+1],g=i[f+2];r[_++]=n*w+h*b+u*g,r[_++]=a*w+p*b+l*g,r[_++]=o*w+c*b+y*g}},t.RAW_DATA_CONTAINER=new Array(16),t.CALCULATION_MATRIX=new i,t}();e.exports=s},{"awayjs-core/lib/geom/Matrix3D":void 0,"awayjs-core/lib/geom/Vector3D":void 0}],"awayjs-core/lib/geom/Matrix3D":[function(t,e){var i=t("awayjs-core/lib/geom/Orientation3D"),r=t("awayjs-core/lib/geom/Vector3D"),s=t("awayjs-core/lib/errors/ArgumentError"),n=function(){function t(t){void 0===t&&(t=null),this.rawData=null!=t&&16==t.length?t.concat():[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return t.prototype.append=function(t){var e=this.rawData[0],i=this.rawData[4],r=this.rawData[8],s=this.rawData[12],n=this.rawData[1],a=this.rawData[5],o=this.rawData[9],h=this.rawData[13],p=this.rawData[2],c=this.rawData[6],u=this.rawData[10],l=this.rawData[14],y=this.rawData[3],_=this.rawData[7],d=this.rawData[11],f=this.rawData[15],w=t.rawData[0],b=t.rawData[4],g=t.rawData[8],m=t.rawData[12],v=t.rawData[1],E=t.rawData[5],x=t.rawData[9],D=t.rawData[13],A=t.rawData[2],j=t.rawData[6],P=t.rawData[10],R=t.rawData[14],M=t.rawData[3],O=t.rawData[7],S=t.rawData[11],T=t.rawData[15];this.rawData[0]=e*w+n*b+p*g+y*m,this.rawData[1]=e*v+n*E+p*x+y*D,this.rawData[2]=e*A+n*j+p*P+y*R,this.rawData[3]=e*M+n*O+p*S+y*T,this.rawData[4]=i*w+a*b+c*g+_*m,this.rawData[5]=i*v+a*E+c*x+_*D,this.rawData[6]=i*A+a*j+c*P+_*R,this.rawData[7]=i*M+a*O+c*S+_*T,this.rawData[8]=r*w+o*b+u*g+d*m,this.rawData[9]=r*v+o*E+u*x+d*D,this.rawData[10]=r*A+o*j+u*P+d*R,this.rawData[11]=r*M+o*O+u*S+d*T,this.rawData[12]=s*w+h*b+l*g+f*m,this.rawData[13]=s*v+h*E+l*x+f*D,this.rawData[14]=s*A+h*j+l*P+f*R,this.rawData[15]=s*M+h*O+l*S+f*T},t.prototype.appendRotation=function(e,i){var r=t.getAxisRotation(i.x,i.y,i.z,e);this.append(r)},t.prototype.appendScale=function(e,i,r){this.append(new t([e,0,0,0,0,i,0,0,0,0,r,0,0,0,0,1]))},t.prototype.appendTranslation=function(t,e,i){this.rawData[12]+=t,this.rawData[13]+=e,this.rawData[14]+=i},t.prototype.clone=function(){return new t(this.rawData.slice(0))},t.prototype.copyColumnFrom=function(t,e){switch(t){case 0:this.rawData[0]=e.x,this.rawData[1]=e.y,this.rawData[2]=e.z,this.rawData[3]=e.w;break;case 1:this.rawData[4]=e.x,this.rawData[5]=e.y,this.rawData[6]=e.z,this.rawData[7]=e.w;break;case 2:this.rawData[8]=e.x,this.rawData[9]=e.y,this.rawData[10]=e.z,this.rawData[11]=e.w;break;case 3:this.rawData[12]=e.x,this.rawData[13]=e.y,this.rawData[14]=e.z,this.rawData[15]=e.w;break;default:throw new s("ArgumentError, Column "+t+" out of bounds [0, ..., 3]")}},t.prototype.copyColumnTo=function(t,e){switch(t){case 0:e.x=this.rawData[0],e.y=this.rawData[1],e.z=this.rawData[2],e.w=this.rawData[3];break;case 1:e.x=this.rawData[4],e.y=this.rawData[5],e.z=this.rawData[6],e.w=this.rawData[7];break;case 2:e.x=this.rawData[8],e.y=this.rawData[9],e.z=this.rawData[10],e.w=this.rawData[11];break;case 3:e.x=this.rawData[12],e.y=this.rawData[13],e.z=this.rawData[14],e.w=this.rawData[15];break;default:throw new s("ArgumentError, Column "+t+" out of bounds [0, ..., 3]")}},t.prototype.copyFrom=function(t){for(var e=t.rawData.length,i=0;e>i;i++)this.rawData[i]=t.rawData[i]},t.prototype.copyRawDataFrom=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=!1),i&&this.transpose();for(var r=t.length-e,s=0;r>s;s++)this.rawData[s]=t[s+e];i&&this.transpose()},t.prototype.copyRawDataTo=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=!1),i&&this.transpose();for(var r=this.rawData.length,s=0;r>s;s++)t[s+e]=this.rawData[s];i&&this.transpose()},t.prototype.copyRowFrom=function(t,e){switch(t){case 0:this.rawData[0]=e.x,this.rawData[4]=e.y,this.rawData[8]=e.z,this.rawData[12]=e.w;break;case 1:this.rawData[1]=e.x,this.rawData[5]=e.y,this.rawData[9]=e.z,this.rawData[13]=e.w;break;case 2:this.rawData[2]=e.x,this.rawData[6]=e.y,this.rawData[10]=e.z,this.rawData[14]=e.w;break;case 3:this.rawData[3]=e.x,this.rawData[7]=e.y,this.rawData[11]=e.z,this.rawData[15]=e.w;break;default:throw new s("ArgumentError, Row "+t+" out of bounds [0, ..., 3]")}},t.prototype.copyRowTo=function(t,e){switch(t){case 0:e.x=this.rawData[0],e.y=this.rawData[4],e.z=this.rawData[8],e.w=this.rawData[12];break;case 1:e.x=this.rawData[1],e.y=this.rawData[5],e.z=this.rawData[9],e.w=this.rawData[13];break;case 2:e.x=this.rawData[2],e.y=this.rawData[6],e.z=this.rawData[10],e.w=this.rawData[14];break;case 3:e.x=this.rawData[3],e.y=this.rawData[7],e.z=this.rawData[11],e.w=this.rawData[15];break;default:throw new s("ArgumentError, Row "+t+" out of bounds [0, ..., 3]")}},t.prototype.copyToMatrix3D=function(t){t.rawData=this.rawData.slice(0)},t.prototype.decompose=function(t){void 0===t&&(t="eulerAngles");var e=[],s=this.clone(),n=s.rawData,a=new r(n[12],n[13],n[14]);n[12]=0,n[13]=0,n[14]=0;var o=new r;o.x=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]),o.y=Math.sqrt(n[4]*n[4]+n[5]*n[5]+n[6]*n[6]),o.z=Math.sqrt(n[8]*n[8]+n[9]*n[9]+n[10]*n[10]),n[0]*(n[5]*n[10]-n[6]*n[9])-n[1]*(n[4]*n[10]-n[6]*n[8])+n[2]*(n[4]*n[9]-n[5]*n[8])<0&&(o.z=-o.z),n[0]/=o.x,n[1]/=o.x,n[2]/=o.x,n[4]/=o.y,n[5]/=o.y,n[6]/=o.y,n[8]/=o.z,n[9]/=o.z,n[10]/=o.z;var h=new r;switch(t){case i.AXIS_ANGLE:h.w=Math.acos((n[0]+n[5]+n[10]-1)/2);var p=Math.sqrt((n[6]-n[9])*(n[6]-n[9])+(n[8]-n[2])*(n[8]-n[2])+(n[1]-n[4])*(n[1]-n[4]));h.x=(n[6]-n[9])/p,h.y=(n[8]-n[2])/p,h.z=(n[1]-n[4])/p;break;case i.QUATERNION:var c=n[0]+n[5]+n[10];c>0?(h.w=Math.sqrt(1+c)/2,h.x=(n[6]-n[9])/(4*h.w),h.y=(n[8]-n[2])/(4*h.w),h.z=(n[1]-n[4])/(4*h.w)):n[0]>n[5]&&n[0]>n[10]?(h.x=Math.sqrt(1+n[0]-n[5]-n[10])/2,h.w=(n[6]-n[9])/(4*h.x),h.y=(n[1]+n[4])/(4*h.x),h.z=(n[8]+n[2])/(4*h.x)):n[5]>n[10]?(h.y=Math.sqrt(1+n[5]-n[0]-n[10])/2,h.x=(n[1]+n[4])/(4*h.y),h.w=(n[8]-n[2])/(4*h.y),h.z=(n[6]+n[9])/(4*h.y)):(h.z=Math.sqrt(1+n[10]-n[0]-n[5])/2,h.x=(n[8]+n[2])/(4*h.z),h.y=(n[6]+n[9])/(4*h.z),h.w=(n[1]-n[4])/(4*h.z));break;case i.EULER_ANGLES:h.y=Math.asin(-n[2]),1!=n[2]&&-1!=n[2]?(h.x=Math.atan2(n[6],n[10]),h.z=Math.atan2(n[1],n[0])):(h.z=0,h.x=Math.atan2(n[4],n[5]))}return e.push(a),e.push(h),e.push(o),e},t.prototype.deltaTransformVector=function(t){var e=t.x,i=t.y,s=t.z;return new r(e*this.rawData[0]+i*this.rawData[4]+s*this.rawData[8],e*this.rawData[1]+i*this.rawData[5]+s*this.rawData[9],e*this.rawData[2]+i*this.rawData[6]+s*this.rawData[10],e*this.rawData[3]+i*this.rawData[7]+s*this.rawData[11])},t.prototype.identity=function(){this.rawData=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},t.interpolate=function(e,i,r){for(var s=new t,n=0;16>n;++n)s.rawData[n]=e.rawData[n]+(i.rawData[n]-e.rawData[n])*r;return s},t.prototype.interpolateTo=function(t,e){for(var i=0;16>i;++i)this.rawData[i]=this.rawData[i]+(t.rawData[i]-this.rawData[i])*e},t.prototype.invert=function(){var t=this.determinant,e=Math.abs(t)>1e-11;if(e){t=1/t;var i=this.rawData[0],r=this.rawData[4],s=this.rawData[8],n=this.rawData[12],a=this.rawData[1],o=this.rawData[5],h=this.rawData[9],p=this.rawData[13],c=this.rawData[2],u=this.rawData[6],l=this.rawData[10],y=this.rawData[14],_=this.rawData[3],d=this.rawData[7],f=this.rawData[11],w=this.rawData[15];this.rawData[0]=t*(o*(l*w-y*f)-h*(u*w-y*d)+p*(u*f-l*d)),this.rawData[1]=-t*(a*(l*w-y*f)-h*(c*w-y*_)+p*(c*f-l*_)),this.rawData[2]=t*(a*(u*w-y*d)-o*(c*w-y*_)+p*(c*d-u*_)),this.rawData[3]=-t*(a*(u*f-l*d)-o*(c*f-l*_)+h*(c*d-u*_)),this.rawData[4]=-t*(r*(l*w-y*f)-s*(u*w-y*d)+n*(u*f-l*d)),this.rawData[5]=t*(i*(l*w-y*f)-s*(c*w-y*_)+n*(c*f-l*_)),this.rawData[6]=-t*(i*(u*w-y*d)-r*(c*w-y*_)+n*(c*d-u*_)),this.rawData[7]=t*(i*(u*f-l*d)-r*(c*f-l*_)+s*(c*d-u*_)),this.rawData[8]=t*(r*(h*w-p*f)-s*(o*w-p*d)+n*(o*f-h*d)),this.rawData[9]=-t*(i*(h*w-p*f)-s*(a*w-p*_)+n*(a*f-h*_)),this.rawData[10]=t*(i*(o*w-p*d)-r*(a*w-p*_)+n*(a*d-o*_)),this.rawData[11]=-t*(i*(o*f-h*d)-r*(a*f-h*_)+s*(a*d-o*_)),this.rawData[12]=-t*(r*(h*y-p*l)-s*(o*y-p*u)+n*(o*l-h*u)),this.rawData[13]=t*(i*(h*y-p*l)-s*(a*y-p*c)+n*(a*l-h*c)),this.rawData[14]=-t*(i*(o*y-p*u)-r*(a*y-p*c)+n*(a*u-o*c)),this.rawData[15]=t*(i*(o*l-h*u)-r*(a*l-h*c)+s*(a*u-o*c))}return e},t.prototype.prepend=function(t){var e=t.rawData[0],i=t.rawData[4],r=t.rawData[8],s=t.rawData[12],n=t.rawData[1],a=t.rawData[5],o=t.rawData[9],h=t.rawData[13],p=t.rawData[2],c=t.rawData[6],u=t.rawData[10],l=t.rawData[14],y=t.rawData[3],_=t.rawData[7],d=t.rawData[11],f=t.rawData[15],w=this.rawData[0],b=this.rawData[4],g=this.rawData[8],m=this.rawData[12],v=this.rawData[1],E=this.rawData[5],x=this.rawData[9],D=this.rawData[13],A=this.rawData[2],j=this.rawData[6],P=this.rawData[10],R=this.rawData[14],M=this.rawData[3],O=this.rawData[7],S=this.rawData[11],T=this.rawData[15];this.rawData[0]=e*w+n*b+p*g+y*m,this.rawData[1]=e*v+n*E+p*x+y*D,this.rawData[2]=e*A+n*j+p*P+y*R,this.rawData[3]=e*M+n*O+p*S+y*T,this.rawData[4]=i*w+a*b+c*g+_*m,this.rawData[5]=i*v+a*E+c*x+_*D,this.rawData[6]=i*A+a*j+c*P+_*R,this.rawData[7]=i*M+a*O+c*S+_*T,this.rawData[8]=r*w+o*b+u*g+d*m,this.rawData[9]=r*v+o*E+u*x+d*D,this.rawData[10]=r*A+o*j+u*P+d*R,this.rawData[11]=r*M+o*O+u*S+d*T,this.rawData[12]=s*w+h*b+l*g+f*m,this.rawData[13]=s*v+h*E+l*x+f*D,this.rawData[14]=s*A+h*j+l*P+f*R,this.rawData[15]=s*M+h*O+l*S+f*T},t.prototype.prependRotation=function(e,i){var r=t.getAxisRotation(i.x,i.y,i.z,e);this.prepend(r)},t.prototype.prependScale=function(e,i,r){this.prepend(new t([e,0,0,0,0,i,0,0,0,0,r,0,0,0,0,1]))},t.prototype.prependTranslation=function(e,i,s){var n=new t;n.position=new r(e,i,s),this.prepend(n)},t.prototype.recompose=function(e){if(e.length<3)return!1;this.identity(),this.appendScale(e[2].x,e[2].y,e[2].z);var i;return i=-e[1].x,this.append(new t([1,0,0,0,0,Math.cos(i),-Math.sin(i),0,0,Math.sin(i),Math.cos(i),0,0,0,0,0])),i=-e[1].y,this.append(new t([Math.cos(i),0,Math.sin(i),0,0,1,0,0,-Math.sin(i),0,Math.cos(i),0,0,0,0,0])),i=-e[1].z,this.append(new t([Math.cos(i),-Math.sin(i),0,0,Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,0])),this.position=e[0],this.rawData[15]=1,!0},t.prototype.transformVector=function(t){var e=t.x,i=t.y,s=t.z;return new r(e*this.rawData[0]+i*this.rawData[4]+s*this.rawData[8]+this.rawData[12],e*this.rawData[1]+i*this.rawData[5]+s*this.rawData[9]+this.rawData[13],e*this.rawData[2]+i*this.rawData[6]+s*this.rawData[10]+this.rawData[14],e*this.rawData[3]+i*this.rawData[7]+s*this.rawData[11]+this.rawData[15])},t.prototype.transformVectors=function(t,e){for(var i=0,r=0,s=0,n=0;i+3<=t.length;)r=t[i],s=t[i+1],n=t[i+2],e[i]=r*this.rawData[0]+s*this.rawData[4]+n*this.rawData[8]+this.rawData[12],e[i+1]=r*this.rawData[1]+s*this.rawData[5]+n*this.rawData[9]+this.rawData[13],e[i+2]=r*this.rawData[2]+s*this.rawData[6]+n*this.rawData[10]+this.rawData[14],i+=3},t.prototype.transpose=function(){var t=this.rawData.slice(0);this.rawData[1]=t[4],this.rawData[2]=t[8],this.rawData[3]=t[12],this.rawData[4]=t[1],this.rawData[6]=t[9],this.rawData[7]=t[13],this.rawData[8]=t[2],this.rawData[9]=t[6],this.rawData[11]=t[14],this.rawData[12]=t[3],this.rawData[13]=t[7],this.rawData[14]=t[11]},t.getAxisRotation=function(e,i,r,s){var n,a,o=new t,h=s*(Math.PI/180),p=Math.cos(h),c=Math.sin(h),u=1-p;return o.rawData[0]=p+e*e*u,o.rawData[5]=p+i*i*u,o.rawData[10]=p+r*r*u,n=e*i*u,a=r*c,o.rawData[1]=n+a,o.rawData[4]=n-a,n=e*r*u,a=i*c,o.rawData[8]=n+a,o.rawData[2]=n-a,n=i*r*u,a=e*c,o.rawData[9]=n-a,o.rawData[6]=n+a,o},Object.defineProperty(t.prototype,"determinant",{get:function(){return(this.rawData[0]*this.rawData[5]-this.rawData[4]*this.rawData[1])*(this.rawData[10]*this.rawData[15]-this.rawData[14]*this.rawData[11])-(this.rawData[0]*this.rawData[9]-this.rawData[8]*this.rawData[1])*(this.rawData[6]*this.rawData[15]-this.rawData[14]*this.rawData[7])+(this.rawData[0]*this.rawData[13]-this.rawData[12]*this.rawData[1])*(this.rawData[6]*this.rawData[11]-this.rawData[10]*this.rawData[7])+(this.rawData[4]*this.rawData[9]-this.rawData[8]*this.rawData[5])*(this.rawData[2]*this.rawData[15]-this.rawData[14]*this.rawData[3])-(this.rawData[4]*this.rawData[13]-this.rawData[12]*this.rawData[5])*(this.rawData[2]*this.rawData[11]-this.rawData[10]*this.rawData[3])+(this.rawData[8]*this.rawData[13]-this.rawData[12]*this.rawData[9])*(this.rawData[2]*this.rawData[7]-this.rawData[6]*this.rawData[3])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return new r(this.rawData[12],this.rawData[13],this.rawData[14])},set:function(t){this.rawData[12]=t.x,this.rawData[13]=t.y,this.rawData[14]=t.z},enumerable:!0,configurable:!0}),t.prototype.toFixed=function(t){var e=Math.pow(10,t);return"matrix3d("+Math.round(this.rawData[0]*e)/e+","+Math.round(this.rawData[1]*e)/e+","+Math.round(this.rawData[2]*e)/e+","+Math.round(this.rawData[3]*e)/e+","+Math.round(this.rawData[4]*e)/e+","+Math.round(this.rawData[5]*e)/e+","+Math.round(this.rawData[6]*e)/e+","+Math.round(this.rawData[7]*e)/e+","+Math.round(this.rawData[8]*e)/e+","+Math.round(this.rawData[9]*e)/e+","+Math.round(this.rawData[10]*e)/e+","+Math.round(this.rawData[11]*e)/e+","+Math.round(this.rawData[12]*e)/e+","+Math.round(this.rawData[13]*e)/e+","+Math.round(this.rawData[14]*e)/e+","+Math.round(this.rawData[15]*e)/e+")"},t.prototype.toString=function(){return"matrix3d("+Math.round(1e3*this.rawData[0])/1e3+","+Math.round(1e3*this.rawData[1])/1e3+","+Math.round(1e3*this.rawData[2])/1e3+","+Math.round(1e3*this.rawData[3])/1e3+","+Math.round(1e3*this.rawData[4])/1e3+","+Math.round(1e3*this.rawData[5])/1e3+","+Math.round(1e3*this.rawData[6])/1e3+","+Math.round(1e3*this.rawData[7])/1e3+","+Math.round(1e3*this.rawData[8])/1e3+","+Math.round(1e3*this.rawData[9])/1e3+","+Math.round(1e3*this.rawData[10])/1e3+","+Math.round(1e3*this.rawData[11])/1e3+","+Math.round(1e3*this.rawData[12])/1e3+","+Math.round(1e3*this.rawData[13])/1e3+","+Math.round(1e3*this.rawData[14])/1e3+","+Math.round(1e3*this.rawData[15])/1e3+")"},t}();e.exports=n},{"awayjs-core/lib/errors/ArgumentError":void 0,"awayjs-core/lib/geom/Orientation3D":void 0,"awayjs-core/lib/geom/Vector3D":void 0}],"awayjs-core/lib/geom/Matrix":[function(t,e){var i=t("awayjs-core/lib/geom/Point"),r=t("awayjs-core/lib/errors/ArgumentError"),s=function(){function t(t,e,i,r,s,n){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===s&&(s=0),void 0===n&&(n=0),this.a=t,this.b=e,this.c=i,this.d=r,this.tx=s,this.ty=n}return t.prototype.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)},t.prototype.concat=function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e;var i=this.c*t.a+this.d*t.c;this.d=this.c*t.b+this.d*t.d,this.c=i;var r=this.tx*t.a+this.ty*t.c+t.tx;this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=r},t.prototype.copyColumnFrom=function(t,e){if(t>2)throw"Column "+t+" out of bounds (2)";0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},t.prototype.copyColumnTo=function(t,e){if(t>2)throw new r("ArgumentError, Column "+t+" out of bounds [0, ..., 2]");0==t?(e.x=this.a,e.y=this.c,e.z=0):1==t?(e.x=this.b,e.y=this.d,e.z=0):(e.x=this.tx,e.y=this.ty,e.z=1)},t.prototype.copyFrom=function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},t.prototype.copyRowFrom=function(t,e){if(t>2)throw new r("ArgumentError, Row "+t+" out of bounds [0, ..., 2]");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},t.prototype.copyRowTo=function(t,e){if(t>2)throw new r("ArgumentError, Row "+t+" out of bounds [0, ..., 2]");0==t?(e.x=this.a,e.y=this.b,e.z=this.tx):1==t?(e.x=this.c,e.y=this.d,e.z=this.ty):e.setTo(0,0,1)},t.prototype.createBox=function(t,e,i,r,s){void 0===i&&(i=0),void 0===r&&(r=0),void 0===s&&(s=0),this.a=t,this.d=e,this.b=i,this.tx=r,this.ty=s},t.prototype.createGradientBox=function(t,e,i,r,s){if(void 0===i&&(i=0),void 0===r&&(r=0),void 0===s&&(s=0),this.a=t/1638.4,this.d=e/1638.4,0!=i){var n=Math.cos(i),a=Math.sin(i);this.b=a*this.d,this.c=-a*this.a,this.a*=n,this.d*=n}else this.b=this.c=0;this.tx=r+t/2,this.ty=s+e/2},t.prototype.deltaTransformPoint=function(t){return new i(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},t.prototype.identity=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},t.prototype.invert=function(){var t=this.a*this.d-this.b*this.c;if(0==t)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{t=1/t;var e=this.d*t;this.d=this.a*t,this.a=e,this.b*=-t,this.c*=-t;var i=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=i}},t.prototype.multiply=function(e){var i=new t;return i.a=this.a*e.a+this.b*e.c,i.b=this.a*e.b+this.b*e.d,i.c=this.c*e.a+this.d*e.c,i.d=this.c*e.b+this.d*e.d,i.tx=this.tx*e.a+this.ty*e.c+e.tx,i.ty=this.tx*e.b+this.ty*e.d+e.ty,i},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a*e-this.b*i;this.b=this.a*i+this.b*e,this.a=r;var s=this.c*e-this.d*i;this.d=this.c*i+this.d*e,this.c=s;var n=this.tx*e-this.ty*i;this.ty=this.tx*i+this.ty*e,this.tx=n},t.prototype.scale=function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},t.prototype.setTo=function(t,e,i,r,s,n){this.a=t,this.b=e,this.c=i,this.d=r,this.tx=s,this.ty=n},t.prototype.toString=function(){return"[Matrix] (a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"},t.prototype.transformPoint=function(t){return new i(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},t.prototype.translate=function(t,e){this.tx+=t,this.ty+=e},t}();e.exports=s},{"awayjs-core/lib/errors/ArgumentError":void 0,"awayjs-core/lib/geom/Point":void 0}],"awayjs-core/lib/geom/Orientation3D":[function(t,e){var i=function(){function t(){}return t.AXIS_ANGLE="axisAngle",t.EULER_ANGLES="eulerAngles",t.QUATERNION="quaternion",t}();e.exports=i},{}],"awayjs-core/lib/geom/PerspectiveProjection":[function(t,e){var i=function(){function t(){}return t.prototype.toMatrix3D=function(){return this._matrix3D},t}();e.exports=i},{}],"awayjs-core/lib/geom/Plane3D":[function(t,e){var i=t("awayjs-core/lib/geom/PlaneClassification"),r=function(){function t(e,i,r,s){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===s&&(s=0),this.a=e,this.b=i,this.c=r,this.d=s,this._iAlignment=0==e&&0==i?t.ALIGN_XY_AXIS:0==i&&0==r?t.ALIGN_YZ_AXIS:0==e&&0==r?t.ALIGN_XZ_AXIS:t.ALIGN_ANY}return t.prototype.fromPoints=function(e,i,r){var s=i.x-e.x,n=i.y-e.y,a=i.z-e.z,o=r.x-e.x,h=r.y-e.y,p=r.z-e.z;this.a=n*p-a*h,this.b=a*o-s*p,this.c=s*h-n*o,this.d=this.a*e.x+this.b*e.y+this.c*e.z,this._iAlignment=0==this.a&&0==this.b?t.ALIGN_XY_AXIS:0==this.b&&0==this.c?t.ALIGN_YZ_AXIS:0==this.a&&0==this.c?t.ALIGN_XZ_AXIS:t.ALIGN_ANY},t.prototype.fromNormalAndPoint=function(e,i){this.a=e.x,this.b=e.y,this.c=e.z,this.d=this.a*i.x+this.b*i.y+this.c*i.z,this._iAlignment=0==this.a&&0==this.b?t.ALIGN_XY_AXIS:0==this.b&&0==this.c?t.ALIGN_YZ_AXIS:0==this.a&&0==this.c?t.ALIGN_XZ_AXIS:t.ALIGN_ANY},t.prototype.normalize=function(){var t=1/Math.sqrt(this.a*this.a+this.b*this.b+this.c*this.c);return this.a*=t,this.b*=t,this.c*=t,this.d*=t,this},t.prototype.distance=function(e){return this._iAlignment==t.ALIGN_YZ_AXIS?this.a*e.x-this.d:this._iAlignment==t.ALIGN_XZ_AXIS?this.b*e.y-this.d:this._iAlignment==t.ALIGN_XY_AXIS?this.c*e.z-this.d:this.a*e.x+this.b*e.y+this.c*e.z-this.d},t.prototype.classifyPoint=function(e,r){if(void 0===r&&(r=.01),this.d!=this.d)return i.FRONT;var s;return s=this._iAlignment==t.ALIGN_YZ_AXIS?this.a*e.x-this.d:this._iAlignment==t.ALIGN_XZ_AXIS?this.b*e.y-this.d:this._iAlignment==t.ALIGN_XY_AXIS?this.c*e.z-this.d:this.a*e.x+this.b*e.y+this.c*e.z-this.d,-r>s?i.BACK:s>r?i.FRONT:i.INTERSECT},t.prototype.toString=function(){return"Plane3D [a:"+this.a+", b:"+this.b+", c:"+this.c+", d:"+this.d+"]"},t.ALIGN_ANY=0,t.ALIGN_XY_AXIS=1,t.ALIGN_YZ_AXIS=2,t.ALIGN_XZ_AXIS=3,t}();e.exports=r},{"awayjs-core/lib/geom/PlaneClassification":void 0}],"awayjs-core/lib/geom/PlaneClassification":[function(t,e){var i=function(){function t(){}return t.BACK=0,t.FRONT=1,t.IN=0,t.OUT=1,t.INTERSECT=2,t}();e.exports=i},{}],"awayjs-core/lib/geom/Point":[function(t,e){var i=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},enumerable:!0,configurable:!0}),t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(){},t.prototype.equals=function(t){return this.x==t.x&&this.y==t.y},t.prototype.normalize=function(t){if(void 0===t&&(t=1),0!=this.length){var e=t/this.length;return this.x*=e,void(this.y*=e)}throw"Cannot divide by zero length."},t.prototype.offset=function(t,e){this.x+=t,this.y+=e},t.prototype.setTo=function(){},t.prototype.subtract=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.toString=function(){return"[Point] (x="+this.x+", y="+this.y+")"},t.distance=function(t,e){var i=e.x-t.x,r=e.y-t.y;return Math.sqrt(i*i+r*r)},t.interpolate=function(e,i,r){return new t(i.x+(e.x-i.x)*r,i.y+(e.y-i.y)*r)},t.polar=function(e,i){return new t(e*Math.cos(i),e*Math.sin(i))},t}();e.exports=i},{}],"awayjs-core/lib/geom/PoissonLookup":[function(t,e){var i=function(){function t(){}return t.initDistributions=function(){this._distributions=new Array,this._distributions[0]=new Array(.3082841,.4320919),this._distributions[1]=new Array(.3082841,.4320919,-.2274942,-.6640266),this._distributions[2]=new Array(.8742689,.0009265686,-.6864116,-.5536607,-.2325206,.7678371),this._distributions[3]=new Array(.3913446,-.7084417,-.7511101,-.5935929,-.2323436,.5320091,.8435315,.5035911),this._distributions[4]=new Array(.2122471,-.5771395,-.8543506,-.1763534,.5189021,.8323698,-.3616908,.5865368,.9523004,-.04948437),this._distributions[5]=new Array(.5791035,.3496495,.2959551,-.6006749,-.2419119,-.06879545,-.7403072,.6110353,-.04555973,.8059174,-.5275017,-.737129),this._distributions[6]=new Array(.06941478,.8519508,-.7441907,.2426432,.6439992,-.2405252,-.1007523,-.2327587,-.6427067,-.7248485,.8050759,.5492936,.3573822,-.8824506),this._distributions[7]=new Array(.8509863,.4452587,-.09507271,.2073005,.1706571,-.6434793,.8029777,-.2718274,-.4401725,.8196304,.2715359,.8598521,-.8121575,-.006447683,-.6486837,-.7237598),this._distributions[8]=new Array(.6951686,-.2680728,-.04933243,.3710589,.6592212,.3661054,-.01579228,-.6909603,-.3275101,-.1756866,.3811549,.9218544,-.216032,.9755028,-.7065172,.3355389,-.6579109,-.6798355),this._distributions[9]=new Array(.6181276,-.09790418,-.2537868,-.5570995,-.1964931,.3459414,.3474613,-.8885581,.5135743,.5753114,-.9549091,.1480672,-.8711916,-.4293123,-.6928071,.6190156,-.13369,.8892705,.0548224,-.1246777),this._distributions[10]=new Array(.4853027,-.5080479,-.1331675,-.506597,.139575,.01316885,.803486,-.07568797,.5240274,.4883182,-.4334005,.1207938,-.7794577,-.3985141,.1576432,-.9861221,-.3712867,.6959021,.1517378,.9847429,-.9762396,.1661073),this._distributions[11]=new Array(-.2790166,-.01252619,.3389016,.3921154,.2408341,-.313211,-.8151779,-.3898362,-.6347761,.3486495,.09471484,-.7722448,-.1385674,.6364574,.2456331,.9295807,-.3864306,-.8247881,.6111673,-.7164014,.8287669,.05466961,.837706,.5415626),this._distributions[12]=new Array(.056417,.3185693,-.8245888,.1882799,.8575996,.1136829,.1070375,.875332,.4076743,-.06000621,-.4311306,.7239349,.2677574,-.538472,-.08486642,-.2083647,-.888989,-.3906443,-.4768958,-.6664082,.09334993,-.9861541,.808736,-.455949,.5889823,.7660807),this._distributions[13]=new Array(-.2681346,-.3955857,-.1315102,-.8852947,-.5143692,.09551838,.4344836,-.546945,-.8620899,-.3813288,.1650431,.02034803,-.1543657,.3842218,-.828457,.5376903,-.6145,-.7818927,-.2639062,.8784655,.1912684,.9720125,.3135219,.5224229,.7850655,.4592297,.7465045,-.1368916),this._distributions[14]=new Array(.4241029,.695281,.150511,-.02304107,-.2482675,.9120338,.8057325,.2622084,-.2445909,.2765962,.8588713,-.1772072,.3117845,-.4385471,-.3923851,-.3298936,-.1751254,-.7405846,.6926506,-.684163,-.9304563,-.3254691,-.8533293,.1523024,.2510415,-.917345,-.6239773,-.7105472,-.6104624,.6041355),this._distributions[15]=new Array(.5844554,.06651045,.1343258,.6756578,.3799674,-.6301104,.5590436,.7940555,.09574714,.02262517,.8697868,.393301,.003945862,-.421735,.9043913,-.2432393,-.4844007,.7190998,-.3201078,.2972371,-.3852352,-.6341155,-.5413069,-.09223081,-.8468984,-.5126905,.004156174,-.8633173,-.9681889,-.03305046,-.846509,.4414353),this._distributions[16]=new Array(.4506488,.657668,.4621297,.07441051,-.2782125,.6201044,.9750003,.09110117,.1019436,.2986514,.03457398,.9631706,.542098,-.5505635,.8675668,.4938077,-.5414361,.2655292,-.7941836,.6003053,-.09847672,-.1001604,-.9316511,-.08572888,.07286467,-.611899,-.5232627,-.4082253,-.5481608,-.827938,-.1551939,-.9621193,.9220031,-.3315949),this._distributions[17]=new Array(.197908,-.4697656,-.4474689,-.3428435,.8529873,-.2228634,.6022478,-.5469642,.2545276,-.931133,-.1507547,-.7855865,-.07606658,.1011628,.3046715,.2785755,.4698432,-.1064076,.6831254,.4152522,.1374381,.8363233,-.2166121,.6682042,.5511393,.7996449,-.4278994,.28836,-.8875198,.2181732,-.8772842,-.2818254,-.7000262,.5762185,-.6062385,-.7439126),this._distributions[18]=new Array(.6645703,-.05678739,.5720971,.4533803,-.07660709,.08802763,.5163431,-.4426552,.1163455,-.3404382,-.4004807,-.5046007,.2932099,-.8201418,-.5322125,.03834766,-.1490209,-.8817304,-.8000439,-.3509448,.5260983,.8421043,.1197811,.6963812,.9498612,.3122156,-.9285746,.02120355,-.6670724,.7217396,.9155889,-.3510147,-.271941,.4727852,.318879,.1634057,-.2686755,.9253026),this._distributions[19]=new Array(.5064292,.422527,.8935515,-.06610427,.1199719,.175568,.403388,-.2003276,.1657927,.8154403,.9301245,.2929218,-.1644068,.6201534,.7113559,-.6589743,-.3364046,-.1799502,.02109996,-.392765,-.382213,.3219992,-.9201946,.1207967,-.726185,.4291916,-.7443482,-.2480059,-.5147594,.7418784,.1935272,-.7406143,-.3643523,-.5559214,-.7147766,-.6326278,-.2524151,-.9096627,.5161405,.7908453),this._distributions[20]=new Array(.7921003,-.3032096,.5992879,-.009052323,.2538549,-.1872749,.7053444,.3677175,.5417761,-.8170255,.9749611,.1210478,.1969143,-.6117041,-.1824499,-.4634196,-.1181338,-.8668742,-.3050112,-.1352596,-.4409327,-.7082354,-.03225285,.1171548,.3113096,.3250439,-.8166144,-.463995,-.01014475,.4715334,-.6868284,.05091889,-.4011163,.2717285,-.06756835,.8307694,-.7938535,.4352129,-.4663842,.7165329,.559729,.8093995),this._distributions[21]=new Array(.07832243,.426151,-.3856795,.5799953,.01970797,.06706189,.4822682,.3014512,-.1532982,.87485,-.4959527,.07888043,.260601,-.2304784,.4996209,.7167382,.585986,-.04265174,-.7679967,.5509416,-.9041753,.1802134,-.8407655,-.4442826,-.2058258,-.2636995,-.4984115,-.5928579,.2926032,-.7886473,-.06933882,-.621177,.578115,-.4813387,.8981777,-.3291056,.1942733,.9255584,.8084362,.5066984,.9920095,.03103104,-.2403206,-.9389018),this._distributions[22]=new Array(-.5691095,.1014316,-.7788262,.384012,-.8253665,-.1645582,-.1830993,.002997211,-.2555013,-.4177977,-.6640869,-.4794711,-.2351242,.5850121,.02436554,.2825883,.006061143,-.8200245,.1618791,-.3063331,-.3765897,-.7249815,.6092919,-.6769328,-.5956934,.6957655,.5383642,.4522677,-.1489165,.9125596,.4167473,.1335986,.1898309,.5874342,.2288171,.9624356,.7540846,-.07672304,.8986252,.2788797,.3555991,-.9262139,.8454325,-.4027667,.4945236,-.2935512),this._distributions[23]=new Array(-.4481403,-.3758374,-.8877251,.08739938,.05015831,-.1339983,-.4070427,-.8534173,.1019274,-.5503222,-.445998,.1997541,-.8686263,-.2788867,-.7695944,-.6033704,-.05515742,-.885711,-.7714347,.5790485,.3466263,-.8799297,.4487582,-.5321087,-.2461368,.6053771,-.05568117,.2457351,-.4668669,.8523816,.8103387,-.4255538,.4054182,-.175663,-.2802011,-.08920153,.2665959,.382935,.555679,.1621837,.105246,.8420411,.6921161,.6902903,.880946,.2483067,.9699264,-.1021767),this._distributions[24]=new Array(-.1703323,-.3119385,.2916039,-.2988263,-.008472982,-.9277695,-.7730271,-.3277904,.3440474,-.6815342,-.2910278,.03461745,-.6764899,-.657078,-.3505501,-.7311988,-.03478927,.3258755,-.6048835,.159423,.2035525,.02212214,.5116573,.2226856,.6664805,-.2500189,.7147882,-.6609634,.03030632,-.5763278,-.2516585,.6116219,-.9434413,-.0116792,.9061816,.2491155,.182867,.6076167,.286593,.9485695,-.5992439,.6970096,-.2082874,.9416641,.9880044,-.1541709,-.9122881,.331555,.7324886,.6725098),this._distributions[25]=new Array(.3869598,-.04974834,.7168844,-.0693711,-.07166742,.1725325,.4599592,.3232779,.5872094,-.4198674,.2442266,-.625667,.1254557,.4500048,-.2290154,-.1803567,.890583,.3373493,.1256081,.7853789,-.2676466,.5305805,-.7063224,.252168,-.3989835,.1189921,.09617215,-.2451447,.6302541,.6085876,.9380925,-.3234899,.5086241,-.8573482,.03576187,-.9876697,-.0876712,-.6365195,-.5276513,.823456,-.6935764,-.2240411,-.5212318,-.5383121,-.2116208,.9639363,-.9840096,.02743555,-.3991577,-.8994547,-.7830126,.614068),this._distributions[26]=new Array(-.8366601,.4464895,-.5917366,-.02073906,-.9845258,.1635625,-.3097973,.4379579,-.5478154,.7173221,-.1685888,.9261969,.01503595,.6046097,.4452421,.5449086,.0315687,.1944619,.3753404,.8688548,.4143643,.1396648,.8711032,.4304703,.7328773,.1461501,.6374492,-.3521495,.145613,-.1341466,.9040975,-.135123,-.7839059,-.5450199,-.516019,-.3320859,-.206158,-.4431106,-.9703014,-.2368356,-.2473119,-.0864351,.2130725,-.4604077,-.003726701,-.7122303,-.4072131,-.6833169,.1632999,-.9776646,.4686888,-.680495,-.2293511,-.9509777),this._distributions[27]=new Array(.107311,-.1311369,-.4194764,-.3148777,.6171439,-.2745973,.2796618,.1937153,-.09106886,.4180236,.6044006,.05577846,.02927299,-.6738263,-.2580845,.1179939,-.09023564,-.3830024,.3570953,-.5000587,.81591,-.5518309,.9300217,-.1257987,.4904627,-.8381903,-.3163182,-.8632009,.1137595,-.9875998,.8390043,.3538185,.2149114,.4993694,.5191584,.3833552,.5002763,.7061465,-.2567276,.9068756,-.5197366,.3467845,.03668867,.9734009,-.5347553,.66747,-.9028882,.1023768,-.8967977,.412834,-.5821944,.0426479,-.8032165,-.2397038,-.5597343,-.6358021),this._distributions[28]=new Array(-.6562496,-.1781036,-.9301494,.1185208,-.3861143,-.4153562,-.1560799,-.1099607,-.5587025,.395218,-.5322112,-.699701,-.5008639,.08726846,-.970524,-.1963461,-.813577,-.5185111,-.1644458,.298,-.3216791,.639982,.3315373,.3339162,.2383235,-.00105722,.1137828,.5450742,-.01899921,.8798413,.2849685,.8255596,.6974412,.2123175,.7588523,.5470437,.5102502,-.1687844,.5853448,.8033476,.2590716,-.5262504,.5607718,-.6342825,.8666443,-.1491841,.8341052,-.4935003,-.1568441,-.6634066,.2512113,-.8769391,-.2559827,-.9572457,-.01928852,-.3966542,-.750667,.6409678),this._distributions[29]=new Array(.3454786,-.04837726,.2649553,.2406852,.5599093,-.3839145,-.1111814,-.05502108,.7586042,-.05818377,.2519488,-.4665135,-.1264972,.2602723,-.08766216,-.3671907,.6428129,.3999204,-.6105871,-.1246869,-.4589451,-.7646643,-.03021116,-.7899352,-.6036922,-.4293956,-.2481938,.6534185,.102798,.6784465,-.6392644,.4821358,-.6789002,.1779133,-.9140783,-.1989647,-.9262617,.3381507,.4794891,-.8093274,.3959447,.668478,.9602883,.2272305,-.123672,.9210883,.2375148,.9523395,-.52898,.7973378,-.382433,.1228794,.695015,.6948439,.7530277,-.6458191,.8777987,-.3272956,.2318525,-.962768),this._distributions[30]=new Array(.4518921,-.1146195,.4720805,-.4238748,.3655423,.1806341,.1589939,-.23568,.7673324,-.5149941,.01163658,.09045836,.7010971,.1245747,.7518286,-.1855433,.4960719,.4601022,.2566979,-.6308268,-.0654714,-.5126389,-.1823319,-.1343282,-.1464312,.4883236,-.3858738,.203523,.1484799,.4432284,-.477109,-.116241,.2719092,.7208626,.9104174,.3578536,-.5956199,.7662588,-.6996251,.3678654,-.2514512,.9251933,.1275825,-.9478135,-.204608,-.8611552,.4264838,-.877443,.9854161,.05521112,.5912951,.7997434,.1140349,.982093,-.9324368,-.2094094,-.42436,-.6441524,-.6722705,-.3554261,-.7844236,.08587621),this._distributions[31]=new Array(-.4206714,-.5613642,-.8733016,-.3373051,-.1046226,-.2902999,-.1318562,-.8434365,.1145093,-.5962623,-.4965627,-.1873259,-.5011808,-.8546229,-.7165636,-.5743566,.1090901,.2017643,.3404809,-.220455,-.1989015,.2372122,-.4538706,.0979171,.4514146,-.572846,.2314168,-.8514503,-.4247236,.5650803,-.943347,.04514639,-.1309718,.5221877,-.7004157,.4561877,.6306441,.04448673,.4301621,.5766876,.1078042,.7245752,.3875354,.2794483,.702876,-.2924213,.7360667,-.6210318,.7486517,.6531103,.4898235,.8591025,.6549174,.3854057,-.2596106,.7916998,.9251194,-.05296265,-.5620695,.820877,-.01228026,.9937211,.9612103,.2628758)
},t.getDistribution=function(t){return this._distributions||this.initDistributions(),2>t||t>32?null:this._distributions[t-1]},t}();e.exports=i},{}],"awayjs-core/lib/geom/Quaternion":[function(t,e){var i=t("awayjs-core/lib/geom/Matrix3DUtils"),r=t("awayjs-core/lib/geom/Orientation3D"),s=t("awayjs-core/lib/geom/Matrix3D"),n=t("awayjs-core/lib/geom/Vector3D"),a=function(){function t(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),this.x=0,this.y=0,this.z=0,this.w=1,this.x=t,this.y=e,this.z=i,this.w=r}return Object.defineProperty(t.prototype,"magnitude",{get:function(){return Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z)},enumerable:!0,configurable:!0}),t.prototype.multiply=function(t,e){var i=t.w,r=t.x,s=t.y,n=t.z,a=e.w,o=e.x,h=e.y,p=e.z;this.w=i*a-r*o-s*h-n*p,this.x=i*o+r*a+s*p-n*h,this.y=i*h-r*p+s*a+n*o,this.z=i*p+r*h-s*o+n*a},t.prototype.multiplyVector=function(e,i){void 0===i&&(i=null),null===i&&(i=new t);var r=e.x,s=e.y,n=e.z;return i.w=-this.x*r-this.y*s-this.z*n,i.x=this.w*r+this.y*n-this.z*s,i.y=this.w*s-this.x*n+this.z*r,i.z=this.w*n+this.x*s-this.y*r,i},t.prototype.fromAxisAngle=function(t,e){var i=Math.sin(e/2),r=Math.cos(e/2);this.x=t.x*i,this.y=t.y*i,this.z=t.z*i,this.w=r,this.normalize()},t.prototype.slerp=function(t,e,i){var r=t.w,s=t.x,n=t.y,a=t.z,o=e.w,h=e.x,p=e.y,c=e.z,u=r*o+s*h+n*p+a*c;if(0>u&&(u=-u,o=-o,h=-h,p=-p,c=-c),.95>u){var l=Math.acos(u),y=1/Math.sin(l),_=Math.sin(l*(1-i))*y,d=Math.sin(l*i)*y;this.w=r*_+o*d,this.x=s*_+h*d,this.y=n*_+p*d,this.z=a*_+c*d}else{this.w=r+i*(o-r),this.x=s+i*(h-s),this.y=n+i*(p-n),this.z=a+i*(c-a);var f=1/Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z);this.w*=f,this.x*=f,this.y*=f,this.z*=f}},t.prototype.lerp=function(t,e,i){var r,s=t.w,n=t.x,a=t.y,o=t.z,h=e.w,p=e.x,c=e.y,u=e.z;0>s*h+n*p+a*c+o*u&&(h=-h,p=-p,c=-c,u=-u),this.w=s+i*(h-s),this.x=n+i*(p-n),this.y=a+i*(c-a),this.z=o+i*(u-o),r=1/Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z),this.w*=r,this.x*=r,this.y*=r,this.z*=r},t.prototype.fromEulerAngles=function(t,e,i){var r=.5*t,s=.5*e,n=.5*i,a=Math.cos(r),o=Math.sin(r),h=Math.cos(s),p=Math.sin(s),c=Math.cos(n),u=Math.sin(n);this.w=a*h*c+o*p*u,this.x=o*h*c-a*p*u,this.y=a*p*c+o*h*u,this.z=a*h*u-o*p*c},t.prototype.toEulerAngles=function(t){return void 0===t&&(t=null),null===t&&(t=new n),t.x=Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),t.y=Math.asin(2*(this.w*this.y-this.z*this.x)),t.z=Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z)),t},t.prototype.normalize=function(t){void 0===t&&(t=1);var e=t/Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);this.x*=e,this.y*=e,this.z*=e,this.w*=e},t.prototype.toString=function(){return"{x:"+this.x+" y:"+this.y+" z:"+this.z+" w:"+this.w+"}"},t.prototype.toMatrix3D=function(t){void 0===t&&(t=null);var e=i.RAW_DATA_CONTAINER,r=2*this.x*this.y,n=2*this.x*this.z,a=2*this.x*this.w,o=2*this.y*this.z,h=2*this.y*this.w,p=2*this.z*this.w,c=this.x*this.x,u=this.y*this.y,l=this.z*this.z,y=this.w*this.w;return e[0]=c-u-l+y,e[4]=r-p,e[8]=n+h,e[12]=0,e[1]=r+p,e[5]=-c+u-l+y,e[9]=o-a,e[13]=0,e[2]=n-h,e[6]=o+a,e[10]=-c-u+l+y,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1,t?(t.copyRawDataFrom(e),t):new s(e)},t.prototype.fromMatrix=function(t){var e=t.decompose(r.QUATERNION)[1];this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w},t.prototype.toRawData=function(t,e){void 0===e&&(e=!1);var i=2*this.x*this.y,r=2*this.x*this.z,s=2*this.x*this.w,n=2*this.y*this.z,a=2*this.y*this.w,o=2*this.z*this.w,h=this.x*this.x,p=this.y*this.y,c=this.z*this.z,u=this.w*this.w;t[0]=h-p-c+u,t[1]=i-o,t[2]=r+a,t[4]=i+o,t[5]=-h+p-c+u,t[6]=n-s,t[8]=r-a,t[9]=n+s,t[10]=-h-p+c+u,t[3]=t[7]=t[11]=0,e||(t[12]=t[13]=t[14]=0,t[15]=1)},t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.w)},t.prototype.rotatePoint=function(t,e){void 0===e&&(e=null);var i,r,s,a,o=t.x,h=t.y,p=t.z;return null===e&&(e=new n),a=-this.x*o-this.y*h-this.z*p,i=this.w*o+this.y*p-this.z*h,r=this.w*h-this.x*p+this.z*o,s=this.w*p+this.x*h-this.y*o,e.x=-a*this.x+i*this.w-r*this.z+s*this.y,e.y=-a*this.y+i*this.z+r*this.w-s*this.x,e.z=-a*this.z-i*this.y+r*this.x+s*this.w,e},t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w},t}();e.exports=a},{"awayjs-core/lib/geom/Matrix3D":void 0,"awayjs-core/lib/geom/Matrix3DUtils":void 0,"awayjs-core/lib/geom/Orientation3D":void 0,"awayjs-core/lib/geom/Vector3D":void 0}],"awayjs-core/lib/geom/Rectangle":[function(t,e){var i=t("awayjs-core/lib/geom/Point"),r=function(){function t(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r}return Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRight",{get:function(){return null==this._bottomRight&&(this._bottomRight=new i),this._bottomRight.x=this.x+this.width,this._bottomRight.y=this.y+this.height,this._bottomRight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return null==this._size&&(this._size=new i),this._size.x=this.width,this._size.y=this.height,this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeft",{get:function(){return null==this._topLeft&&(this._topLeft=new i),this._topLeft.x=this.x,this._topLeft.y=this.y,this._topLeft},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){return this.x<=t&&this.x+this.width>=t&&this.y<=e&&this.y+this.height>=e},t.prototype.containsPoint=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},t.prototype.containsRect=function(t){return this.x<=t.x&&this.x+this.width>=t.x+t.width&&this.y<=t.y&&this.y+this.height>=t.y+t.height},t.prototype.copyFrom=function(){},t.prototype.equals=function(t){return this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},t.prototype.inflate=function(t,e){this.x-=t/2,this.y-=e/2,this.width+=t/2,this.height+=e/2},t.prototype.inflatePoint=function(t){this.x-=t.x/2,this.y-=t.y/2,this.width+=t.x/2,this.height+=t.y/2},t.prototype.intersection=function(e){if(this.intersects(e)){var i=new t;return this.x>e.x?(i.x=this.x,i.width=e.x-this.x+e.width,i.width>this.width&&(i.width=this.width)):(i.x=e.x,i.width=this.x-e.x+this.width,i.width>e.width&&(i.width=e.width)),this.y>e.y?(i.y=this.y,i.height=e.y-this.y+e.height,i.height>this.height&&(i.height=this.height)):(i.y=e.y,i.height=this.y-e.y+this.height,i.height>e.height&&(i.height=e.height)),i}return new t},t.prototype.intersects=function(t){return this.x+this.width>t.x&&this.x<t.x+t.width&&this.y+this.height>t.y&&this.y<t.y+t.height},t.prototype.isEmpty=function(){return 0==this.x&&0==this.y&&0==this.width&&0==this.height},t.prototype.offset=function(t,e){this.x+=t,this.y+=e},t.prototype.offsetPoint=function(t){this.x+=t.x,this.y+=t.y},t.prototype.setEmpty=function(){this.x=0,this.y=0,this.width=0,this.height=0},t.prototype.setTo=function(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r},t.prototype.toString=function(){return"[Rectangle] (x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},t.prototype.union=function(e){var i=new t;return this.x<e.x?(i.x=this.x,i.width=e.x-this.x+e.width,i.width<this.width&&(i.width=this.width)):(i.x=e.x,i.width=this.x-e.x+this.width,i.width<e.width&&(i.width=e.width)),this.y<e.y?(i.y=this.y,i.height=e.y-this.y+e.height,i.height<this.height&&(i.height=this.height)):(i.y=e.y,i.height=this.y-e.y+this.height,i.height<e.height&&(i.height=e.height)),i},t}();e.exports=r},{"awayjs-core/lib/geom/Point":void 0}],"awayjs-core/lib/geom/UVTransform":[function(t,e){var i=t("awayjs-core/lib/geom/Matrix"),r=function(){function t(){this._uvMatrix=new i,this._rotation=0,this._scaleU=1,this._scaleV=1,this._offsetU=0,this._offsetV=0}return Object.defineProperty(t.prototype,"offsetU",{get:function(){return this._offsetU},set:function(t){t!=this._offsetU&&(this._offsetU=t,this._uvMatrixDirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetV",{get:function(){return this._offsetV},set:function(t){t!=this._offsetV&&(this._offsetV=t,this._uvMatrixDirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){t!=this._rotation&&(this._rotation=t,this._uvMatrixDirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleU",{get:function(){return this._scaleU},set:function(t){t!=this._scaleU&&(this._scaleU=t,this._uvMatrixDirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleV",{get:function(){return this._scaleV},set:function(t){t!=this._scaleV&&(this._scaleV=t,this._uvMatrixDirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matrix",{get:function(){return this._uvMatrixDirty&&this.updateUVMatrix(),this._uvMatrix},enumerable:!0,configurable:!0}),t.prototype.updateUVMatrix=function(){this._uvMatrix.identity(),0!=this._rotation&&this._uvMatrix.rotate(this._rotation),(1!=this._scaleU||1!=this._scaleV)&&this._uvMatrix.scale(this._scaleU,this._scaleV),this._uvMatrix.translate(this._offsetU,this._offsetV),this._uvMatrixDirty=!1},t}();e.exports=r},{"awayjs-core/lib/geom/Matrix":void 0}],"awayjs-core/lib/geom/Vector3D":[function(t,e){var i=function(){function t(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.z=i,this.w=r}return Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.lengthSquared)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lengthSquared",{get:function(){return this.x*this.x+this.y*this.y+this.z*this.z},enumerable:!0,configurable:!0}),t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y,this.z+e.z,this.w+e.w)},t.angleBetween=function(t,e){return Math.acos(t.dotProduct(e)/(t.length*e.length))},t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.w)},t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w},t.prototype.crossProduct=function(e){return new t(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x,1)},t.prototype.decrementBy=function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},t.distance=function(t,e){var i=t.x-e.x,r=t.y-e.y,s=t.z-e.z;return Math.sqrt(i*i+r*r+s*s)},t.prototype.dotProduct=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t.prototype.equals=function(t,e){return void 0===e&&(e=!1),this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)},t.prototype.incrementBy=function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},t.prototype.nearEquals=function(t,e,i){return void 0===i&&(i=!0),Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!i||Math.abs(this.w-t.w)<e)},t.prototype.negate=function(){this.x=-this.x,this.y=-this.y,this.z=-this.z},t.prototype.normalize=function(t){if(void 0===t&&(t=1),0!=this.length){var e=t/this.length;return this.x*=e,this.y*=e,void(this.z*=e)}},t.prototype.project=function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},t.prototype.scaleBy=function(t){this.x*=t,this.y*=t,this.z*=t},t.prototype.setTo=function(t,e,i){this.x=t,this.y=e,this.z=i},t.prototype.subtract=function(e){return new t(this.x-e.x,this.y-e.y,this.z-e.z)},t.prototype.toString=function(){return"[Vector3D] (x:"+this.x+" ,y:"+this.y+", z"+this.z+", w:"+this.w+")"},t.X_AXIS=new t(1,0,0),t.Y_AXIS=new t(0,1,0),t.Z_AXIS=new t(0,0,1),t}();e.exports=i},{}],"awayjs-core/lib/library/AssetLibraryBundle":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/library/AssetLibraryIterator"),s=t("awayjs-core/lib/library/AssetLoader"),n=t("awayjs-core/lib/library/ConflictPrecedence"),a=t("awayjs-core/lib/library/ConflictStrategy"),o=t("awayjs-core/lib/library/NamedAssetBase"),h=t("awayjs-core/lib/errors/Error"),p=t("awayjs-core/lib/events/AssetEvent"),c=t("awayjs-core/lib/events/IOErrorEvent"),u=t("awayjs-core/lib/events/LoaderEvent"),l=t("awayjs-core/lib/events/EventDispatcher"),y=t("awayjs-core/lib/events/ParserEvent"),_=function(t){function e(){var e=this;t.call(this),this._loadingSessionsGarbage=new Array,this._assets=new Array,this._assetDictionary=new Object,this._loadingSessions=new Array,this.conflictStrategy=a.IGNORE.create(),this.conflictPrecedence=n.FAVOR_NEW,this._onAssetRenameDelegate=function(t){return e.onAssetRename(t)},this._onAssetConflictResolvedDelegate=function(t){return e.onAssetConflictResolved(t)},this._onResourceCompleteDelegate=function(t){return e.onResourceComplete(t)},this._onTextureSizeErrorDelegate=function(t){return e.onTextureSizeError(t)},this._onAssetCompleteDelegate=function(t){return e.onAssetComplete(t)},this._onLoadErrorDelegate=function(t){return e.onLoadError(t)},this._onParseErrorDelegate=function(t){return e.onParseError(t)}}return i(e,t),e.getInstance=function(t){return void 0===t&&(t="default"),t||(t="default"),e._iInstances.hasOwnProperty(t)||(e._iInstances[t]=new e),e._iInstances[t]},e.prototype.enableParser=function(t){s.enableParser(t)},e.prototype.enableParsers=function(t){s.enableParsers(t)},Object.defineProperty(e.prototype,"conflictStrategy",{get:function(){return this._strategy},set:function(t){if(!t)throw new h("namingStrategy must not be null. To ignore naming, use AssetLibrary.IGNORE");this._strategy=t.create()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conflictPrecedence",{get:function(){return this._strategyPreference},set:function(t){this._strategyPreference=t},enumerable:!0,configurable:!0}),e.prototype.createIterator=function(t,e,i){return void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),new r(this._assets,t,e,i)},e.prototype.load=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null);var n=new s;return this._loadingSessions||(this._loadingSessions=new Array),this._loadingSessions.push(n),n.addEventListener(u.RESOURCE_COMPLETE,this._onResourceCompleteDelegate),n.addEventListener(p.TEXTURE_SIZE_ERROR,this._onTextureSizeErrorDelegate),n.addEventListener(p.ASSET_COMPLETE,this._onAssetCompleteDelegate),n._iAddErrorHandler(this._onLoadErrorDelegate),n._iAddParseErrorHandler(this._onParseErrorDelegate),n.load(t,e,i,r)},e.prototype.loadData=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null);var n=new s;return this._loadingSessions||(this._loadingSessions=new Array),this._loadingSessions.push(n),n.addEventListener(u.RESOURCE_COMPLETE,this._onResourceCompleteDelegate),n.addEventListener(p.TEXTURE_SIZE_ERROR,this._onTextureSizeErrorDelegate),n.addEventListener(p.ASSET_COMPLETE,this._onAssetCompleteDelegate),n._iAddErrorHandler(this._onLoadErrorDelegate),n._iAddParseErrorHandler(this._onParseErrorDelegate),n.loadData(t,"",e,i,r)},e.prototype.getAsset=function(t,e){return void 0===e&&(e=null),this._assetDictDirty&&this.rehashAssetDict(),null==e&&(e=o.DEFAULT_NAMESPACE),this._assetDictionary.hasOwnProperty(e)?this._assetDictionary[e][t]:null},e.prototype.addAsset=function(t){var e,i;this._assets.indexOf(t)>=0||(i=this.getAsset(t.name,t.assetNamespace),e=t.assetNamespace||o.DEFAULT_NAMESPACE,null!=i&&this._strategy.resolveConflict(t,i,this._assetDictionary[e],this._strategyPreference),this._assets.push(t),this._assetDictionary.hasOwnProperty(e)||(this._assetDictionary[e]=new Object),this._assetDictionary[e][t.name]=t,t.addEventListener(p.ASSET_RENAME,this._onAssetRenameDelegate),t.addEventListener(p.ASSET_CONFLICT_RESOLVED,this._onAssetConflictResolvedDelegate))},e.prototype.removeAsset=function(t,e){void 0===e&&(e=!0);var i;this.removeAssetFromDict(t),t.removeEventListener(p.ASSET_RENAME,this._onAssetRenameDelegate),t.removeEventListener(p.ASSET_CONFLICT_RESOLVED,this._onAssetConflictResolvedDelegate),i=this._assets.indexOf(t),i>=0&&this._assets.splice(i,1),e&&t.dispose()},e.prototype.removeAssetByName=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=!0);var r=this.getAsset(t,e);return r&&this.removeAsset(r,i),r},e.prototype.removeAllAssets=function(t){if(void 0===t&&(t=!0),t)for(var e,i=0;i<this._assets.length;i++)e=this._assets[i],e.dispose();this._assets.length=0,this.rehashAssetDict()},e.prototype.removeNamespaceAssets=function(t,e){void 0===t&&(t=null),void 0===e&&(e=!0);var i,r,s=0;r=this._assets.concat(),this._assets.length=0,null==t&&(t=o.DEFAULT_NAMESPACE);for(var n=0;n<r.length;n++)i=r[n],i.assetNamespace==t?(e&&i.dispose(),this.removeAssetFromDict(i,!1)):this._assets[s++]=i;this._assetDictionary.hasOwnProperty(t)&&delete this._assetDictionary[t]},e.prototype.removeAssetFromDict=function(t,e){if(void 0===e&&(e=!0),this._assetDictDirty&&this.rehashAssetDict(),this._assetDictionary.hasOwnProperty(t.assetNamespace)&&(this._assetDictionary[t.assetNamespace].hasOwnProperty(t.name)&&delete this._assetDictionary[t.assetNamespace][t.name],e)){var i,r=!0;for(i in this._assetDictionary[t.assetNamespace]){r=!1;break}r&&delete this._assetDictionary[t.assetNamespace]}},e.prototype.stopAllLoadingSessions=function(){var t;this._loadingSessions||(this._loadingSessions=new Array);var e=this._loadingSessions.length;for(t=0;e>t;t++)this.killLoadingSession(this._loadingSessions[t]);this._loadingSessions=null},e.prototype.rehashAssetDict=function(){var t;this._assetDictionary={};for(var e=this._assets.length,i=0;e>i;i++)t=this._assets[i],this._assetDictionary.hasOwnProperty(t.assetNamespace)||(this._assetDictionary[t.assetNamespace]={}),this._assetDictionary[t.assetNamespace][t.name]=t;this._assetDictDirty=!1},e.prototype.onLoadError=function(t){return this.hasEventListener(c.IO_ERROR)?(this.dispatchEvent(t),!0):!1},e.prototype.onParseError=function(t){return this.hasEventListener(y.PARSE_ERROR)?(this.dispatchEvent(t),!0):!1},e.prototype.onAssetComplete=function(t){t.type==p.ASSET_COMPLETE&&this.addAsset(t.asset),this.dispatchEvent(t)},e.prototype.onTextureSizeError=function(t){this.dispatchEvent(t)},e.prototype.onResourceComplete=function(t){var e=this,i=t.target;this.dispatchEvent(t);var r=this._loadingSessions.indexOf(i);this._loadingSessions.splice(r,1),this._loadingSessionsGarbage.push(i),this._gcTimeoutIID=setTimeout(function(){e.loadingSessionGC()},100)},e.prototype.loadingSessionGC=function(){for(var t;this._loadingSessionsGarbage.length>0;)t=this._loadingSessionsGarbage.pop(),this.killLoadingSession(t);clearTimeout(this._gcTimeoutIID),this._gcTimeoutIID=null},e.prototype.killLoadingSession=function(t){t.removeEventListener(u.RESOURCE_COMPLETE,this._onResourceCompleteDelegate),t.removeEventListener(p.TEXTURE_SIZE_ERROR,this._onTextureSizeErrorDelegate),t.removeEventListener(p.ASSET_COMPLETE,this._onAssetCompleteDelegate),t.stop()},e.prototype.onAssetRename=function(t){var e=t.target,i=this.getAsset(e.assetNamespace,e.name);if(null!=i)this._strategy.resolveConflict(e,i,this._assetDictionary[e.assetNamespace],this._strategyPreference);else{var r=this._assetDictionary[t.asset.assetNamespace];if(null==r)return;r[t.assetPrevName]=null,r[t.asset.name]=t.asset}},e.prototype.onAssetConflictResolved=function(t){this.dispatchEvent(t.clone())},e._iInstances=new Object,e}(l);e.exports=_},{"awayjs-core/lib/errors/Error":void 0,"awayjs-core/lib/events/AssetEvent":void 0,"awayjs-core/lib/events/EventDispatcher":void 0,"awayjs-core/lib/events/IOErrorEvent":void 0,"awayjs-core/lib/events/LoaderEvent":void 0,"awayjs-core/lib/events/ParserEvent":void 0,"awayjs-core/lib/library/AssetLibraryIterator":void 0,"awayjs-core/lib/library/AssetLoader":void 0,"awayjs-core/lib/library/ConflictPrecedence":void 0,"awayjs-core/lib/library/ConflictStrategy":void 0,"awayjs-core/lib/library/NamedAssetBase":void 0}],"awayjs-core/lib/library/AssetLibraryIterator":[function(t,e){var i=function(){function t(t,e,i,r){this._assets=t,this.filter(e,i,r)}return Object.defineProperty(t.prototype,"currentAsset",{get:function(){return this._idx<this._filtered.length?this._filtered[this._idx]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numAssets",{get:function(){return this._filtered.length},enumerable:!0,configurable:!0}),t.prototype.next=function(){var t=null;return this._idx<this._filtered.length&&(t=this._filtered[this._idx]),this._idx++,t},t.prototype.reset=function(){this._idx=0},t.prototype.setIndex=function(t){this._idx=t},t.prototype.filter=function(t,e,i){if(t||e){var r,s;r=0,this._filtered=new Array;for(var n=this._assets.length,a=0;n>a;a++)s=this._assets[a],t&&s.assetType!=t||e&&s.assetNamespace!=e||(null==i||i(s))&&(this._filtered[r++]=s)}else this._filtered=this._assets},t}();e.exports=i},{}],"awayjs-core/lib/library/AssetLibrary":[function(t,e){var i=t("awayjs-core/lib/library/AssetLibraryBundle"),r=t("awayjs-core/lib/library/AssetLoader"),s=function(){function t(){}return t.getBundle=function(t){return void 0===t&&(t="default"),i.getInstance(t)},t.enableParser=function(t){r.enableParser(t)},t.enableParsers=function(t){r.enableParsers(t)},Object.defineProperty(t,"conflictStrategy",{get:function(){return t.getBundle().conflictStrategy},set:function(e){t.getBundle().conflictStrategy=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"conflictPrecedence",{get:function(){return t.getBundle().conflictPrecedence},set:function(e){t.getBundle().conflictPrecedence=e},enumerable:!0,configurable:!0}),t.createIterator=function(e,i,r){return void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),t.getBundle().createIterator(e,i,r)},t.load=function(e,i,r,s){return void 0===i&&(i=null),void 0===r&&(r=null),void 0===s&&(s=null),t.getBundle().load(e,i,r,s)},t.loadData=function(e,i,r,s){return void 0===i&&(i=null),void 0===r&&(r=null),void 0===s&&(s=null),t.getBundle().loadData(e,i,r,s)},t.stopLoad=function(){t.getBundle().stopAllLoadingSessions()},t.getAsset=function(e,i){return void 0===i&&(i=null),t.getBundle().getAsset(e,i)},t.addEventListener=function(e,i){t.getBundle().addEventListener(e,i)},t.removeEventListener=function(e,i){t.getBundle().removeEventListener(e,i)},t.addAsset=function(e){t.getBundle().addAsset(e)},t.removeAsset=function(e,i){void 0===i&&(i=!0),t.getBundle().removeAsset(e,i)},t.removeAssetByName=function(e,i,r){return void 0===i&&(i=null),void 0===r&&(r=!0),t.getBundle().removeAssetByName(e,i,r)},t.removeAllAssets=function(e){void 0===e&&(e=!0),t.getBundle().removeAllAssets(e)},t.removeNamespaceAssets=function(e,i){void 0===e&&(e=null),void 0===i&&(i=!0),t.getBundle().removeNamespaceAssets(e,i)},t}();e.exports=s},{"awayjs-core/lib/library/AssetLibraryBundle":void 0,"awayjs-core/lib/library/AssetLoader":void 0}],"awayjs-core/lib/library/AssetLoaderContext":[function(t,e){var i=function(){function t(e,i){void 0===e&&(e=!0),void 0===i&&(i=null),this._includeDependencies=e,this._dependencyBaseUrl=i||"",this._embeddedDataByUrl={},this._remappedUrls={},this._materialMode=t.UNDEFINED}return Object.defineProperty(t.prototype,"includeDependencies",{get:function(){return this._includeDependencies},set:function(t){this._includeDependencies=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"materialMode",{get:function(){return this._materialMode},set:function(t){this._materialMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dependencyBaseUrl",{get:function(){return this._dependencyBaseUrl},set:function(t){this._dependencyBaseUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overrideAbsolutePaths",{get:function(){return this._overrideAbsPath},set:function(t){this._overrideAbsPath=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overrideFullURLs",{get:function(){return this._overrideFullUrls},set:function(t){this._overrideFullUrls=t},enumerable:!0,configurable:!0}),t.prototype.mapUrl=function(t,e){this._remappedUrls[t]=e},t.prototype.mapUrlToData=function(t,e){this._embeddedDataByUrl[t]=e},t.prototype._iHasDataForUrl=function(t){return this._embeddedDataByUrl.hasOwnProperty(t)},t.prototype._iGetDataForUrl=function(t){return this._embeddedDataByUrl[t]},t.prototype._iHasMappingForUrl=function(t){return this._remappedUrls.hasOwnProperty(t)},t.prototype._iGetRemappedUrl=function(t){return this._remappedUrls[t]},t.UNDEFINED=0,t.SINGLEPASS_MATERIALS=1,t.MULTIPASS_MATERIALS=2,t}();e.exports=i},{}],"awayjs-core/lib/library/AssetLoaderToken":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/events/EventDispatcher"),s=function(t){function e(e){t.call(this),this._iLoader=e}return i(e,t),e.prototype.addEventListener=function(t,e){this._iLoader.addEventListener(t,e)},e.prototype.removeEventListener=function(t,e){this._iLoader.removeEventListener(t,e)},e.prototype.hasEventListener=function(t,e){return void 0===e&&(e=null),this._iLoader.hasEventListener(t,e)},e}(r);e.exports=s},{"awayjs-core/lib/events/EventDispatcher":void 0}],"awayjs-core/lib/library/AssetLoader":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/library/AssetLoaderToken"),s=t("awayjs-core/lib/net/URLLoader"),n=t("awayjs-core/lib/net/URLLoaderDataFormat"),a=t("awayjs-core/lib/errors/Error"),o=t("awayjs-core/lib/events/AssetEvent"),h=t("awayjs-core/lib/events/Event"),p=t("awayjs-core/lib/events/EventDispatcher"),c=t("awayjs-core/lib/events/IOErrorEvent"),u=t("awayjs-core/lib/events/LoaderEvent"),l=t("awayjs-core/lib/events/ParserEvent"),y=t("awayjs-core/lib/parsers/CubeTextureParser"),_=t("awayjs-core/lib/parsers/ResourceDependency"),d=t("awayjs-core/lib/parsers/Texture2DParser"),f=function(t){function e(e){var i=this;void 0===e&&(e=0),t.call(this),this._materialMode=e,this._stack=new Array,this._errorHandlers=new Array,this._parseErrorHandlers=new Array,this._onReadyForDependenciesDelegate=function(t){return i.onReadyForDependencies(t)},this._onParseCompleteDelegate=function(t){return i.onParseComplete(t)},this._onParseErrorDelegate=function(t){return i.onParseError(t)},this._onLoadCompleteDelegate=function(t){return i.onLoadComplete(t)},this._onLoadErrorDelegate=function(t){return i.onLoadError(t)},this._onTextureSizeErrorDelegate=function(t){return i.onTextureSizeError(t)},this._onAssetCompleteDelegate=function(t){return i.onAssetComplete(t)}}return i(e,t),e.enableParser=function(t){e._parsers.indexOf(t)<0&&e._parsers.push(t)},e.enableParsers=function(t){for(var i=0;i<t.length;i++)e.enableParser(t[i])},Object.defineProperty(e.prototype,"baseDependency",{get:function(){return this._baseDependency},enumerable:!0,configurable:!0}),e.prototype.load=function(t,e,i,s){return void 0===e&&(e=null),void 0===i&&(i=null),void 0===s&&(s=null),this._token?null:(this._token=new r(this),this._uri=t.url=t.url.replace(/\\/g,"/"),this._context=e,this._namespace=i,this._baseDependency=new _("",t,null,s,null),this.retrieveDependency(this._baseDependency),this._token)},e.prototype.loadData=function(t,e,i,s,n){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=null),this._token?null:(this._token=new r(this),this._uri=e,this._context=i,this._namespace=s,this._baseDependency=new _(e,null,t,n,null),this.retrieveDependency(this._baseDependency),this._token)},e.prototype.retrieveNext=function(t){if(void 0===t&&(t=null),this._currentDependency.dependencies.length){var e=this._currentDependency.dependencies.pop();this._stack.push(this._currentDependency),this.retrieveDependency(e)}else if(this._currentDependency.parser&&this._currentDependency.parser.parsingPaused)this._currentDependency.parser._iResumeParsingAfterDependencies(),this._stack.pop();else if(this._stack.length){var i=this._currentDependency;this._currentDependency=this._stack.pop(),i._iSuccess&&i.resolve(),this.retrieveNext(t)}else this.dispatchEvent(new u(u.RESOURCE_COMPLETE,this._uri,this._baseDependency.parser.content,this._baseDependency.assets))},e.prototype.retrieveDependency=function(t){var e;this._context&&0!=this._context.materialMode&&(this._materialMode=this._context.materialMode),this._currentDependency=t,t._iLoader=new s,this.addEventListeners(t._iLoader),e=t.data,this._context&&t.request&&this._context._iHasDataForUrl(t.request.url)&&(e=this._context._iGetDataForUrl(t.request.url)),e?(e.constructor===Function&&(e=new e),t._iSetData(e),t.retrieveAsRawData?(t.resolve(),this.retrieveNext()):this.parseDependency(t)):(t.request.url=this.resolveDependencyUrl(t),t.retrieveAsRawData?t._iLoader.dataFormat=n.BINARY:(t.parser||t._iSetParser(this.getParserFromSuffix(t.request.url)),t._iLoader.dataFormat=t.parser?t.parser.dataFormat:n.BINARY),t._iLoader.load(t.request))},e.prototype.joinUrl=function(t,e){return"/"==e.charAt(0)&&(e=e.substr(1)),0==t.length?e:("/"==t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),t.concat("/",e))},e.prototype.resolveDependencyUrl=function(t){var e,i,r=t.request.url;if(this._context&&this._context._iHasMappingForUrl(r))return this._context._iGetRemappedUrl(r);if(r==this._uri)return r;if(e=new RegExp("/^[a-zA-Z]{3,4}:///"),"/"==r.charAt(0))return this._context&&this._context.overrideAbsolutePaths?this.joinUrl(this._context.dependencyBaseUrl,r):r;if(e.test(r)&&this._context&&this._context.overrideFullURLs){var s=r.replace(e,"");return this.joinUrl(this._context.dependencyBaseUrl,s)}return this._context&&this._context.dependencyBaseUrl?(i=this._context.dependencyBaseUrl,this.joinUrl(i,r)):(i=this._uri.substring(0,this._uri.lastIndexOf("/")+1),this.joinUrl(i,r))},e.prototype.retrieveParserDependencies=function(){if(this._currentDependency){var t,e=this._currentDependency.parser.dependencies,i=e.length;for(t=0;i>t;t++)this._currentDependency.dependencies[t]=e[t];e.length=0,this._stack.push(this._currentDependency),this.retrieveNext()}},e.prototype.resolveParserDependencies=function(){this._currentDependency._iSuccess=!0,this._currentDependency.parser&&this._currentDependency.parser.dependencies.length&&(!this._context||this._context.includeDependencies)?this.retrieveParserDependencies():this.retrieveNext()},e.prototype.onLoadError=function(t){var e,i=this._currentDependency!=this._baseDependency,r=t.target;if(this.removeEventListeners(r),this.hasEventListener(c.IO_ERROR))this.dispatchEvent(t),e=!0;else{var s,n=this._errorHandlers.length;for(s=0;n>s;s++)e||(e=this._errorHandlers[s](t))}if(!e)throw new a;return i?(this._currentDependency.resolveFailure(),void this.retrieveNext()):void this.dispose()},e.prototype.onParseError=function(t){var e,i=(this._currentDependency!=this._baseDependency,t.target);if(this.removeEventListeners(i),this.hasEventListener(l.PARSE_ERROR))this.dispatchEvent(t),e=!0;else{var r,s=this._parseErrorHandlers.length;for(r=0;s>r;r++)e||(e=this._parseErrorHandlers[r](t))}if(e)return void this.dispose();throw new a(t.message)},e.prototype.onAssetComplete=function(t){this._currentDependency&&this._currentDependency.assets.push(t.asset),t.asset.resetAssetPath(t.asset.name,this._namespace),this._currentDependency.suppresAssetEvents||this.dispatchEvent(t)},e.prototype.onReadyForDependencies=function(t){var e=t.target;this._context&&!this._context.includeDependencies?e._iResumeParsingAfterDependencies():this.retrieveParserDependencies()},e.prototype.onLoadComplete=function(t){var e=t.target;this.removeEventListeners(e),this._currentDependency._iSetData(e.data),this._currentDependency.retrieveAsRawData?this.resolveParserDependencies():this.parseDependency(this._currentDependency)
},e.prototype.onParseComplete=function(t){var e=t.target;this.resolveParserDependencies(),e.removeEventListener(l.READY_FOR_DEPENDENCIES,this._onReadyForDependenciesDelegate),e.removeEventListener(l.PARSE_COMPLETE,this._onParseCompleteDelegate),e.removeEventListener(l.PARSE_ERROR,this._onParseErrorDelegate),e.removeEventListener(o.TEXTURE_SIZE_ERROR,this._onTextureSizeErrorDelegate),e.removeEventListener(o.ASSET_COMPLETE,this._onAssetCompleteDelegate)},e.prototype.onTextureSizeError=function(t){t.asset.name=this._currentDependency.resolveName(t.asset),this.dispatchEvent(t)},e.prototype.addEventListeners=function(t){t.addEventListener(h.COMPLETE,this._onLoadCompleteDelegate),t.addEventListener(c.IO_ERROR,this._onLoadErrorDelegate)},e.prototype.removeEventListeners=function(t){t.removeEventListener(h.COMPLETE,this._onLoadCompleteDelegate),t.removeEventListener(c.IO_ERROR,this._onLoadErrorDelegate)},e.prototype.stop=function(){this.dispose()},e.prototype.dispose=function(){this._errorHandlers=null,this._parseErrorHandlers=null,this._context=null,this._token=null,this._stack=null,this._currentDependency&&this._currentDependency._iLoader&&this.removeEventListeners(this._currentDependency._iLoader),this._currentDependency=null},e.prototype._iAddParseErrorHandler=function(t){this._parseErrorHandlers.indexOf(t)<0&&this._parseErrorHandlers.push(t)},e.prototype._iAddErrorHandler=function(t){this._errorHandlers.indexOf(t)<0&&this._errorHandlers.push(t)},e.prototype.getParserFromData=function(t){for(var i=e._parsers.length,r=i-1;r>=0;r--)if(e._parsers[r].supportsData(t))return new e._parsers[r];return null},e.prototype.parseDependency=function(t){var e=t.parser;if(e||t._iSetParser(e=this.getParserFromData(t.data)),e)e.addEventListener(l.READY_FOR_DEPENDENCIES,this._onReadyForDependenciesDelegate),e.addEventListener(l.PARSE_COMPLETE,this._onParseCompleteDelegate),e.addEventListener(l.PARSE_ERROR,this._onParseErrorDelegate),e.addEventListener(o.TEXTURE_SIZE_ERROR,this._onTextureSizeErrorDelegate),e.addEventListener(o.ASSET_COMPLETE,this._onAssetCompleteDelegate),t.request&&t.request.url&&(e._iFileName=t.request.url),e.materialMode=this._materialMode,e.parseAsync(t.data);else{var i="No parser defined. To enable all parsers for auto-detection, use Parsers.enableAllBundled()";if(!this.hasEventListener(l.PARSE_ERROR))throw new a(i);this.dispatchEvent(new l(l.PARSE_ERROR,i))}},e.prototype.getParserFromSuffix=function(t){for(var i=t.indexOf("?")>0?t.split("?")[0]:t,r=i.substr(i.lastIndexOf(".")+1).toLowerCase(),s=e._parsers.length,n=s-1;n>=0;n--){var a=e._parsers[n];if(a.supportsType(r))return new a}return null},e._parsers=new Array(d,y),e}(p);e.exports=f},{"awayjs-core/lib/errors/Error":void 0,"awayjs-core/lib/events/AssetEvent":void 0,"awayjs-core/lib/events/Event":void 0,"awayjs-core/lib/events/EventDispatcher":void 0,"awayjs-core/lib/events/IOErrorEvent":void 0,"awayjs-core/lib/events/LoaderEvent":void 0,"awayjs-core/lib/events/ParserEvent":void 0,"awayjs-core/lib/library/AssetLoaderToken":void 0,"awayjs-core/lib/net/URLLoader":void 0,"awayjs-core/lib/net/URLLoaderDataFormat":void 0,"awayjs-core/lib/parsers/CubeTextureParser":void 0,"awayjs-core/lib/parsers/ResourceDependency":void 0,"awayjs-core/lib/parsers/Texture2DParser":void 0}],"awayjs-core/lib/library/AssetType":[function(t,e){var i=function(){function t(){}return t.ANIMATION_NODE="animationNode",t.ANIMATION_SET="animationSet",t.ANIMATION_STATE="animationState",t.ANIMATOR="animator",t.BILLBOARD="billboard",t.CAMERA="camera",t.CONTAINER="container",t.EFFECTS_METHOD="effectsMethod",t.GEOMETRY="geometry",t.LINE_SEGMENT="lineSegment",t.LIGHT="light",t.LIGHT_PICKER="lightPicker",t.MATERIAL="material",t.MESH="mesh",t.TRIANGLE_SUB_MESH="triangleSubMesh",t.LINE_SUB_MESH="lineSubMesh",t.PRIMITIVE_PREFAB="primitivePrefab",t.SHADOW_MAP_METHOD="shadowMapMethod",t.SKELETON="skeleton",t.SKELETON_POSE="skeletonPose",t.SKYBOX="skybox",t.STATE_TRANSITION="stateTransition",t.TEXTURE="texture",t.TEXTURE_PROJECTOR="textureProjector",t}();e.exports=i},{}],"awayjs-core/lib/library/ConflictPrecedence":[function(t,e){var i=function(){function t(){}return t.FAVOR_OLD="favorOld",t.FAVOR_NEW="favorNew",t}();e.exports=i},{}],"awayjs-core/lib/library/ConflictStrategyBase":[function(t,e){var i=t("awayjs-core/lib/library/ConflictPrecedence"),r=t("awayjs-core/lib/errors/AbstractMethodError"),s=t("awayjs-core/lib/events/AssetEvent"),n=function(){function t(){}return t.prototype.resolveConflict=function(){throw new r},t.prototype.create=function(){throw new r},t.prototype._pUpdateNames=function(t,e,r,n,a,o){var h,p,c;p=o===i.FAVOR_NEW?n:r,c=o===i.FAVOR_NEW?r:n,h=c.name,a[p.name]=p,a[e]=c,c.resetAssetPath(e,t,!1),c.dispatchEvent(new s(s.ASSET_CONFLICT_RESOLVED,c,h))},t}();e.exports=n},{"awayjs-core/lib/errors/AbstractMethodError":void 0,"awayjs-core/lib/events/AssetEvent":void 0,"awayjs-core/lib/library/ConflictPrecedence":void 0}],"awayjs-core/lib/library/ConflictStrategy":[function(t,e){var i=t("awayjs-core/lib/library/ErrorConflictStrategy"),r=t("awayjs-core/lib/library/IgnoreConflictStrategy"),s=t("awayjs-core/lib/library/NumSuffixConflictStrategy"),n=function(){function t(){}return t.APPEND_NUM_SUFFIX=new s,t.IGNORE=new r,t.THROW_ERROR=new i,t}();e.exports=n},{"awayjs-core/lib/library/ErrorConflictStrategy":void 0,"awayjs-core/lib/library/IgnoreConflictStrategy":void 0,"awayjs-core/lib/library/NumSuffixConflictStrategy":void 0}],"awayjs-core/lib/library/ErrorConflictStrategy":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/library/ConflictStrategyBase"),s=t("awayjs-core/lib/errors/Error"),n=function(t){function e(){t.call(this)}return i(e,t),e.prototype.resolveConflict=function(t){throw new s("Asset name collision while AssetLibrary.namingStrategy set to AssetLibrary.THROW_ERROR. Asset path: "+t.assetFullPath)},e.prototype.create=function(){return new e},e}(r);e.exports=n},{"awayjs-core/lib/errors/Error":void 0,"awayjs-core/lib/library/ConflictStrategyBase":void 0}],"awayjs-core/lib/library/IAsset":[function(){},{}],"awayjs-core/lib/library/IDUtil":[function(t,e){var i=function(){function t(){}return t.createUID=function(){var e,i,r=new Array(36),s=0;for(e=0;8>e;e++)r[s++]=t.ALPHA_CHAR_CODES[Math.floor(16*Math.random())];for(e=0;3>e;e++)for(r[s++]=45,i=0;4>i;i++)r[s++]=t.ALPHA_CHAR_CODES[Math.floor(16*Math.random())];r[s++]=45;var n=(new Date).getTime(),a=("0000000"+n.toString(16).toUpperCase()).substr(-8);for(e=0;8>e;e++)r[s++]=a.charCodeAt(e);for(e=0;4>e;e++)r[s++]=t.ALPHA_CHAR_CODES[Math.floor(16*Math.random())];return String.fromCharCode.apply(null,r)},t.ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70],t}();e.exports=i},{}],"awayjs-core/lib/library/IgnoreConflictStrategy":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/library/ConflictStrategyBase"),s=function(t){function e(){t.call(this)}return i(e,t),e.prototype.resolveConflict=function(){},e.prototype.create=function(){return new e},e}(r);e.exports=s},{"awayjs-core/lib/library/ConflictStrategyBase":void 0}],"awayjs-core/lib/library/NamedAssetBase":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/AbstractMethodError"),s=t("awayjs-core/lib/events/AssetEvent"),n=t("awayjs-core/lib/events/EventDispatcher"),a=function(t){function e(i){void 0===i&&(i=null),t.call(this),this._id=e.ID_COUNT++,null==i&&(i="null"),this._name=i,this._originalName=i,this.updateFullPath()}return i(e,t),Object.defineProperty(e.prototype,"assetType",{get:function(){throw new r},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalName",{get:function(){return this._originalName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){var e;e=this._name,this._name=t,null==this._name&&(this._name="null"),this.updateFullPath(),this.dispatchEvent(new s(s.ASSET_RENAME,this,e))},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){throw new r},Object.defineProperty(e.prototype,"assetNamespace",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assetFullPath",{get:function(){return this._full_path},enumerable:!0,configurable:!0}),e.prototype.assetPathEquals=function(t,e){return this._name==t&&(!e||this._namespace==e)},e.prototype.resetAssetPath=function(t,i,r){void 0===i&&(i=null),void 0===r&&(r=!0),this._name=t?t:"null",this._namespace=i?i:e.DEFAULT_NAMESPACE,r&&(this._originalName=this._name),this.updateFullPath()},e.prototype.updateFullPath=function(){this._full_path=[this._namespace,this._name]},e.ID_COUNT=0,e.DEFAULT_NAMESPACE="default",e}(n);e.exports=a},{"awayjs-core/lib/errors/AbstractMethodError":void 0,"awayjs-core/lib/events/AssetEvent":void 0,"awayjs-core/lib/events/EventDispatcher":void 0}],"awayjs-core/lib/library/NumSuffixConflictStrategy":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/library/ConflictStrategyBase"),s=function(t){function e(e){void 0===e&&(e="."),t.call(this),this._separator=e,this._next_suffix={}}return i(e,t),e.prototype.resolveConflict=function(t,e,i,r){var s,n,a,o;s=t.name,s.indexOf(this._separator)>=0?(a=s.substring(0,s.lastIndexOf(this._separator)),o=parseInt(s.substring(a.length-1)),isNaN(o)&&(a=s,o=0)):(a=s,o=0),0==o&&this._next_suffix.hasOwnProperty(a)&&(o=this._next_suffix[a]);do o++,n=a.concat(this._separator,o.toString());while(i.hasOwnProperty(n));this._next_suffix[a]=o,this._pUpdateNames(e.assetNamespace,n,e,t,i,r)},e.prototype.create=function(){return new e(this._separator)},e}(r);e.exports=s},{"awayjs-core/lib/library/ConflictStrategyBase":void 0}],"awayjs-core/lib/net/CrossDomainPolicy":[function(t,e){var i=function(){function t(){}return t.ANONYMOUS="anonymous",t.USE_CREDENTIALS="use-credentials",t}();e.exports=i},{}],"awayjs-core/lib/net/URLLoaderDataFormat":[function(t,e){var i=function(){function t(){}return t.TEXT="text",t.VARIABLES="variables",t.BLOB="blob",t.ARRAY_BUFFER="arraybuffer",t.BINARY="binary",t}();e.exports=i},{}],"awayjs-core/lib/net/URLLoader":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/net/URLLoaderDataFormat"),s=t("awayjs-core/lib/net/URLRequestMethod"),n=t("awayjs-core/lib/net/URLVariables"),a=t("awayjs-core/lib/events/Event"),o=t("awayjs-core/lib/events/EventDispatcher"),h=t("awayjs-core/lib/events/HTTPStatusEvent"),p=t("awayjs-core/lib/events/IOErrorEvent"),c=t("awayjs-core/lib/events/ProgressEvent"),u=function(t){function e(){t.call(this),this._bytesLoaded=0,this._bytesTotal=0,this._dataFormat=r.TEXT,this._loadError=!1}return i(e,t),Object.defineProperty(e.prototype,"url",{get:function(){return this._request?this._request.url:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataFormat",{get:function(){return this._dataFormat},set:function(t){this._dataFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bytesLoaded",{get:function(){return this._bytesLoaded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bytesTotal",{get:function(){return this._bytesTotal},enumerable:!0,configurable:!0}),e.prototype.load=function(t){this._request=t,this.initXHR(),t.method===s.POST?this.postRequest(t):this.getRequest(t)},e.prototype.close=function(){this._XHR.abort(),this.disposeXHR()},e.prototype.dispose=function(){this._XHR&&this._XHR.abort(),this.disposeXHR(),this._data=null,this._dataFormat=null,this._bytesLoaded=null,this._bytesTotal=null},e.prototype.setResponseType=function(t,e){switch(e){case r.ARRAY_BUFFER:case r.BLOB:case r.TEXT:t.responseType=e;break;case r.VARIABLES:t.responseType=r.TEXT;break;case r.BINARY:t.responseType=""}},e.prototype.getRequest=function(t){try{this._XHR.open(t.method,t.url,t.async),this.setResponseType(this._XHR,this._dataFormat),this._XHR.send()}catch(e){this.handleXmlHttpRequestException(e)}},e.prototype.postRequest=function(t){if(this._loadError=!1,this._XHR.open(t.method,t.url,t.async),null!=t.data)if(t.data instanceof n){var e=t.data;try{this._XHR.responseType="text",this._XHR.send(e.formData)}catch(i){this.handleXmlHttpRequestException(i)}}else this.setResponseType(this._XHR,this._dataFormat),t.data?this._XHR.send(t.data):this._XHR.send();else this._XHR.send()},e.prototype.handleXmlHttpRequestException=function(t){switch(t.code){case 101:}},e.prototype.initXHR=function(){var t=this;this._XHR||(this._XHR=new XMLHttpRequest,this._XHR.onloadstart=function(e){return t.onLoadStart(e)},this._XHR.onprogress=function(e){return t.onProgress(e)},this._XHR.onabort=function(e){return t.onAbort(e)},this._XHR.onerror=function(e){return t.onLoadError(e)},this._XHR.onload=function(e){return t.onLoadComplete(e)},this._XHR.ontimeout=function(e){return t.onTimeOut(e)},this._XHR.onloadend=function(e){return t.onLoadEnd(e)},this._XHR.onreadystatechange=function(e){return t.onReadyStateChange(e)})},e.prototype.disposeXHR=function(){null!==this._XHR&&(this._XHR.onloadstart=null,this._XHR.onprogress=null,this._XHR.onabort=null,this._XHR.onerror=null,this._XHR.onload=null,this._XHR.ontimeout=null,this._XHR.onloadend=null,this._XHR=null)},e.prototype.decodeURLVariables=function(t){var e=new Object;t=t.split("+").join(" ");for(var i,r=/[?&]?([^=]+)=([^&]*)/g;i=r.exec(t);)e[decodeURIComponent(i[1])]=decodeURIComponent(i[2]);return e},e.prototype.onReadyStateChange=function(){4==this._XHR.readyState&&(404==this._XHR.status&&(this._loadError=!0,this._loadErrorEvent||(this._loadErrorEvent=new p(p.IO_ERROR)),this.dispatchEvent(this._loadErrorEvent)),this.dispatchEvent(new h(h.HTTP_STATUS,this._XHR.status)))},e.prototype.onLoadEnd=function(){this._loadError===!0},e.prototype.onTimeOut=function(){},e.prototype.onAbort=function(){},e.prototype.onProgress=function(t){this._progressEvent||(this._progressEvent=new c(c.PROGRESS)),this._progressEvent.bytesTotal=t.total,this._progressEvent.bytesLoaded=t.loaded,this.dispatchEvent(this._progressEvent)},e.prototype.onLoadStart=function(){this._loadStartEvent||(this._loadStartEvent=new a(a.OPEN)),this.dispatchEvent(this._loadStartEvent)},e.prototype.onLoadComplete=function(){if(this._loadError!==!0){switch(this._dataFormat){case r.TEXT:this._data=this._XHR.responseText;break;case r.VARIABLES:this._data=this.decodeURLVariables(this._XHR.responseText);break;case r.BLOB:case r.ARRAY_BUFFER:case r.BINARY:this._data=this._XHR.response;break;default:this._data=this._XHR.responseText}this._loadCompleteEvent||(this._loadCompleteEvent=new a(a.COMPLETE)),this.dispatchEvent(this._loadCompleteEvent)}},e.prototype.onLoadError=function(){this._loadError=!0,this._loadErrorEvent||(this._loadErrorEvent=new p(p.IO_ERROR)),this.dispatchEvent(this._loadErrorEvent)},e}(o);e.exports=u},{"awayjs-core/lib/events/Event":void 0,"awayjs-core/lib/events/EventDispatcher":void 0,"awayjs-core/lib/events/HTTPStatusEvent":void 0,"awayjs-core/lib/events/IOErrorEvent":void 0,"awayjs-core/lib/events/ProgressEvent":void 0,"awayjs-core/lib/net/URLLoaderDataFormat":void 0,"awayjs-core/lib/net/URLRequestMethod":void 0,"awayjs-core/lib/net/URLVariables":void 0}],"awayjs-core/lib/net/URLRequestMethod":[function(t,e){var i=function(){function t(){}return t.POST="POST",t.GET="GET",t}();e.exports=i},{}],"awayjs-core/lib/net/URLRequest":[function(t,e){var i=t("awayjs-core/lib/net/URLRequestMethod"),r=function(){function t(t){void 0===t&&(t=null),this.method=i.GET,this.async=!0,this._url=t}return Object.defineProperty(t.prototype,"url",{get:function(){return this._url},set:function(t){this._url=t},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.data=null,this._url=null},t}();e.exports=r},{"awayjs-core/lib/net/URLRequestMethod":void 0}],"awayjs-core/lib/net/URLVariables":[function(t,e){var i=function(){function t(t){void 0===t&&(t=null),this._variables=new Object,null!==t&&this.decode(t)}return t.prototype.decode=function(t){t=t.split("+").join(" ");for(var e,i=/[?&]?([^=]+)=([^&]*)/g;e=i.exec(t);)this._variables[decodeURIComponent(e[1])]=decodeURIComponent(e[2])},t.prototype.toString=function(){return""},Object.defineProperty(t.prototype,"variables",{get:function(){return this._variables},set:function(t){this._variables=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formData",{get:function(){var t=new FormData;for(var e in this._variables)t.append(e,this._variables[e]);return t},enumerable:!0,configurable:!0}),t}();e.exports=i},{}],"awayjs-core/lib/parsers/CubeTextureParser":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/net/URLLoaderDataFormat"),s=t("awayjs-core/lib/net/URLRequest"),n=t("awayjs-core/lib/parsers/ParserBase"),a=t("awayjs-core/lib/textures/ImageCubeTexture"),o=function(t){function e(){t.call(this,r.TEXT)}return i(e,t),e.supportsType=function(t){return t=t.toLowerCase(),"cube"==t},e.supportsData=function(t){try{var e=JSON.parse(t);return e?!0:!1}catch(i){return!1}return!1},e.prototype._iResolveDependency=function(){},e.prototype._iResolveDependencyFailure=function(){},e.prototype._pProceedParsing=function(){if(null!=this._imgDependencyDictionary){var t=new a(this._getHTMLImageElement(e.posX),this._getHTMLImageElement(e.negX),this._getHTMLImageElement(e.posY),this._getHTMLImageElement(e.negY),this._getHTMLImageElement(e.posZ),this._getHTMLImageElement(e.negZ));return this._imgDependencyDictionary=null,t.name=this._iFileName,this._pFinalizeAsset(t,this._iFileName),n.PARSING_DONE}try{var i,r=JSON.parse(this.data),o=r.data;if(6!=o.length&&this._pDieWithError("CubeTextureParser: Error - cube texture should have exactly 6 images"),r){this._imgDependencyDictionary=new Object;for(var h=0;h<o.length;h++)i=o[h],this._imgDependencyDictionary[i.id]=this._pAddDependency(i.id,new s(i.image.toString()));return this._validateCubeData()?(this._pPauseAndRetrieveDependencies(),n.MORE_TO_PARSE):(this._pDieWithError("CubeTextureParser: JSON data error - cubes require id of:   \n"+e.posX+", "+e.negX+",  \n"+e.posY+", "+e.negY+",  \n"+e.posZ+", "+e.negZ),n.PARSING_DONE)}}catch(p){this._pDieWithError("CubeTexturePaser Error parsing JSON")}return n.PARSING_DONE},e.prototype._validateCubeData=function(){return null!=this._imgDependencyDictionary[e.posX]&&null!=this._imgDependencyDictionary[e.negX]&&null!=this._imgDependencyDictionary[e.posY]&&null!=this._imgDependencyDictionary[e.negY]&&null!=this._imgDependencyDictionary[e.posZ]&&null!=this._imgDependencyDictionary[e.negZ]},e.prototype._getHTMLImageElement=function(t){var e=this._imgDependencyDictionary[t];return e?e.assets[0].htmlImageElement:null},e.posX="posX",e.negX="negX",e.posY="posY",e.negY="negY",e.posZ="posZ",e.negZ="negZ",e}(n);e.exports=o},{"awayjs-core/lib/net/URLLoaderDataFormat":void 0,"awayjs-core/lib/net/URLRequest":void 0,"awayjs-core/lib/parsers/ParserBase":void 0,"awayjs-core/lib/textures/ImageCubeTexture":void 0}],"awayjs-core/lib/parsers/ParserBase":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/AbstractMethodError"),s=t("awayjs-core/lib/events/AssetEvent"),n=t("awayjs-core/lib/events/EventDispatcher"),a=t("awayjs-core/lib/events/ParserEvent"),o=t("awayjs-core/lib/events/TimerEvent"),h=t("awayjs-core/lib/parsers/ParserUtils"),p=t("awayjs-core/lib/parsers/ResourceDependency"),c=t("awayjs-core/lib/utils/TextureUtils"),u=t("awayjs-core/lib/utils/Timer"),l=t("awayjs-core/lib/utils/getTimer"),y=function(t){function e(e){var i=this;t.call(this),this._materialMode=0,this._dataFormat=e,this._dependencies=new Array,this._pOnIntervalDelegate=function(t){return i._pOnInterval(t)}}return i(e,t),e.supportsType=function(){throw new r},Object.defineProperty(e.prototype,"content",{get:function(){return this._pContent},enumerable:!0,configurable:!0}),e.prototype.isBitmapDataValid=function(t){var e=c.isBitmapDataValid(t);return e||console.log(">> Bitmap loaded is not having power of 2 dimensions or is higher than 2048"),e},Object.defineProperty(e.prototype,"parsingFailure",{get:function(){return this._parsingFailure},set:function(t){this._parsingFailure=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parsingPaused",{get:function(){return this._parsingPaused},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parsingComplete",{get:function(){return this._parsingComplete},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"materialMode",{get:function(){return this._materialMode},set:function(t){this._materialMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataFormat",{get:function(){return this._dataFormat},enumerable:!0,configurable:!0}),e.prototype.parseAsync=function(t,e){void 0===e&&(e=30),this._data=t,this._pStartParsing(e)},Object.defineProperty(e.prototype,"dependencies",{get:function(){return this._dependencies},enumerable:!0,configurable:!0}),e.prototype._iResolveDependency=function(){throw new r},e.prototype._iResolveDependencyFailure=function(){throw new r},e.prototype._iResolveDependencyName=function(t,e){return e.name},e.prototype._iResumeParsingAfterDependencies=function(){this._parsingPaused=!1,this._timer&&this._timer.start()},e.prototype._pFinalizeAsset=function(t,e){void 0===e&&(e=null);null!=e&&(t.name=e),t.name||(t.name=t.assetType),this.dispatchEvent(new s(s.ASSET_COMPLETE,t))},e.prototype._pProceedParsing=function(){throw new r},e.prototype._pDieWithError=function(t){void 0===t&&(t="Unknown parsing error"),this._timer&&(this._timer.removeEventListener(o.TIMER,this._pOnIntervalDelegate),this._timer.stop(),this._timer=null),this.dispatchEvent(new a(a.PARSE_ERROR,t))},e.prototype._pAddDependency=function(t,e,i,r,s){void 0===i&&(i=!1),void 0===r&&(r=null),void 0===s&&(s=!1);var n=new p(t,e,r,null,this,i,s);return this._dependencies.push(n),n},e.prototype._pPauseAndRetrieveDependencies=function(){this._timer&&this._timer.stop(),this._parsingPaused=!0,this.dispatchEvent(new a(a.READY_FOR_DEPENDENCIES))},e.prototype._pHasTime=function(){return l()-this._lastFrameTime<this._frameLimit},e.prototype._pOnInterval=function(t){void 0===t&&(t=null),this._lastFrameTime=l(),this._pProceedParsing()&&!this._parsingFailure&&this._pFinishParsing()},e.prototype._pStartParsing=function(t){this._frameLimit=t,this._timer=new u(this._frameLimit,0),this._timer.addEventListener(o.TIMER,this._pOnIntervalDelegate),this._timer.start()},e.prototype._pFinishParsing=function(){this._timer&&(this._timer.removeEventListener(o.TIMER,this._pOnIntervalDelegate),this._timer.stop()),this._timer=null,this._parsingComplete=!0,this.dispatchEvent(new a(a.PARSE_COMPLETE))},e.prototype._pGetTextData=function(){return h.toString(this._data)},e.prototype._pGetByteData=function(){return h.toByteArray(this._data)},e.PARSING_DONE=!0,e.MORE_TO_PARSE=!1,e}(n);e.exports=y},{"awayjs-core/lib/errors/AbstractMethodError":void 0,"awayjs-core/lib/events/AssetEvent":void 0,"awayjs-core/lib/events/EventDispatcher":void 0,"awayjs-core/lib/events/ParserEvent":void 0,"awayjs-core/lib/events/TimerEvent":void 0,"awayjs-core/lib/parsers/ParserUtils":void 0,"awayjs-core/lib/parsers/ResourceDependency":void 0,"awayjs-core/lib/utils/TextureUtils":void 0,"awayjs-core/lib/utils/Timer":void 0,"awayjs-core/lib/utils/getTimer":void 0}],"awayjs-core/lib/parsers/ParserDataFormat":[function(t,e){var i=function(){function t(){}return t.BINARY="binary",t.PLAIN_TEXT="plainText",t.IMAGE="image",t}();e.exports=i},{}],"awayjs-core/lib/parsers/ParserUtils":[function(t,e){var i=t("awayjs-core/lib/utils/ByteArray"),r=function(){function t(){}return t.arrayBufferToImage=function(t){for(var e="",i=new Uint8Array(t),r=i.byteLength,s=0;r>s;s++)e+=String.fromCharCode(i[s]);var n=window.btoa(e),a="data:image/png;base64,"+n,o=new Image;return o.src=a,o},t.byteArrayToImage=function(t){for(var e="",i=new Uint8Array(t.arraybytes),r=i.byteLength,s=0;r>s;s++)e+=String.fromCharCode(i[s]);var n=window.btoa(e),a="data:image/png;base64,"+n,o=new Image;return o.src=a,o},t.blobToImage=function(t){var e=window.URL||window.webkitURL,i=e.createObjectURL(t),r=new Image;return r.src=i,r},t.toByteArray=function(t){var e=new i;return e.setArrayBuffer(t),e},t.toString=function(t,e){if(void 0===e&&(e=0),"string"==typeof t){var r=t;if(null!=r.substr)return r.substr(0,r.length)}if(t instanceof i){var s=t;return s.position=0,s.readUTFBytes(Math.min(s.getBytesAvailable(),e))}return null},t}();e.exports=r},{"awayjs-core/lib/utils/ByteArray":void 0}],"awayjs-core/lib/parsers/ResourceDependency":[function(t,e){var i=function(){function t(t,e,i,r,s,n,a){void 0===n&&(n=!1),void 0===a&&(a=!1),this._id=t,this._request=e,this._data=i,this._parser=r,this._parentParser=s,this._retrieveAsRawData=n,this._suppressAssetEvents=a,this._assets=new Array,this._dependencies=new Array}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"request",{get:function(){return this._request},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parser",{get:function(){return this._parser},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentParser",{get:function(){return this._parentParser},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"retrieveAsRawData",{get:function(){return this._retrieveAsRawData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"suppresAssetEvents",{get:function(){return this._suppressAssetEvents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"assets",{get:function(){return this._assets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dependencies",{get:function(){return this._dependencies},enumerable:!0,configurable:!0}),t.prototype._iSetData=function(t){this._data=t},t.prototype._iSetParser=function(t){this._parser=t},t.prototype.resolve=function(){this._parentParser&&this._parentParser._iResolveDependency(this)},t.prototype.resolveFailure=function(){this._parentParser&&this._parentParser._iResolveDependencyFailure(this)},t.prototype.resolveName=function(t){return this._parentParser?this._parentParser._iResolveDependencyName(this,t):t.name},t}();e.exports=i},{}],"awayjs-core/lib/parsers/Texture2DParser":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/net/URLLoaderDataFormat"),s=t("awayjs-core/lib/parsers/ParserBase"),n=t("awayjs-core/lib/parsers/ParserUtils"),a=t("awayjs-core/lib/utils/ByteArray"),o=t("awayjs-core/lib/utils/TextureUtils"),h=t("awayjs-core/lib/textures/ImageTexture"),p=function(t){function e(){t.call(this,r.BLOB)}return i(e,t),e.supportsType=function(t){return t=t.toLowerCase(),"jpg"==t||"jpeg"==t||"png"==t||"gif"==t},e.supportsData=function(t){if(t instanceof HTMLImageElement)return!0;if(!(t instanceof a))return!1;var e=t;return e.position=0,65496==e.readUnsignedShort()?!0:(e.position=0,16973==e.readShort()?!0:(e.position=1,"PNG"==e.readUTFBytes(3)?!0:(e.position=0,"GIF"==e.readUTFBytes(3)&&14393==e.readShort()&&97==e.readByte()?!0:(e.position=0,"ATF"==e.readUTFBytes(3)?!0:!1))))},e.prototype._pProceedParsing=function(){var t,e=this,i=!1;if(this._loadingImage)return s.MORE_TO_PARSE;if(this._htmlImageElement)o.isHTMLImageElementValid(this._htmlImageElement)&&(t=new h(this._htmlImageElement),this._pFinalizeAsset(t,this._iFileName));else if(this.data instanceof HTMLImageElement)o.isHTMLImageElementValid(this.data)?(t=new h(this.data),this._pFinalizeAsset(t,this._iFileName)):i=!0;else if(this.data instanceof a){var r=this.data;r.position=0;var p=n.byteArrayToImage(this.data);o.isHTMLImageElementValid(p)?(t=new h(p),this._pFinalizeAsset(t,this._iFileName)):i=!0}else if(this.data instanceof ArrayBuffer)this._htmlImageElement=n.arrayBufferToImage(this.data),t=new h(this._htmlImageElement),this._pFinalizeAsset(t,this._iFileName);else if(this.data instanceof Blob)return this._htmlImageElement=n.blobToImage(this.data),this._htmlImageElement.onload=function(t){return e.onLoadComplete(t)},this._loadingImage=!0,s.MORE_TO_PARSE;return this._pContent=t,s.PARSING_DONE},e.prototype.onLoadComplete=function(){this._loadingImage=!1},e}(s);e.exports=p},{"awayjs-core/lib/net/URLLoaderDataFormat":void 0,"awayjs-core/lib/parsers/ParserBase":void 0,"awayjs-core/lib/parsers/ParserUtils":void 0,"awayjs-core/lib/textures/ImageTexture":void 0,"awayjs-core/lib/utils/ByteArray":void 0,"awayjs-core/lib/utils/TextureUtils":void 0}],"awayjs-core/lib/pool/ITextureData":[function(){},{}],"awayjs-core/lib/projections/CoordinateSystem":[function(t,e){var i=function(){function t(){}return t.LEFT_HANDED="leftHanded",t.RIGHT_HANDED="rightHanded",t}();e.exports=i},{}],"awayjs-core/lib/projections/FreeMatrixProjection":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/projections/PerspectiveProjection"),s=t("awayjs-core/lib/projections/ProjectionBase"),n=function(t){function e(){t.call(this),this._pMatrix.copyFrom((new r).matrix)}return i(e,t),Object.defineProperty(e.prototype,"near",{set:function(t){this._pNear=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"far",{set:function(t){this._pFar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iAspectRatio",{set:function(t){this._pAspectRatio=t},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=new e;return t._pMatrix.copyFrom(this._pMatrix),t._pNear=this._pNear,t._pFar=this._pFar,t._pAspectRatio=this._pAspectRatio,t.pInvalidateMatrix(),t},e.prototype.pUpdateMatrix=function(){this._pMatrixInvalid=!1},e}(s);e.exports=n},{"awayjs-core/lib/projections/PerspectiveProjection":void 0,"awayjs-core/lib/projections/ProjectionBase":void 0}],"awayjs-core/lib/projections/IProjection":[function(){},{}],"awayjs-core/lib/projections/ObliqueNearPlaneProjection":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/geom/Vector3D"),s=t("awayjs-core/lib/events/ProjectionEvent"),n=t("awayjs-core/lib/projections/ProjectionBase"),a=function(t){function e(e,i){var r=this;t.call(this),this.baseProjection=e,this.plane=i,this._onProjectionMatrixChangedDelegate=function(t){return r.onProjectionMatrixChanged(t)}}return i(e,t),Object.defineProperty(e.prototype,"frustumCorners",{get:function(){return this._baseProjection.frustumCorners},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"near",{get:function(){return this._baseProjection.near},set:function(t){this._baseProjection.near=t
},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"far",{get:function(){return this._baseProjection.far},set:function(t){this._baseProjection.far=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iAspectRatio",{get:function(){return this._baseProjection._iAspectRatio},set:function(t){this._baseProjection._iAspectRatio=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plane",{get:function(){return this._plane},set:function(t){this._plane=t,this.pInvalidateMatrix()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseProjection",{set:function(t){this._baseProjection&&this._baseProjection.removeEventListener(s.MATRIX_CHANGED,this._onProjectionMatrixChangedDelegate),this._baseProjection=t,this._baseProjection&&this._baseProjection.addEventListener(s.MATRIX_CHANGED,this._onProjectionMatrixChangedDelegate),this.pInvalidateMatrix()},enumerable:!0,configurable:!0}),e.prototype.onProjectionMatrixChanged=function(){this.pInvalidateMatrix()},e.prototype.pUpdateMatrix=function(){this._pMatrix.copyFrom(this._baseProjection.matrix);var t=this._plane.a,e=this._plane.b,i=this._plane.c,s=-this._plane.d+.05,n=t>=0?1:-1,a=e>=0?1:-1,o=new r(n,a,1,1),h=this._pMatrix.clone();h.invert();var p=h.transformVector(o);this._pMatrix.copyRowTo(3,o);var c=(p.x*o.x+p.y*o.y+p.z*o.z+p.w*o.w)/(t*p.x+e*p.y+i*p.z+s*p.w);this._pMatrix.copyRowFrom(2,new r(t*c,e*c,i*c,s*c))},e}(n);e.exports=a},{"awayjs-core/lib/events/ProjectionEvent":void 0,"awayjs-core/lib/geom/Vector3D":void 0,"awayjs-core/lib/projections/ProjectionBase":void 0}],"awayjs-core/lib/projections/OrthographicOffCenterProjection":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/geom/Vector3D"),s=t("awayjs-core/lib/projections/ProjectionBase"),n=function(t){function e(e,i,r,s){t.call(this),this._minX=e,this._maxX=i,this._minY=r,this._maxY=s}return i(e,t),Object.defineProperty(e.prototype,"minX",{get:function(){return this._minX},set:function(t){this._minX=t,this.pInvalidateMatrix()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxX",{get:function(){return this._maxX},set:function(t){this._maxX=t,this.pInvalidateMatrix()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minY",{get:function(){return this._minY},set:function(t){this._minY=t,this.pInvalidateMatrix()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxY",{get:function(){return this._maxY},set:function(t){this._maxY=t,this.pInvalidateMatrix()},enumerable:!0,configurable:!0}),e.prototype.unproject=function(t,e,i){var s=new r(t,-e,i,1);return s=this.unprojectionMatrix.transformVector(s),s.z=i,s},e.prototype.clone=function(){var t=new e(this._minX,this._maxX,this._minY,this._maxY);return t._pNear=this._pNear,t._pFar=this._pFar,t._pAspectRatio=this._pAspectRatio,t},e.prototype.pUpdateMatrix=function(){var t=[],e=1/(this._maxX-this._minX),i=1/(this._maxY-this._minY),r=1/(this._pFar-this._pNear);t[0]=2*e,t[5]=2*i,t[10]=r,t[12]=-(this._maxX+this._minX)*e,t[13]=-(this._maxY+this._minY)*i,t[14]=-this._pNear*r,t[15]=1,t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[8]=t[9]=t[11]=0,this._pMatrix.copyRawDataFrom(t),this._pFrustumCorners[0]=this._pFrustumCorners[9]=this._pFrustumCorners[12]=this._pFrustumCorners[21]=this._minX,this._pFrustumCorners[3]=this._pFrustumCorners[6]=this._pFrustumCorners[15]=this._pFrustumCorners[18]=this._maxX,this._pFrustumCorners[1]=this._pFrustumCorners[4]=this._pFrustumCorners[13]=this._pFrustumCorners[16]=this._minY,this._pFrustumCorners[7]=this._pFrustumCorners[10]=this._pFrustumCorners[19]=this._pFrustumCorners[22]=this._maxY,this._pFrustumCorners[2]=this._pFrustumCorners[5]=this._pFrustumCorners[8]=this._pFrustumCorners[11]=this._pNear,this._pFrustumCorners[14]=this._pFrustumCorners[17]=this._pFrustumCorners[20]=this._pFrustumCorners[23]=this._pFar,this._pMatrixInvalid=!1},e}(s);e.exports=n},{"awayjs-core/lib/geom/Vector3D":void 0,"awayjs-core/lib/projections/ProjectionBase":void 0}],"awayjs-core/lib/projections/OrthographicProjection":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/geom/Vector3D"),s=t("awayjs-core/lib/projections/ProjectionBase"),n=function(t){function e(e){void 0===e&&(e=500),t.call(this),this._projectionHeight=e}return i(e,t),Object.defineProperty(e.prototype,"projectionHeight",{get:function(){return this._projectionHeight},set:function(t){t!=this._projectionHeight&&(this._projectionHeight=t,this.pInvalidateMatrix())},enumerable:!0,configurable:!0}),e.prototype.unproject=function(t,e,i){var s=new r(t+this.matrix.rawData[12],-e+this.matrix.rawData[13],i,1);return s=this.unprojectionMatrix.transformVector(s),s.z=i,s},e.prototype.clone=function(){var t=new e;return t._pNear=this._pNear,t._pFar=this._pFar,t._pAspectRatio=this._pAspectRatio,t.projectionHeight=this._projectionHeight,t},e.prototype.pUpdateMatrix=function(){var t=[];this._yMax=.5*this._projectionHeight,this._xMax=this._yMax*this._pAspectRatio;var e,i,r,s;if(0==this._pScissorRect.x&&0==this._pScissorRect.y&&this._pScissorRect.width==this._pViewPort.width&&this._pScissorRect.height==this._pViewPort.height)e=-this._xMax,i=this._xMax,r=-this._yMax,s=this._yMax,t[0]=2/(this._projectionHeight*this._pAspectRatio),t[5]=2/this._projectionHeight,t[10]=1/(this._pFar-this._pNear),t[14]=this._pNear/(this._pNear-this._pFar),t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[8]=t[9]=t[11]=t[12]=t[13]=0,t[15]=1;else{var n=this._xMax*(this._pViewPort.width/this._pScissorRect.width),a=this._yMax*(this._pViewPort.height/this._pScissorRect.height),o=this._xMax*(2*this._pScissorRect.x-this._pViewPort.width)/this._pScissorRect.width+this._xMax,h=-this._yMax*(2*this._pScissorRect.y-this._pViewPort.height)/this._pScissorRect.height-this._yMax;e=o-n,i=o+n,r=h-a,s=h+a,t[0]=2/(i-e),t[5]=-2/(r-s),t[10]=1/(this._pFar-this._pNear),t[12]=(i+e)/(i-e),t[13]=(s+r)/(s-r),t[14]=this._pNear/(this.near-this.far),t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[8]=t[9]=t[11]=0,t[15]=1}this._pFrustumCorners[0]=this._pFrustumCorners[9]=this._pFrustumCorners[12]=this._pFrustumCorners[21]=e,this._pFrustumCorners[3]=this._pFrustumCorners[6]=this._pFrustumCorners[15]=this._pFrustumCorners[18]=i,this._pFrustumCorners[1]=this._pFrustumCorners[4]=this._pFrustumCorners[13]=this._pFrustumCorners[16]=r,this._pFrustumCorners[7]=this._pFrustumCorners[10]=this._pFrustumCorners[19]=this._pFrustumCorners[22]=s,this._pFrustumCorners[2]=this._pFrustumCorners[5]=this._pFrustumCorners[8]=this._pFrustumCorners[11]=this._pNear,this._pFrustumCorners[14]=this._pFrustumCorners[17]=this._pFrustumCorners[20]=this._pFrustumCorners[23]=this._pFar,this._pMatrix.copyRawDataFrom(t),this._pMatrixInvalid=!1},e}(s);e.exports=n},{"awayjs-core/lib/geom/Vector3D":void 0,"awayjs-core/lib/projections/ProjectionBase":void 0}],"awayjs-core/lib/projections/PerspectiveProjection":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/geom/Vector3D"),s=t("awayjs-core/lib/projections/CoordinateSystem"),n=t("awayjs-core/lib/projections/ProjectionBase"),a=function(t){function e(e,i){void 0===e&&(e=60),void 0===i&&(i="leftHanded"),t.call(this,i),this._fieldOfView=60,this._focalLength=1e3,this._hFieldOfView=60,this._hFocalLength=1e3,this._preserveAspectRatio=!0,this._preserveFocalLength=!1,this.fieldOfView=e}return i(e,t),Object.defineProperty(e.prototype,"preserveAspectRatio",{get:function(){return this._preserveAspectRatio},set:function(t){this._preserveAspectRatio!=t&&(this._preserveAspectRatio=t,this._preserveAspectRatio&&this.pInvalidateMatrix())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preserveFocalLength",{get:function(){return this._preserveFocalLength},set:function(t){this._preserveFocalLength!=t&&(this._preserveFocalLength=t,this.pInvalidateMatrix())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldOfView",{get:function(){return this._fieldOfView},set:function(t){this._fieldOfView!=t&&(this._fieldOfView=t,this.pInvalidateMatrix())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focalLength",{get:function(){return this._focalLength},set:function(t){this._focalLength!=t&&(this._focalLength=t,this.pInvalidateMatrix())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hFieldOfView",{get:function(){return this._hFieldOfView},set:function(t){this._hFieldOfView!=t&&(this._hFieldOfView=t,this._hFocalLength=1/Math.tan(this._hFieldOfView*Math.PI/360),this.pInvalidateMatrix())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hFocalLength",{get:function(){return this._hFocalLength},set:function(t){this._hFocalLength!=t&&(this._hFocalLength=t,this.pInvalidateMatrix())},enumerable:!0,configurable:!0}),e.prototype.unproject=function(t,e,i){var s=new r(t,-e,i,1);return s.x*=i,s.y*=i,s=this.unprojectionMatrix.transformVector(s),s.z=i,s},e.prototype.clone=function(){var t=new e(this._fieldOfView);return t._pNear=this._pNear,t._pFar=this._pFar,t._pAspectRatio=this._pAspectRatio,t._pCoordinateSystem=this._pCoordinateSystem,t},e.prototype.pUpdateMatrix=function(){var t=[];this._preserveFocalLength?(this._preserveAspectRatio&&(this._hFocalLength=this._focalLength),this._fieldOfView=360*Math.atan(.5*this._pScissorRect.height/this._focalLength)/Math.PI,this._hFieldOfView=360*Math.atan(.5*this._pScissorRect.width/this._hFocalLength)/Math.PI):(this._focalLength=.5*this._pScissorRect.height/Math.tan(this._fieldOfView*Math.PI/360),this._hFocalLength=this._preserveAspectRatio?this._focalLength:.5*this._pScissorRect.width/Math.tan(this._hFieldOfView*Math.PI/360));var e,i,r,n,a=-this._pOriginX/this._hFocalLength,o=(1-this._pOriginX)/this._hFocalLength,h=-this._pOriginY/this._focalLength,p=(1-this._pOriginY)/this._focalLength,c=-((a-o)*this._pScissorRect.x+a*this._pScissorRect.width),u=(h-p)*this._pScissorRect.y+h*this._pScissorRect.height;e=c-(o-a)*this._pViewPort.width,i=c,r=u,n=u+(p-h)*this._pViewPort.height,t[0]=2/(i-e),t[5]=2/(n-r),t[8]=(i+e)/(i-e),t[9]=(n+r)/(n-r),t[10]=(this._pFar+this._pNear)/(this._pFar-this._pNear),t[11]=1,t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[12]=t[13]=t[15]=0,t[14]=-2*this._pFar*this._pNear/(this._pFar-this._pNear),this._pCoordinateSystem==s.RIGHT_HANDED&&(t[5]=-t[5]),this._pMatrix.copyRawDataFrom(t),this._pFrustumCorners[0]=this._pFrustumCorners[9]=this._pNear*e,this._pFrustumCorners[3]=this._pFrustumCorners[6]=this._pNear*i,this._pFrustumCorners[1]=this._pFrustumCorners[4]=this._pNear*r,this._pFrustumCorners[7]=this._pFrustumCorners[10]=this._pNear*n,this._pFrustumCorners[12]=this._pFrustumCorners[21]=this._pFar*e,this._pFrustumCorners[15]=this._pFrustumCorners[18]=this._pFar*i,this._pFrustumCorners[13]=this._pFrustumCorners[16]=this._pFar*r,this._pFrustumCorners[19]=this._pFrustumCorners[22]=this._pFar*n,this._pFrustumCorners[2]=this._pFrustumCorners[5]=this._pFrustumCorners[8]=this._pFrustumCorners[11]=this._pNear,this._pFrustumCorners[14]=this._pFrustumCorners[17]=this._pFrustumCorners[20]=this._pFrustumCorners[23]=this._pFar,this._pMatrixInvalid=!1},e}(n);e.exports=a},{"awayjs-core/lib/geom/Vector3D":void 0,"awayjs-core/lib/projections/CoordinateSystem":void 0,"awayjs-core/lib/projections/ProjectionBase":void 0}],"awayjs-core/lib/projections/ProjectionBase":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/geom/Matrix3D"),s=t("awayjs-core/lib/geom/Rectangle"),n=t("awayjs-core/lib/events/EventDispatcher"),a=t("awayjs-core/lib/events/ProjectionEvent"),o=t("awayjs-core/lib/errors/AbstractMethodError"),h=function(t){function e(e){void 0===e&&(e="leftHanded"),t.call(this),this._pMatrix=new r,this._pScissorRect=new s,this._pViewPort=new s,this._pNear=20,this._pFar=3e3,this._pAspectRatio=1,this._pMatrixInvalid=!0,this._pFrustumCorners=[],this._pOriginX=.5,this._pOriginY=.5,this._unprojectionInvalid=!0,this.coordinateSystem=e}return i(e,t),Object.defineProperty(e.prototype,"coordinateSystem",{get:function(){return this._pCoordinateSystem},set:function(t){this._pCoordinateSystem!=t&&(this._pCoordinateSystem=t,this.pInvalidateMatrix())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frustumCorners",{get:function(){return this._pFrustumCorners},set:function(t){this._pFrustumCorners=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return this._pMatrixInvalid&&(this.pUpdateMatrix(),this._pMatrixInvalid=!1),this._pMatrix},set:function(t){this._pMatrix=t,this.pInvalidateMatrix()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"near",{get:function(){return this._pNear},set:function(t){t!=this._pNear&&(this._pNear=t,this.pInvalidateMatrix())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originX",{get:function(){return this._pOriginX},set:function(t){this._pOriginX!=t&&(this._pOriginX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originY",{get:function(){return this._pOriginY},set:function(t){this._pOriginY!=t&&(this._pOriginY=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"far",{get:function(){return this._pFar},set:function(t){t!=this._pFar&&(this._pFar=t,this.pInvalidateMatrix())},enumerable:!0,configurable:!0}),e.prototype.project=function(t){var e=this.matrix.transformVector(t);return e.x=e.x/e.w,e.y=-e.y/e.w,e.z=t.z,e},Object.defineProperty(e.prototype,"unprojectionMatrix",{get:function(){return this._unprojectionInvalid&&(this._unprojection||(this._unprojection=new r),this._unprojection.copyFrom(this.matrix),this._unprojection.invert(),this._unprojectionInvalid=!1),this._unprojection},enumerable:!0,configurable:!0}),e.prototype.unproject=function(){throw new o},e.prototype.clone=function(){throw new o},Object.defineProperty(e.prototype,"_iAspectRatio",{get:function(){return this._pAspectRatio},set:function(t){this._pAspectRatio!=t&&(this._pAspectRatio=t,this.pInvalidateMatrix())},enumerable:!0,configurable:!0}),e.prototype.pInvalidateMatrix=function(){this._pMatrixInvalid=!0,this._unprojectionInvalid=!0,this.dispatchEvent(new a(a.MATRIX_CHANGED,this))},e.prototype.pUpdateMatrix=function(){throw new o},e.prototype._iUpdateScissorRect=function(t,e,i,r){this._pScissorRect.x=t,this._pScissorRect.y=e,this._pScissorRect.width=i,this._pScissorRect.height=r,this.pInvalidateMatrix()},e.prototype._iUpdateViewport=function(t,e,i,r){this._pViewPort.x=t,this._pViewPort.y=e,this._pViewPort.width=i,this._pViewPort.height=r,this.pInvalidateMatrix()},e}(n);e.exports=h},{"awayjs-core/lib/errors/AbstractMethodError":void 0,"awayjs-core/lib/events/EventDispatcher":void 0,"awayjs-core/lib/events/ProjectionEvent":void 0,"awayjs-core/lib/geom/Matrix3D":void 0,"awayjs-core/lib/geom/Rectangle":void 0}],"awayjs-core/lib/textures/BitmapCubeTexture":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/Error"),s=t("awayjs-core/lib/textures/CubeTextureBase"),n=t("awayjs-core/lib/utils/TextureUtils"),a=function(t){function e(e,i,r,s,n,a,o){void 0===o&&(o=!1),t.call(this,o),this._bitmapDatas=new Array(6),this._testSize(this._bitmapDatas[0]=e),this._testSize(this._bitmapDatas[1]=i),this._testSize(this._bitmapDatas[2]=r),this._testSize(this._bitmapDatas[3]=s),this._testSize(this._bitmapDatas[4]=n),this._testSize(this._bitmapDatas[5]=a),this.invalidateContent(),this._pSetSize(e.width)}return i(e,t),Object.defineProperty(e.prototype,"positiveX",{get:function(){return this._bitmapDatas[0]},set:function(t){this._testSize(t),this.invalidateContent(),this._pSetSize(t.width),this._bitmapDatas[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"negativeX",{get:function(){return this._bitmapDatas[1]},set:function(t){this._testSize(t),this.invalidateContent(),this._pSetSize(t.width),this._bitmapDatas[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positiveY",{get:function(){return this._bitmapDatas[2]},set:function(t){this._testSize(t),this.invalidateContent(),this._pSetSize(t.width),this._bitmapDatas[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"negativeY",{get:function(){return this._bitmapDatas[3]},set:function(t){this._testSize(t),this.invalidateContent(),this._pSetSize(t.width),this._bitmapDatas[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positiveZ",{get:function(){return this._bitmapDatas[4]},set:function(t){this._testSize(t),this.invalidateContent(),this._pSetSize(t.width),this._bitmapDatas[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"negativeZ",{get:function(){return this._bitmapDatas[5]},set:function(t){this._testSize(t),this.invalidateContent(),this._pSetSize(t.width),this._bitmapDatas[5]=t},enumerable:!0,configurable:!0}),e.prototype._testSize=function(t){if(t.width!=t.height)throw new r("BitmapData should have equal width and height!");if(!n.isBitmapDataValid(t))throw new r("Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048")},e.prototype.dispose=function(){t.prototype.dispose.call(this);for(var e=this._bitmapDatas.length,i=0;e>i;i++)this._bitmapDatas[i].dispose(),this._bitmapDatas[i]=null;this._bitmapDatas=null},e.prototype._iGetTextureData=function(t){return this._bitmapDatas[t]},e}(s);e.exports=a},{"awayjs-core/lib/errors/Error":void 0,"awayjs-core/lib/textures/CubeTextureBase":void 0,"awayjs-core/lib/utils/TextureUtils":void 0}],"awayjs-core/lib/textures/BitmapTexture":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/Error"),s=t("awayjs-core/lib/textures/Texture2DBase"),n=t("awayjs-core/lib/utils/TextureUtils"),a=function(t){function e(e,i){void 0===i&&(i=!1),t.call(this,i),this.bitmapData=e}return i(e,t),Object.defineProperty(e.prototype,"bitmapData",{get:function(){return this._bitmapData},set:function(t){if(this._bitmapData!=t){if(!n.isBitmapDataValid(t))throw new r("Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048");this._bitmapData=t,this.invalidateContent(),this._pSetSize(t.width,t.height)}},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._bitmapData.dispose(),this._bitmapData=null},e.prototype._iGetTextureData=function(){return this._bitmapData},e}(s);e.exports=a},{"awayjs-core/lib/errors/Error":void 0,"awayjs-core/lib/textures/Texture2DBase":void 0,"awayjs-core/lib/utils/TextureUtils":void 0}],"awayjs-core/lib/textures/CubeTextureBase":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/AbstractMethodError"),s=t("awayjs-core/lib/textures/MipmapGenerator"),n=t("awayjs-core/lib/textures/TextureProxyBase"),a=function(t){function e(e){void 0===e&&(e=!1),t.call(this,e),this._mipmapDataArray=new Array(6),this._mipmapDataDirtyArray=new Array(6)}return i(e,t),e.prototype._pSetSize=function(t){this._pSize!=t&&this.invalidateSize();for(var e=0;6>e;e++)this._mipmapDataDirtyArray[e]=!0;this._pSize=t},e.prototype.dispose=function(){t.prototype.dispose.call(this);for(var e=0;6>e;e++)for(var i=this._mipmapDataArray[e],r=i.length,n=0;r>n;n++)s.freeMipMapHolder(i[n])},e.prototype.invalidateContent=function(){t.prototype.invalidateContent.call(this);for(var e=0;6>e;e++)this._mipmapDataDirtyArray[e]=!0},e.prototype._iGetMipmapData=function(t){if(this._mipmapDataDirtyArray[t]){this._mipmapDataDirtyArray[t]=!1;var e=this._mipmapDataArray[t]||(this._mipmapDataArray[t]=new Array);s.generateMipMaps(this._iGetTextureData(t),e,!0)}return this._mipmapDataArray[t]},e.prototype._iGetTextureData=function(){throw new r},e}(n);e.exports=a},{"awayjs-core/lib/errors/AbstractMethodError":void 0,"awayjs-core/lib/textures/MipmapGenerator":void 0,"awayjs-core/lib/textures/TextureProxyBase":void 0}],"awayjs-core/lib/textures/ImageCubeTexture":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/Error"),s=t("awayjs-core/lib/textures/CubeTextureBase"),n=t("awayjs-core/lib/utils/TextureUtils"),a=function(t){function e(e,i,r,s,n,a,o){void 0===o&&(o=!1),t.call(this,o),this._htmlImageElements=new Array(6),this._testSize(this._htmlImageElements[0]=e),this._testSize(this._htmlImageElements[1]=i),this._testSize(this._htmlImageElements[2]=r),this._testSize(this._htmlImageElements[3]=s),this._testSize(this._htmlImageElements[4]=n),this._testSize(this._htmlImageElements[5]=a),this.invalidateContent(),this._pSetSize(e.width)}return i(e,t),Object.defineProperty(e.prototype,"positiveX",{get:function(){return this._htmlImageElements[0]},set:function(t){this._testSize(t),this.invalidateContent(),this._pSetSize(t.width),this._htmlImageElements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"negativeX",{get:function(){return this._htmlImageElements[1]},set:function(t){this._testSize(t),this.invalidateContent(),this._pSetSize(t.width),this._htmlImageElements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positiveY",{get:function(){return this._htmlImageElements[2]},set:function(t){this._testSize(t),this.invalidateContent(),this._pSetSize(t.width),this._htmlImageElements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"negativeY",{get:function(){return this._htmlImageElements[3]},set:function(t){this._testSize(t),this.invalidateContent(),this._pSetSize(t.width),this._htmlImageElements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positiveZ",{get:function(){return this._htmlImageElements[4]},set:function(t){this._testSize(t),this.invalidateContent(),this._pSetSize(t.width),this._htmlImageElements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"negativeZ",{get:function(){return this._htmlImageElements[5]},set:function(t){this._testSize(t),this.invalidateContent(),this._pSetSize(t.width),this._htmlImageElements[5]=t},enumerable:!0,configurable:!0}),e.prototype._testSize=function(t){if(t.width!=t.height)throw new r("BitmapData should have equal width and height!");if(!n.isHTMLImageElementValid(t))throw new r("Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048")},e.prototype._iGetTextureData=function(t){return this._htmlImageElements[t]},e}(s);e.exports=a},{"awayjs-core/lib/errors/Error":void 0,"awayjs-core/lib/textures/CubeTextureBase":void 0,"awayjs-core/lib/utils/TextureUtils":void 0}],"awayjs-core/lib/textures/ImageTexture":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/Error"),s=t("awayjs-core/lib/textures/Texture2DBase"),n=t("awayjs-core/lib/utils/TextureUtils"),a=function(t){function e(e,i){void 0===i&&(i=!1),t.call(this,i),this.htmlImageElement=e}return i(e,t),Object.defineProperty(e.prototype,"htmlImageElement",{get:function(){return this._htmlImageElement},set:function(t){if(this._htmlImageElement!=t){if(!n.isHTMLImageElementValid(t))throw new r("Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048");this._htmlImageElement=t,this.invalidateContent(),this._pSetSize(t.width,t.height)}},enumerable:!0,configurable:!0}),e.prototype._iGetTextureData=function(){return this._htmlImageElement},e}(s);e.exports=a},{"awayjs-core/lib/errors/Error":void 0,"awayjs-core/lib/textures/Texture2DBase":void 0,"awayjs-core/lib/utils/TextureUtils":void 0}],"awayjs-core/lib/textures/MipmapGenerator":[function(t,e){var i=t("awayjs-core/lib/base/BitmapData"),r=t("awayjs-core/lib/geom/Matrix"),s=t("awayjs-core/lib/geom/Rectangle"),n=function(){function t(){}return t.generateMipMaps=function(e,i,r){void 0===r&&(r=!1);var s,n=e.width,a=e.height,o=0;for(t._rect.width=n,t._rect.height=a;n>=1&&a>=1;)s=i[o]=t._getMipmapHolder(i[o],n,a),r&&s.fillRect(t._rect,0),t._matrix.a=t._rect.width/e.width,t._matrix.d=t._rect.height/e.height,s.draw(e,t._matrix),n>>=1,a>>=1,t._rect.width=n>1?n:1,t._rect.height=a>1?a:1,o++},t._getMipmapHolder=function(e,r,s){if(e){if(e.width==r&&e.height==s)return e;t.freeMipMapHolder(e)}return t._mipMaps[r]||(t._mipMaps[r]=[],t._mipMapUses[r]=[]),t._mipMaps[r][s]?(t._mipMapUses[r][s]=t._mipMapUses[r][s]+1,e=t._mipMaps[r][s]):(e=t._mipMaps[r][s]=new i(r,s,!0),t._mipMapUses[r][s]=1),e},t.freeMipMapHolder=function(e){var i=e.width,r=e.height;0==--t._mipMapUses[i][r]&&(t._mipMaps[i][r].dispose(),t._mipMaps[i][r]=null)},t._mipMaps=[],t._mipMapUses=[],t._matrix=new r,t._rect=new s,t}();e.exports=n},{"awayjs-core/lib/base/BitmapData":void 0,"awayjs-core/lib/geom/Matrix":void 0,"awayjs-core/lib/geom/Rectangle":void 0}],"awayjs-core/lib/textures/RenderTexture":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/Error"),s=t("awayjs-core/lib/textures/Texture2DBase"),n=t("awayjs-core/lib/utils/TextureUtils"),a=function(t){function e(e,i){t.call(this,!1),this._pSetSize(e,i)}return i(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._pWidth},set:function(t){if(t!=this._pWidth){if(!n.isDimensionValid(t))throw new r("Invalid size: Width and height must be power of 2 and cannot exceed 2048");this.invalidateContent(),this._pSetSize(t,this._pHeight)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._pHeight},set:function(t){if(t!=this._pHeight){if(!n.isDimensionValid(t))throw new r("Invalid size: Width and height must be power of 2 and cannot exceed 2048");this.invalidateContent(),this._pSetSize(this._pWidth,t)}},enumerable:!0,configurable:!0}),e}(s);e.exports=a},{"awayjs-core/lib/errors/Error":void 0,"awayjs-core/lib/textures/Texture2DBase":void 0,"awayjs-core/lib/utils/TextureUtils":void 0}],"awayjs-core/lib/textures/SpecularBitmapTexture":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/base/BitmapData"),s=t("awayjs-core/lib/base/BitmapDataChannel"),n=t("awayjs-core/lib/geom/Point"),a=t("awayjs-core/lib/textures/BitmapTexture"),o=function(t){function e(e,i,s){void 0===e&&(e=null),void 0===i&&(i=null),void 0===s&&(s=!0);var n=e?e:i;n=n?new r(n.width,n.height,!1,16777215):new r(1,1,!1,16777215),t.call(this,n,s),this.specularMap=e,this.glossMap=i}return i(e,t),Object.defineProperty(e.prototype,"specularMap",{get:function(){return this._specularMap},set:function(t){this._specularMap=t,this.invalidateContent(),this._testSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"glossMap",{get:function(){return this._glossMap},set:function(t){this._glossMap=t,this.invalidateContent(),this._testSize()},enumerable:!0,configurable:!0}),e.prototype._testSize=function(){var t,e;if(this._specularMap?(t=this._specularMap.width,e=this._specularMap.height):this._glossMap?(t=this._glossMap.width,e=this._glossMap.height):(t=1,e=1),t!=this._bitmapData.width&&e!=this._bitmapData.height){var i=this._bitmapData;this.bitmapData=new r(this._specularMap.width,this._specularMap.height,!1,16777215),i.dispose()}},e.prototype._iGetTextureData=function(){var t=this._specularMap.rect,e=new n;return this._bitmapData.fillRect(t,16777215),this._glossMap&&this._bitmapData.copyChannel(this._glossMap,t,e,s.GREEN,s.GREEN),this._specularMap&&this._bitmapData.copyChannel(this._specularMap,t,e,s.RED,s.RED),this._bitmapData},e}(a);e.exports=o},{"awayjs-core/lib/base/BitmapData":void 0,"awayjs-core/lib/base/BitmapDataChannel":void 0,"awayjs-core/lib/geom/Point":void 0,"awayjs-core/lib/textures/BitmapTexture":void 0}],"awayjs-core/lib/textures/Texture2DBase":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/AbstractMethodError"),s=t("awayjs-core/lib/textures/MipmapGenerator"),n=t("awayjs-core/lib/textures/TextureProxyBase"),a=function(t){function e(e){void 0===e&&(e=!1),t.call(this,e)}return i(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._pWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._pHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._pWidth},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){if(t.prototype.dispose.call(this),this._mipmapData)for(var e=this._mipmapData.length,i=0;e>i;i++)s.freeMipMapHolder(this._mipmapData[i])},e.prototype.invalidateContent=function(){t.prototype.invalidateContent.call(this),this._mipmapDataDirty=!0},e.prototype._pSetSize=function(t,e){(this._pWidth!=t||this._pHeight!=e)&&this.invalidateSize(),this._mipmapDataDirty=!0,this._pWidth=t,this._pHeight=e},e.prototype._iGetMipmapData=function(){return this._mipmapDataDirty&&(this._mipmapDataDirty=!1,this._mipmapData||(this._mipmapData=new Array),s.generateMipMaps(this._iGetTextureData(),this._mipmapData,!0)),this._mipmapData},e.prototype._iGetTextureData=function(){throw new r},e}(n);e.exports=a},{"awayjs-core/lib/errors/AbstractMethodError":void 0,"awayjs-core/lib/textures/MipmapGenerator":void 0,"awayjs-core/lib/textures/TextureProxyBase":void 0}],"awayjs-core/lib/textures/TextureProxyBase":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/library/AssetType"),s=t("awayjs-core/lib/library/NamedAssetBase"),n=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this._pFormat="bgra",this._textureData=new Array,this._generateMipmaps=this._hasMipmaps=e}return i(e,t),Object.defineProperty(e.prototype,"size",{get:function(){return this._pSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasMipmaps",{get:function(){return this._hasMipmaps},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._pFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"generateMipmaps",{get:function(){return this._generateMipmaps},set:function(t){this._generateMipmaps!=t&&(this._generateMipmaps=this._hasMipmaps=t,this.invalidateContent())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assetType",{get:function(){return r.TEXTURE},enumerable:!0,configurable:!0}),e.prototype.invalidateContent=function(){for(var t=this._textureData.length,e=0;t>e;e++)this._textureData[e].invalidate()},e.prototype.invalidateSize=function(){for(;this._textureData.length;)this._textureData[0].dispose()},e.prototype.dispose=function(){for(;this._textureData.length;)this._textureData[0].dispose()},e.prototype._iAddTextureData=function(t){return this._textureData.push(t),t},e.prototype._iRemoveTextureData=function(t){return this._textureData.splice(this._textureData.indexOf(t),1),t},e}(s);e.exports=n},{"awayjs-core/lib/library/AssetType":void 0,"awayjs-core/lib/library/NamedAssetBase":void 0}],"awayjs-core/lib/ui/Keyboard":[function(t,e){var i=function(){function t(){}return t.A=65,t.ALTERNATE=18,t.AUDIO=16777239,t.B=66,t.BACK=16777238,t.BACKQUOTE=192,t.BACKSLASH=220,t.BACKSPACE=8,t.BLUE=16777219,t.C=67,t.CAPS_LOCK=20,t.CHANNEL_DOWN=16777221,t.CHANNEL_UP=16777221,t.COMMA=188,t.COMMAND=15,t.CONTROL=17,t.D=68,t.DELETE=46,t.DOWN=40,t.DVR=16777241,t.E=69,t.END=35,t.ENTER=13,t.EQUAL=187,t.ESCAPE=27,t.EXIT=16777237,t.F=70,t.F1=112,t.F10=121,t.F11=122,t.F12=123,t.F13=124,t.F14=125,t.F15=126,t.F2=113,t.F3=114,t.F4=115,t.F5=116,t.F6=117,t.F7=118,t.F8=119,t.F9=120,t.FAST_FORWARD=16777226,t.G=71,t.GREEN=16777217,t.GUIDE=16777236,t.H=72,t.HELP=16777245,t.HOME=36,t.I=73,t.INFO=16777235,t.INPUT=16777243,t.INSERT=45,t.J=74,t.K=75,t.KEYNAME_BEGIN="Begin",t.KEYNAME_BREAK="Break",t.KEYNAME_CLEARDISPLAY="ClrDsp",t.KEYNAME_CLEARLINE="ClrLn",t.KEYNAME_DELETE="Delete",t.KEYNAME_DELETECHAR="DelChr",t.KEYNAME_DELETELINE="DelLn",t.KEYNAME_DOWNARROW="Down",t.KEYNAME_END="End",t.KEYNAME_EXECUTE="Exec",t.KEYNAME_F1="F1",t.KEYNAME_F10="F10",t.KEYNAME_F11="F11",t.KEYNAME_F12="F12",t.KEYNAME_F13="F13",t.KEYNAME_F14="F14",t.KEYNAME_F15="F15",t.KEYNAME_F16="F16",t.KEYNAME_F17="F17",t.KEYNAME_F18="F18",t.KEYNAME_F19="F19",t.KEYNAME_F2="F2",t.KEYNAME_F20="F20",t.KEYNAME_F21="F21",t.KEYNAME_F22="F22",t.KEYNAME_F23="F23",t.KEYNAME_F24="F24",t.KEYNAME_F25="F25",t.KEYNAME_F26="F26",t.KEYNAME_F27="F27",t.KEYNAME_F28="F28",t.KEYNAME_F29="F29",t.KEYNAME_F3="F3",t.KEYNAME_F30="F30",t.KEYNAME_F31="F31",t.KEYNAME_F32="F32",t.KEYNAME_F33="F33",t.KEYNAME_F34="F34",t.KEYNAME_F35="F35",t.KEYNAME_F4="F4",t.KEYNAME_F5="F5",t.KEYNAME_F6="F6",t.KEYNAME_F7="F7",t.KEYNAME_F8="F8",t.KEYNAME_F9="F9",t.KEYNAME_FIND="Find",t.KEYNAME_HELP="Help",t.KEYNAME_HOME="Home",t.KEYNAME_INSERT="Insert",t.KEYNAME_INSERTCHAR="InsChr",t.KEYNAME_INSERTLINE="LnsLn",t.KEYNAME_LEFTARROW="Left",t.KEYNAME_MENU="Menu",t.KEYNAME_MODESWITCH="ModeSw",t.KEYNAME_NEXT="Next",t.KEYNAME_PAGEDOWN="PgDn",t.KEYNAME_PAGEUP="PgUp",t.KEYNAME_PAUSE="Pause",t.KEYNAME_PREV="Prev",t.KEYNAME_PRINT="Print",t.KEYNAME_PRINTSCREEN="PrntScrn",t.KEYNAME_REDO="Redo",t.KEYNAME_RESET="Reset",t.KEYNAME_RIGHTARROW="Right",t.KEYNAME_SCROLLLOCK="ScrlLck",t.KEYNAME_SELECT="Select",t.KEYNAME_STOP="Stop",t.KEYNAME_SYSREQ="SysReq",t.KEYNAME_SYSTEM="Sys",t.KEYNAME_UNDO="Undo",t.KEYNAME_UPARROW="Up",t.KEYNAME_USER="User",t.L=76,t.LAST=16777233,t.LEFT=37,t.LEFTBRACKET=219,t.LIVE=16777232,t.M=77,t.MASTER_SHELL=16777246,t.MENU=16777234,t.MINUS=189,t.N=78,t.NEXT=16777230,t.NUMBER_0=48,t.NUMBER_1=49,t.NUMBER_2=50,t.NUMBER_3=51,t.NUMBER_4=52,t.NUMBER_5=53,t.NUMBER_6=54,t.NUMBER_7=55,t.NUMBER_8=56,t.NUMBER_9=57,t.NUMPAD=21,t.NUMPAD_0=96,t.NUMPAD_1=97,t.NUMPAD_2=98,t.NUMPAD_3=99,t.NUMPAD_4=100,t.NUMPAD_5=101,t.NUMPAD_6=102,t.NUMPAD_7=103,t.NUMPAD_8=104,t.NUMPAD_9=105,t.NUMPAD_ADD=107,t.NUMPAD_DECIMAL=110,t.NUMPAD_DIVIDE=111,t.NUMPAD_ENTER=108,t.NUMPAD_MULTIPLY=106,t.NUMPAD_SUBTRACT=109,t.O=79,t.P=80,t.PAGE_DOWN=34,t.PAGE_UP=33,t.PAUSE=16777224,t.PERIOD=190,t.PLAY=16777223,t.PREVIOUS=16777231,t.Q=81,t.QUOTE=222,t.R=82,t.RECORD=16777222,t.RED=16777216,t.REWIND=16777227,t.RIGHT=39,t.RIGHTBRACKET=221,t.S=83,t.SEARCH=16777247,t.SEMICOLON=186,t.SETUP=16777244,t.SHIFT=16,t.SKIP_BACKWARD=16777229,t.SKIP_FORWARD=16777228,t.SLASH=191,t.SPACE=32,t.STOP=16777225,t.SUBTITLE=16777240,t.T=84,t.TAB=9,t.U=85,t.UP=38,t.V=86,t.VOD=16777242,t.W=87,t.X=88,t.Y=89,t.YELLOW=16777218,t.Z=90,t
}();e.exports=i},{}],"awayjs-core/lib/utils/ByteArrayBase":[function(t,e){var i=t("awayjs-core/lib/errors/AbstractMethodError"),r=function(){function t(){this.position=0,this.length=0,this._mode=""}return t.prototype.writeByte=function(){throw"Virtual method"},t.prototype.readByte=function(){throw"Virtual method"},t.prototype.writeUnsignedByte=function(){throw"Virtual method"},t.prototype.readUnsignedByte=function(){throw"Virtual method"},t.prototype.writeUnsignedShort=function(){throw"Virtual method"},t.prototype.readUnsignedShort=function(){throw"Virtual method"},t.prototype.writeUnsignedInt=function(){throw"Virtual method"},t.prototype.readUnsignedInt=function(){throw"Virtual method"},t.prototype.writeFloat=function(){throw"Virtual method"},t.prototype.toFloatBits=function(){throw"Virtual method"},t.prototype.readFloat=function(){throw"Virtual method"},t.prototype.fromFloatBits=function(){throw"Virtual method"},t.prototype.getBytesAvailable=function(){throw new i("ByteArrayBase, getBytesAvailable() not implemented ")},t.prototype.toString=function(){return"[ByteArray] ( "+this._mode+" ) position="+this.position+" length="+this.length},t.prototype.compareEqual=function(t,e){(void 0==e||e>this.length-this.position)&&(e=this.length-this.position),e>t.length-t.position&&(e=t.length-t.position);for(var i=!0;i&&e>=4;)e-=4,this.readUnsignedInt()!=t.readUnsignedInt()&&(i=!1);for(;i&&e>=1;)e--,this.readUnsignedByte()!=t.readUnsignedByte()&&(i=!1);var r;return this.position-=r-e,t.position-=r-e,i},t.prototype.writeBase64String=function(t){for(var e=0;e<t.length;e++){t.charAt(e)}},t.prototype.dumpToConsole=function(){function t(t,e){for(var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",s=0;e>s;s++)r=i[t>>(s<<2)&15]+r;return r}var e=this.position;this.position=0;for(var i=8,r=0;r<this.length;r+=i){for(var s=t(r,4)+":",n=0;i>n&&r+n<this.length;n++)s+=" "+t(this.readUnsignedByte(),2);console.log(s)}this.position=e},t.prototype.readBase64String=function(e){return(void 0==e||e>this.length-this.position)&&(e=this.length-this.position),e>0?t.internalGetBase64String(e,this.readUnsignedByte,this):""},t.internalGetBase64String=function(e,i,r){for(var s,n,a,o,h,p,c,u="",l=t.Base64Key;e>=3;)s=i.apply(r),n=i.apply(r),a=i.apply(r),o=s>>2,h=(3&s)<<4|n>>4,p=(15&n)<<2|a>>6,c=63&a,u+=l.charAt(o)+l.charAt(h)+l.charAt(p)+l.charAt(c),e-=3;return 2==e?(s=i.apply(r),n=i.apply(r),o=s>>2,h=(3&s)<<4|n>>4,p=(15&n)<<2,u+=l.charAt(o)+l.charAt(h)+l.charAt(p)+"="):1==e&&(s=i.apply(r),o=s>>2,h=(3&s)<<4,u+=l.charAt(o)+l.charAt(h)+"=="),u},t.Base64Key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t}();e.exports=r},{"awayjs-core/lib/errors/AbstractMethodError":void 0}],"awayjs-core/lib/utils/ByteArrayBuffer":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/utils/ByteArrayBase"),s=function(t){function e(){t.call(this),this._bytes=[],this._mode="Array"}return i(e,t),e.prototype.writeByte=function(t){var e=~~t;this._bytes[this.position++]=e,this.position>this.length&&(this.length=this.position)},e.prototype.readByte=function(){if(this.position>=this.length)throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length;return this._bytes[this.position++]},e.prototype.writeUnsignedByte=function(t){var e=~~t;this._bytes[this.position++]=255&e,this.position>this.length&&(this.length=this.position)},e.prototype.readUnsignedByte=function(){if(this.position>=this.length)throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length;return this._bytes[this.position++]},e.prototype.writeUnsignedShort=function(t){var e=~~t;this._bytes[this.position++]=255&e,this._bytes[this.position++]=e>>8&255,this.position>this.length&&(this.length=this.position)},e.prototype.readUnsignedShort=function(){if(this.position+2>this.length)throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length;var t=this._bytes[this.position]|this._bytes[this.position+1]<<8;return this.position+=2,t},e.prototype.writeUnsignedInt=function(t){var e=~~t;this._bytes[this.position++]=255&e,this._bytes[this.position++]=e>>>8&255,this._bytes[this.position++]=e>>>16&255,this._bytes[this.position++]=e>>>24&255,this.position>this.length&&(this.length=this.position)},e.prototype.readUnsignedInt=function(){if(this.position+4>this.length)throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length;var t=this._bytes[this.position]|this._bytes[this.position+1]<<8|this._bytes[this.position+2]<<16|this._bytes[this.position+3]<<24;return this.position+=4,t>>>0},e.prototype.writeFloat=function(t){this.writeUnsignedInt(this.toFloatBits(Number(t)))},e.prototype.toFloatBits=function(t){if(0==t)return 0;var e=0;0>t?(t=-t,e=1):e=0;var i=Math.log(t)/Math.log(2);i=Math.floor(i),t*=Math.pow(2,23-i);var r=Math.floor(t)-8388608;return i+=127,e<<31>>>0|i<<23|r},e.prototype.readFloat=function(){return this.fromFloatBits(this.readUnsignedInt())},e.prototype.fromFloatBits=function(t){if(0==t)return 0;var e=t>>>23&255,i=8388607&t|8388608,r=Math.pow(2,e-127-23)*i;return t>>>31!=0&&(r=-r),r},e}(r);e.exports=s},{"awayjs-core/lib/utils/ByteArrayBase":void 0}],"awayjs-core/lib/utils/ByteArray":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/utils/ByteArrayBase"),s=function(t){function e(){t.call(this),this.maxlength=0,this._mode="Typed array",this.maxlength=4,this.arraybytes=new ArrayBuffer(this.maxlength),this.unalignedarraybytestemp=new ArrayBuffer(16)}return i(e,t),e.prototype.ensureWriteableSpace=function(t){this.ensureSpace(t+this.position)},e.prototype.setArrayBuffer=function(t){this.ensureSpace(t.byteLength),this.length=t.byteLength;var e=new Int8Array(t),i=new Int8Array(this.arraybytes,0,this.length);i.set(e),this.position=0},e.prototype.getBytesAvailable=function(){return this.length-this.position},e.prototype.ensureSpace=function(t){if(t>this.maxlength){var e=t+255&-256,i=new ArrayBuffer(e),r=new Uint8Array(this.arraybytes,0,this.length),s=new Uint8Array(i,0,this.length);s.set(r),this.arraybytes=i,this.maxlength=e}},e.prototype.writeByte=function(t){this.ensureWriteableSpace(1);var e=new Int8Array(this.arraybytes);e[this.position++]=~~t,this.position>this.length&&(this.length=this.position)},e.prototype.readByte=function(){if(this.position>=this.length)throw"ByteArray out of bounds read. Positon="+this.position+", Length="+this.length;var t=new Int8Array(this.arraybytes);return t[this.position++]},e.prototype.readBytes=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),null==i&&(i=t.length),t.ensureWriteableSpace(e+i);var r=new Int8Array(t.arraybytes),s=new Int8Array(this.arraybytes);r.set(s.subarray(this.position,this.position+i),e),this.position+=i,i+e>t.length&&(t.length+=i+e-t.length)},e.prototype.writeUnsignedByte=function(t){this.ensureWriteableSpace(1);var e=new Uint8Array(this.arraybytes);e[this.position++]=255&~~t,this.position>this.length&&(this.length=this.position)},e.prototype.readUnsignedByte=function(){if(this.position>=this.length)throw"ByteArray out of bounds read. Positon="+this.position+", Length="+this.length;var t=new Uint8Array(this.arraybytes);return t[this.position++]},e.prototype.writeUnsignedShort=function(t){if(this.ensureWriteableSpace(2),0==(1&this.position)){var e=new Uint16Array(this.arraybytes);e[this.position>>1]=65535&~~t}else{var e=new Uint16Array(this.unalignedarraybytestemp,0,1);e[0]=65535&~~t;var i=new Uint8Array(this.arraybytes,this.position,2),r=new Uint8Array(this.unalignedarraybytestemp,0,2);i.set(r)}this.position+=2,this.position>this.length&&(this.length=this.position)},e.prototype.readUTFBytes=function(t){for(var e="",i=this.position+t,r=new DataView(this.arraybytes);this.position<i;){var s=r.getUint8(this.position++);if(128>s){if(0==s)break;e+=String.fromCharCode(s)}else if(224>s)e+=String.fromCharCode((63&s)<<6|127&r.getUint8(this.position++));else if(240>s){var n=r.getUint8(this.position++);e+=String.fromCharCode((31&s)<<12|(127&n)<<6|127&r.getUint8(this.position++))}else{var n=r.getUint8(this.position++),a=r.getUint8(this.position++);e+=String.fromCharCode((15&s)<<18|(127&n)<<12|a<<6&127|127&r.getUint8(this.position++))}}return e},e.prototype.readInt=function(){var t=new DataView(this.arraybytes),e=t.getInt32(this.position,!0);return this.position+=4,e},e.prototype.readShort=function(){var t=new DataView(this.arraybytes),e=t.getInt16(this.position,!0);return this.position+=2,e},e.prototype.readDouble=function(){var t=new DataView(this.arraybytes),e=t.getFloat64(this.position,!0);return this.position+=8,e},e.prototype.readUnsignedShort=function(){if(this.position>this.length+2)throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length;if(0==(1&this.position)){var t=new Uint16Array(this.arraybytes),e=this.position>>1;return this.position+=2,t[e]}var t=new Uint16Array(this.unalignedarraybytestemp,0,1),i=new Uint8Array(this.arraybytes,this.position,2),r=new Uint8Array(this.unalignedarraybytestemp,0,2);return r.set(i),this.position+=2,t[0]},e.prototype.writeUnsignedInt=function(t){if(this.ensureWriteableSpace(4),0==(3&this.position)){var e=new Uint32Array(this.arraybytes);e[this.position>>2]=4294967295&~~t}else{var e=new Uint32Array(this.unalignedarraybytestemp,0,1);e[0]=4294967295&~~t;var i=new Uint8Array(this.arraybytes,this.position,4),r=new Uint8Array(this.unalignedarraybytestemp,0,4);i.set(r)}this.position+=4,this.position>this.length&&(this.length=this.position)},e.prototype.readUnsignedInt=function(){if(this.position>this.length+4)throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length;if(0==(3&this.position)){var t=new Uint32Array(this.arraybytes),e=this.position>>2;return this.position+=4,t[e]}var t=new Uint32Array(this.unalignedarraybytestemp,0,1),i=new Uint8Array(this.arraybytes,this.position,4),r=new Uint8Array(this.unalignedarraybytestemp,0,4);return r.set(i),this.position+=4,t[0]},e.prototype.writeFloat=function(t){if(this.ensureWriteableSpace(4),0==(3&this.position)){var e=new Float32Array(this.arraybytes);e[this.position>>2]=t}else{var e=new Float32Array(this.unalignedarraybytestemp,0,1);e[0]=t;var i=new Uint8Array(this.arraybytes,this.position,4),r=new Uint8Array(this.unalignedarraybytestemp,0,4);i.set(r)}this.position+=4,this.position>this.length&&(this.length=this.position)},e.prototype.readFloat=function(){if(this.position>this.length+4)throw"ByteArray out of bounds read. Positon="+this.position+", Length="+this.length;if(0==(3&this.position)){var t=new Float32Array(this.arraybytes),e=this.position>>2;return this.position+=4,t[e]}var t=new Float32Array(this.unalignedarraybytestemp,0,1),i=new Uint8Array(this.arraybytes,this.position,4),r=new Uint8Array(this.unalignedarraybytestemp,0,4);return r.set(i),this.position+=4,t[0]},e}(r);e.exports=s},{"awayjs-core/lib/utils/ByteArrayBase":void 0}],"awayjs-core/lib/utils/CSS":[function(t,e){var i=function(){function t(){}return t.setElementSize=function(t,e,i){t.style.width=e+"px",t.style.height=i+"px",t.width=e,t.height=i},t.setElementWidth=function(t,e){t.style.width=e+"px",t.width=e},t.setElementHeight=function(t,e){t.style.height=e+"px",t.height=e},t.setElementX=function(t,e){t.style.position="absolute",t.style.left=e+"px"},t.setElementY=function(t,e){t.style.position="absolute",t.style.top=e+"px"},t.getElementVisibility=function(t){return"visible"==t.style.visibility},t.setElementVisibility=function(t,e){t.style.visibility=e?"visible":"hidden"},t.setElementAlpha=function(t,e){if(t instanceof HTMLCanvasElement){var i=t.getContext("2d");i.globalAlpha=e}},t.setElementPosition=function(t,e,i,r){void 0===r&&(r=!1),t.style.position=r?"absolute":"relative",t.style.left=e+"px",t.style.top=i+"px"},t}();e.exports=i},{}],"awayjs-core/lib/utils/ColorUtils":[function(t,e){var i=function(){function t(){}return t.float32ColorToARGB=function(t){var e=(4278190080&t)>>>24,i=(16711680&t)>>>16,r=(65280&t)>>>8,s=255&t,n=[e,i,r,s];return n},t.componentToHex=function(t){var e=t.toString(16);return 1==e.length?"0"+e:e},t.RGBToHexString=function(e){return"#"+t.componentToHex(e[1])+t.componentToHex(e[2])+t.componentToHex(e[3])},t.ARGBToHexString=function(e){return"#"+t.componentToHex(e[0])+t.componentToHex(e[1])+t.componentToHex(e[2])+t.componentToHex(e[3])},t}();e.exports=i},{}],"awayjs-core/lib/utils/Debug":[function(t,e){var i=t("awayjs-core/lib/errors/PartialImplementationError"),r=function(){function t(){}return t.breakpoint=function(){t["break"]()},t.throwPIROnKeyWordOnly=function(e,i){void 0===i&&(i=!0),t.keyword=i?e:null},t.throwPIR=function(e,r,s){if(t.logPIR("PartialImplementationError "+e,r,s),t.THROW_ERRORS){if(t.keyword){var n=e+r+s;if(-1==n.indexOf(t.keyword))return}throw new i(e+"."+r+": "+s)}},t.logPIR=function(e,i,r){void 0===r&&(r=""),t.LOG_PI_ERRORS&&console.log(e+"."+i+": "+r)},t.log=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];t.ENABLE_LOG&&console.log(e)},t.THROW_ERRORS=!0,t.ENABLE_LOG=!0,t.LOG_PI_ERRORS=!0,t.keyword=null,t}();e.exports=r},{"awayjs-core/lib/errors/PartialImplementationError":void 0}],"awayjs-core/lib/utils/RequestAnimationFrame":[function(t,e){var i=t("awayjs-core/lib/utils/getTimer"),r=function(){function t(t,e){var r=this;this._active=!1,this._argsArray=new Array,this._getTimer=i,this.setCallback(t,e),this._rafUpdateFunction=function(){r._active&&r._tick()},this._argsArray.push(this._dt)}return t.prototype.setCallback=function(t,e){this._callback=t,this._callbackContext=e},t.prototype.start=function(){this._prevTime=this._getTimer(),this._active=!0,window.requestAnimationFrame?window.requestAnimationFrame(this._rafUpdateFunction):window.mozRequestAnimationFrame?window.requestAnimationFrame=window.mozRequestAnimationFrame:window.webkitRequestAnimationFrame?window.requestAnimationFrame=window.webkitRequestAnimationFrame:window.oRequestAnimationFrame&&(window.requestAnimationFrame=window.oRequestAnimationFrame)},t.prototype.stop=function(){this._active=!1},Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),t.prototype._tick=function(){this._currentTime=this._getTimer(),this._dt=this._currentTime-this._prevTime,this._argsArray[0]=this._dt,this._callback.apply(this._callbackContext,this._argsArray),window.requestAnimationFrame(this._rafUpdateFunction),this._prevTime=this._currentTime},t}();e.exports=r},{"awayjs-core/lib/utils/getTimer":void 0}],"awayjs-core/lib/utils/TextureUtils":[function(t,e){var i=function(){function t(){}return t.isBitmapDataValid=function(e){return null==e?!0:t.isDimensionValid(e.width)&&t.isDimensionValid(e.height)},t.isHTMLImageElementValid=function(e){return null==e?!0:t.isDimensionValid(e.width)&&t.isDimensionValid(e.height)},t.isDimensionValid=function(e){return e>=1&&e<=t.MAX_SIZE&&t.isPowerOfTwo(e)},t.isPowerOfTwo=function(t){return t?(t&-t)==t:!1},t.getBestPowerOf2=function(e){for(var i=1;e>i;)i<<=1;return i>t.MAX_SIZE&&(i=t.MAX_SIZE),i},t.MAX_SIZE=2048,t}();e.exports=i},{}],"awayjs-core/lib/utils/Timer":[function(t,e){var i=this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},r=t("awayjs-core/lib/errors/Error"),s=t("awayjs-core/lib/events/EventDispatcher"),n=t("awayjs-core/lib/events/TimerEvent"),a=function(t){function e(e,i){if(void 0===i&&(i=0),t.call(this),this._repeatCount=0,this._currentCount=0,this._running=!1,this._delay=e,this._repeatCount=i,isNaN(e)||0>e)throw new r("Delay is negative or not a number")}return i(e,t),Object.defineProperty(e.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=t,this._running&&(this.stop(),this.start())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(t){this._repeatCount=t},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this._running&&this.stop(),this._currentCount=0},Object.defineProperty(e.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),e.prototype.start=function(){var t=this;this._running=!0,clearInterval(this._iid),this._iid=setInterval(function(){return t.tick()},this._delay)},e.prototype.stop=function(){this._running=!1,clearInterval(this._iid)},e.prototype.tick=function(){this._currentCount++,this._repeatCount>0&&this._currentCount>=this._repeatCount?(this.stop(),this.dispatchEvent(new n(n.TIMER)),this.dispatchEvent(new n(n.TIMER_COMPLETE))):this.dispatchEvent(new n(n.TIMER))},e}(s);e.exports=a},{"awayjs-core/lib/errors/Error":void 0,"awayjs-core/lib/events/EventDispatcher":void 0,"awayjs-core/lib/events/TimerEvent":void 0}],"awayjs-core/lib/utils/getTimer":[function(t,e){function i(){return Date.now()}e.exports=i},{}]},{},[]);
//# sourceMappingURL=awayjs-core.min.js.map