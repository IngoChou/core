require=function t(e,r,i){function a(n,o){if(!r[n]){if(!e[n]){var h=typeof require=="function"&&require;if(!o&&h)return h(n,!0);if(s)return s(n,!0);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[n]={exports:{}};e[n][0].call(c.exports,function(t){var r=e[n][1][t];return a(r?r:t)},c,c.exports,t,e,r,i)}return r[n].exports}var s=typeof require=="function"&&require;for(var n=0;n<i.length;n++)a(i[n]);return a}({1:[function(t,e,r){"use strict";var i=t("./lib/attributes");r.attributes=i;var a=t("./lib/audio");r.audio=a;var s=t("./lib/errors");r.errors=s;var n=t("./lib/events");r.events=n;var o=t("./lib/geom");r.geom=o;var h=t("./lib/image");r.image=h;var u=t("./lib/library");r.library=u;var c=t("./lib/managers");r.managers=c;var l=t("./lib/net");r.net=l;var p=t("./lib/parsers");r.parsers=p;var f=t("./lib/projections");r.projections=f;var y=t("./lib/ui");r.ui=y;var d=t("./lib/utils");r.utils=d;u.Loader.enableParser(p.Image2DParser);u.Loader.enableParser(p.ImageCubeParser);u.Loader.enableParser(p.TextureAtlasParser);u.Loader.enableParser(p.WaveAudioParser)},{"./lib/attributes":"awayjs-core/lib/attributes","./lib/audio":"awayjs-core/lib/audio","./lib/errors":"awayjs-core/lib/errors","./lib/events":"awayjs-core/lib/events","./lib/geom":"awayjs-core/lib/geom","./lib/image":"awayjs-core/lib/image","./lib/library":"awayjs-core/lib/library","./lib/managers":"awayjs-core/lib/managers","./lib/net":"awayjs-core/lib/net","./lib/parsers":"awayjs-core/lib/parsers","./lib/projections":"awayjs-core/lib/projections","./lib/ui":"awayjs-core/lib/ui","./lib/utils":"awayjs-core/lib/utils"}],"awayjs-core/lib/attributes/AttributesBuffer":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../library/AssetBase");var s=function(t){i(e,t);function e(e,r){if(e===void 0){e=0}if(r===void 0){r=0}t.call(this);this._count=0;this._stride=0;this._newStride=0;this._viewVOs=new Array;this._stride=this._newStride=e;this._count=r;this._buffer=new ArrayBuffer(this._stride*this._count);this._bufferView=new Uint8Array(this._buffer,0,this._buffer.byteLength)}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"stride",{get:function(){if(this._lengthDirty)this._updateLength();return this._stride},set:function(t){if(this._newStride==t)return;this._newStride=t;this.resize()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"count",{get:function(){return this._count},set:function(t){if(this._count==t)return;this._count=t;this.resize()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"buffer",{get:function(){if(this._lengthDirty)this._updateLength();this._contentDirty=false;return this._buffer},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"bufferView",{get:function(){if(this._lengthDirty)this._updateLength();this._contentDirty=false;return this._bufferView},set:function(t){this._bufferView=t;this._buffer=this._bufferView.buffer},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"length",{get:function(){return this._count*this.stride},enumerable:true,configurable:true});e.prototype.invalidate=function(){if(this._contentDirty)return;t.prototype.invalidate.call(this);this._contentDirty=true};e.prototype.resize=function(){if(this._lengthDirty)return;this.clear();this._lengthDirty=true;if(!this._newStride){this._buffer=null;this._bufferView=null}};e.prototype.clone=function(){var t=new e(this._stride,this._count);t.bufferView.set(this.bufferView);var r=this._viewVOs.length;for(var i=0;i<r;i++)this._viewVOs[i].view._internalClone(t);return t};e.prototype.getView=function(t){if(t<this._viewVOs.length)return this._viewVOs[t].view;return null};e.prototype._setAttributes=function(t,e,r){if(r===void 0){r=0}var i=e instanceof Uint8Array?e:new Uint8Array(e.buffer);var a=this._viewVOs[t];var s=a.length;var n=a.offset;var o=i.length/s;if(this.count<o+r)this.count=o+r;if(this._lengthDirty)this._updateLength();if(this._viewVOs.length==1){this._bufferView.set(i)}else{for(var h=0;h<o;h++)this._bufferView.set(i.subarray(h*s,(h+1)*s),(h+r)*this._stride+n)}this.invalidate()};e.prototype._addView=function(t){var e=new n(t);var r=this._viewVOs.length;e.offset=r?this._viewVOs[r-1].offset+this._viewVOs[r-1].length:0;this._viewVOs.push(e);if(this._newStride<e.offset+e.length){this._newStride=e.offset+e.length;this.resize()}t._index=r};e.prototype._removeView=function(t){var e=t._index;var r=this._viewVOs.splice(e,1)[0];var i=this._viewVOs.length;r.dispose();for(var a=e;a<i;a++){r=this._viewVOs[a];r.offset=a?this._viewVOs[a-1].offset+this._viewVOs[a-1].length:0;r.view._index=a}this._newStride=r.offset+r.length;this.resize()};e.prototype._getOffset=function(t){return this._viewVOs[t].offset};e.prototype._updateLength=function(){this._lengthDirty=false;var t;var e;var r=this._viewVOs.length;var i=this._newStride*this._count;if(!this._buffer||this._buffer.byteLength!=i){var a=new ArrayBuffer(i);var s=new Uint8Array(a,0,a.byteLength);var n;var o;var h;var u;if(this._stride!=this._newStride){for(t=0;t<r;t++){n=this._viewVOs[t];o=n.length;h=n.offset;u=n.oldOffset;for(e=0;e<this._count;e++)if(u!=null)s.set(new Uint8Array(this._buffer,e*this._stride+u,o),e*this._newStride+h);n.oldOffset=n.offset}this._stride=this._newStride}else{s.set(new Uint8Array(this._buffer,0,Math.min(i,this._buffer.byteLength)))}this._buffer=a;this._bufferView=s}};e.assetType="[assets AttributesBuffer]";return e}(a.AssetBase);r.AttributesBuffer=s;var n=function(){function t(t){this.view=t;this.length=t.size*t.dimensions}t.prototype.dispose=function(){this.view=null};t.prototype.clone=function(){return new t(this.view)};return t}()},{"../library/AssetBase":"awayjs-core/lib/library/AssetBase"}],"awayjs-core/lib/attributes/AttributesView":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../attributes/AttributesBuffer");var s=t("../library/AssetBase");var n=function(t){i(e,t);function e(e,r,i,s){if(i===void 0){i=0}if(s===void 0){s=false}t.call(this);this._arrayClass=e;this._size=e.BYTES_PER_ELEMENT;this._dimensions=r;this._attributesBuffer=i instanceof a.AttributesBuffer?i:new a.AttributesBuffer(this._dimensions*this._size,i);this._attributesBuffer._addView(this);this._unsigned=s}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"attributesBuffer",{get:function(){return this._attributesBuffer},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){if(this._size==t)return;this._size=t;this._attributesBuffer._removeView(this);this._attributesBuffer._addView(this)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"dimensions",{get:function(){return this._dimensions},set:function(t){if(this._dimensions==t)return;this._dimensions=t;this._attributesBuffer._removeView(this);this._attributesBuffer._addView(this)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"unsigned",{get:function(){return this._unsigned},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"count",{get:function(){return this._attributesBuffer.count},set:function(t){this._attributesBuffer.count=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"offset",{get:function(){return this._attributesBuffer._getOffset(this._index)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"length",{get:function(){return this._attributesBuffer.count*this._dimensions},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"stride",{get:function(){return this._attributesBuffer.stride/this._size},enumerable:true,configurable:true});e.prototype.set=function(t,e){if(e===void 0){e=0}this._attributesBuffer._setAttributes(this._index,t instanceof Array?new this._arrayClass(t):t,e)};e.prototype.get=function(t,e){if(e===void 0){e=0}return new this._arrayClass(this._attributesBuffer.buffer,e*this._attributesBuffer.stride+this.offset,t*this.stride-this.offset/this.size)};e.prototype._internalClone=function(t){return this._cloneCache=new e(this._arrayClass,this._dimensions,t,this._unsigned)};e.prototype.clone=function(t){if(t===void 0){t=null}if(t)this._internalClone(t);if(!this._cloneCache)this._attributesBuffer.clone();var e=this._cloneCache;this._cloneCache=null;return e};e.prototype.dispose=function(){if(!this._attributesBuffer)return;this._attributesBuffer._removeView(this);this._attributesBuffer=null};e.assetType="[attributes AttributesView]";return e}(s.AssetBase);r.AttributesView=n},{"../attributes/AttributesBuffer":"awayjs-core/lib/attributes/AttributesBuffer","../library/AssetBase":"awayjs-core/lib/library/AssetBase"}],"awayjs-core/lib/attributes/Byte4Attributes":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../attributes/AttributesView");var s=function(t){i(e,t);function e(e,r){if(r===void 0){r=true}t.call(this,r?Uint8Array:Int8Array,4,e,r)}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});e.prototype.set=function(e,r){if(r===void 0){r=0}t.prototype.set.call(this,e,r)};e.prototype.get=function(e,r){if(r===void 0){r=0}return t.prototype.get.call(this,e,r)};e.prototype._internalClone=function(t){return this._cloneCache=new e(t,this._arrayClass==Uint8Array)};e.prototype.clone=function(e){if(e===void 0){e=null}return t.prototype.clone.call(this,e)};e.assetType="[attributes Byte4Attributes]";return e}(a.AttributesView);r.Byte4Attributes=s},{"../attributes/AttributesView":"awayjs-core/lib/attributes/AttributesView"}],"awayjs-core/lib/attributes/Float1Attributes":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../attributes/AttributesView");var s=function(t){i(e,t);function e(e){t.call(this,Float32Array,1,e)}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});e.prototype.set=function(e,r){if(r===void 0){r=0}t.prototype.set.call(this,e,r)};e.prototype.get=function(e,r){if(r===void 0){r=0}return t.prototype.get.call(this,e,r)};e.prototype._internalClone=function(t){return this._cloneCache=new e(t)};e.prototype.clone=function(e){if(e===void 0){e=null}return t.prototype.clone.call(this,e)};e.assetType="[attributes Float1Attributes]";return e}(a.AttributesView);r.Float1Attributes=s},{"../attributes/AttributesView":"awayjs-core/lib/attributes/AttributesView"}],"awayjs-core/lib/attributes/Float2Attributes":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../attributes/AttributesView");var s=function(t){i(e,t);function e(e){t.call(this,Float32Array,2,e)}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});e.prototype.set=function(e,r){if(r===void 0){r=0}t.prototype.set.call(this,e,r)};e.prototype.get=function(e,r){if(r===void 0){r=0}return t.prototype.get.call(this,e,r)};e.prototype._internalClone=function(t){return this._cloneCache=new e(t)};e.prototype.clone=function(e){if(e===void 0){e=null}return t.prototype.clone.call(this,e)};e.assetType="[attributes Float2Attributes]";return e}(a.AttributesView);r.Float2Attributes=s},{"../attributes/AttributesView":"awayjs-core/lib/attributes/AttributesView"}],"awayjs-core/lib/attributes/Float3Attributes":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../attributes/AttributesView");var s=function(t){i(e,t);function e(e){t.call(this,Float32Array,3,e)}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});e.prototype.set=function(e,r){if(r===void 0){r=0}t.prototype.set.call(this,e,r)};e.prototype.get=function(e,r){if(r===void 0){r=0}return t.prototype.get.call(this,e,r)};e.prototype._internalClone=function(t){return this._cloneCache=new e(t)};e.prototype.clone=function(e){if(e===void 0){e=null}return t.prototype.clone.call(this,e)};e.assetType="[attributes Float3Attributes]";return e}(a.AttributesView);r.Float3Attributes=s},{"../attributes/AttributesView":"awayjs-core/lib/attributes/AttributesView"}],"awayjs-core/lib/attributes/Float4Attributes":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../attributes/AttributesView");var s=function(t){i(e,t);function e(e){t.call(this,Float32Array,4,e)}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});e.prototype.set=function(e,r){if(r===void 0){r=0}t.prototype.set.call(this,e,r)};e.prototype.get=function(e,r){if(r===void 0){r=0}return t.prototype.get.call(this,e,r)};e.prototype._internalClone=function(t){return this._cloneCache=new e(t)};e.prototype.clone=function(e){if(e===void 0){e=null}return t.prototype.clone.call(this,e)};e.assetType="[attributes Float4Attributes]";return e}(a.AttributesView);r.Float4Attributes=s},{"../attributes/AttributesView":"awayjs-core/lib/attributes/AttributesView"}],"awayjs-core/lib/attributes/Short2Attributes":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../attributes/AttributesView");var s=function(t){i(e,t);function e(e,r){if(r===void 0){r=true}t.call(this,r?Uint16Array:Int16Array,2,e,r)}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});e.prototype.set=function(e,r){if(r===void 0){r=0}t.prototype.set.call(this,e,r)};e.prototype.get=function(e,r){if(r===void 0){r=0}return t.prototype.get.call(this,e,r)};e.prototype._internalClone=function(t){return this._cloneCache=new e(t,this._arrayClass==Uint16Array)};e.prototype.clone=function(e){if(e===void 0){e=null}return t.prototype.clone.call(this,e)};e.assetType="[attributes Short2Attributes]";return e}(a.AttributesView);r.Short2Attributes=s},{"../attributes/AttributesView":"awayjs-core/lib/attributes/AttributesView"}],"awayjs-core/lib/attributes/Short3Attributes":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../attributes/AttributesView");var s=function(t){i(e,t);function e(e,r){if(r===void 0){r=true}t.call(this,r?Uint16Array:Int16Array,3,e,r)}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});e.prototype.set=function(e,r){if(r===void 0){r=0}t.prototype.set.call(this,e,r)};e.prototype.get=function(e,r){if(r===void 0){r=0}return t.prototype.get.call(this,e,r)};e.prototype._internalClone=function(t){return this._cloneCache=new e(t,this._arrayClass==Uint16Array)};e.prototype.clone=function(e){if(e===void 0){e=null}return t.prototype.clone.call(this,e)};e.assetType="[attributes Short3Attributes]";return e}(a.AttributesView);r.Short3Attributes=s},{"../attributes/AttributesView":"awayjs-core/lib/attributes/AttributesView"}],"awayjs-core/lib/attributes":[function(t,e,r){"use strict";var i=t("./attributes/AttributesView");r.AttributesView=i.AttributesView;var a=t("./attributes/AttributesBuffer");r.AttributesBuffer=a.AttributesBuffer;var s=t("./attributes/Byte4Attributes");r.Byte4Attributes=s.Byte4Attributes;var n=t("./attributes/Float1Attributes");r.Float1Attributes=n.Float1Attributes;var o=t("./attributes/Float2Attributes");r.Float2Attributes=o.Float2Attributes;var h=t("./attributes/Float3Attributes");r.Float3Attributes=h.Float3Attributes;var u=t("./attributes/Float4Attributes");r.Float4Attributes=u.Float4Attributes;var c=t("./attributes/Short2Attributes");r.Short2Attributes=c.Short2Attributes;var l=t("./attributes/Short3Attributes");r.Short3Attributes=l.Short3Attributes},{"./attributes/AttributesBuffer":"awayjs-core/lib/attributes/AttributesBuffer","./attributes/AttributesView":"awayjs-core/lib/attributes/AttributesView","./attributes/Byte4Attributes":"awayjs-core/lib/attributes/Byte4Attributes","./attributes/Float1Attributes":"awayjs-core/lib/attributes/Float1Attributes","./attributes/Float2Attributes":"awayjs-core/lib/attributes/Float2Attributes","./attributes/Float3Attributes":"awayjs-core/lib/attributes/Float3Attributes","./attributes/Float4Attributes":"awayjs-core/lib/attributes/Float4Attributes","./attributes/Short2Attributes":"awayjs-core/lib/attributes/Short2Attributes","./attributes/Short3Attributes":"awayjs-core/lib/attributes/Short3Attributes"}],"awayjs-core/lib/audio/WaveAudio":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../managers/AudioManager");var s=t("../library/AssetBase");var n=function(t){i(e,t);function e(e){t.call(this);this._volume=1;this._buffer=e}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){if(this._volume==t)return;this._volume=t;if(this._audioChannel)this._audioChannel.volume=this._volume},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"currentTime",{get:function(){if(this._audioChannel)return this._audioChannel.currentTime;return 0},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"duration",{get:function(){if(this._audioChannel)return this._audioChannel.duration;return 0},enumerable:true,configurable:true});e.prototype.dispose=function(){this.stop()};e.prototype.play=function(t,e){if(e===void 0){e=false}this._audioChannel=a.AudioManager.getChannel(this._buffer.byteLength);if(this._audioChannel){this._audioChannel.volume=this._volume;this._audioChannel.play(this._buffer,t,e,this.id)}};e.prototype.stop=function(){if(this._audioChannel)this._audioChannel.stop();delete this._audioChannel;this._audioChannel=null};e.prototype.clone=function(){var t=new e(this._buffer);t.name=this.name;return t};e.assetType="[asset WaveAudio]";return e}(s.AssetBase);r.WaveAudio=n},{"../library/AssetBase":"awayjs-core/lib/library/AssetBase","../managers/AudioManager":"awayjs-core/lib/managers/AudioManager"}],"awayjs-core/lib/audio":[function(t,e,r){"use strict";var i=t("./audio/WaveAudio");r.WaveAudio=i.WaveAudio},{"./audio/WaveAudio":"awayjs-core/lib/audio/WaveAudio"}],"awayjs-core/lib/errors/AbstractMethodError":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../errors/ErrorBase");var s=function(t){i(e,t);function e(e,r){if(e===void 0){e=null}if(r===void 0){r=0}t.call(this,e||"An abstract method was called! Either an instance of an abstract export class was created, or an abstract method was not overridden by the subclass.",r)}return e}(a.ErrorBase);r.AbstractMethodError=s},{"../errors/ErrorBase":"awayjs-core/lib/errors/ErrorBase"}],"awayjs-core/lib/errors/ArgumentError":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../errors/ErrorBase");var s=function(t){i(e,t);function e(e,r){if(e===void 0){e=null}if(r===void 0){r=0}t.call(this,e||"ArgumentError",r)}return e}(a.ErrorBase);r.ArgumentError=s},{"../errors/ErrorBase":"awayjs-core/lib/errors/ErrorBase"}],"awayjs-core/lib/errors/DocumentError":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../errors/ErrorBase");var s=function(t){i(e,t);function e(e,r){if(e===void 0){e="DocumentError"}if(r===void 0){r=0}t.call(this,e,r)}e.DOCUMENT_DOES_NOT_EXIST="documentDoesNotExist";return e}(a.ErrorBase);r.DocumentError=s},{"../errors/ErrorBase":"awayjs-core/lib/errors/ErrorBase"}],"awayjs-core/lib/errors/ErrorBase":[function(t,e,r){"use strict";var i=function(){function t(t,e,r){if(t===void 0){t=""}if(e===void 0){e=0}if(r===void 0){r=""}this._errorID=0;this._messsage="";this._name="";this._messsage=t;this._name=name;this._errorID=e}Object.defineProperty(t.prototype,"message",{get:function(){return this._messsage},set:function(t){this._messsage=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"errorID",{get:function(){return this._errorID},enumerable:true,configurable:true});return t}();r.ErrorBase=i},{}],"awayjs-core/lib/errors/PartialImplementationError":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../errors/ErrorBase");var s=function(t){i(e,t);function e(e,r){if(e===void 0){e=""}if(r===void 0){r=0}t.call(this,"PartialImplementationError - this function is in development. Required Dependency: "+e,r)}return e}(a.ErrorBase);r.PartialImplementationError=s},{"../errors/ErrorBase":"awayjs-core/lib/errors/ErrorBase"}],"awayjs-core/lib/errors/RangeError":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../errors/ErrorBase");var s=function(t){i(e,t);function e(e,r){if(e===void 0){e=null}if(r===void 0){r=0}t.call(this,e||"RangeError",r)}return e}(a.ErrorBase);r.RangeError=s},{"../errors/ErrorBase":"awayjs-core/lib/errors/ErrorBase"}],"awayjs-core/lib/errors":[function(t,e,r){"use strict";var i=t("./errors/AbstractMethodError");r.AbstractMethodError=i.AbstractMethodError;var a=t("./errors/ArgumentError");r.ArgumentError=a.ArgumentError;var s=t("./errors/DocumentError");r.DocumentError=s.DocumentError;var n=t("./errors/ErrorBase");r.ErrorBase=n.ErrorBase;var o=t("./errors/PartialImplementationError");r.PartialImplementationError=o.PartialImplementationError;var h=t("./errors/RangeError");r.RangeError=h.RangeError},{"./errors/AbstractMethodError":"awayjs-core/lib/errors/AbstractMethodError","./errors/ArgumentError":"awayjs-core/lib/errors/ArgumentError","./errors/DocumentError":"awayjs-core/lib/errors/DocumentError","./errors/ErrorBase":"awayjs-core/lib/errors/ErrorBase","./errors/PartialImplementationError":"awayjs-core/lib/errors/PartialImplementationError","./errors/RangeError":"awayjs-core/lib/errors/RangeError"}],"awayjs-core/lib/events/AssetEvent":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../events/EventBase");var s=function(t){i(e,t);function e(e,r,i){if(i===void 0){i=null}t.call(this,e);this._asset=r;this._prevName=i||this._asset.name}Object.defineProperty(e.prototype,"asset",{get:function(){return this._asset},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"prevName",{get:function(){return this._prevName},enumerable:true,configurable:true});e.prototype.clone=function(){return new e(this.type,this._asset,this._prevName)};e.INVALIDATE="invalidate";e.DISPOSE="dispose";e.CLEAR="clear";e.RENAME="rename";e.ENTER_FRAME="enterFrame";e.EXIT_FRAME="exitFrame";e.ASSET_CONFLICT_RESOLVED="assetConflictResolved";e.ASSET_COMPLETE="assetComplete";e.TEXTURE_SIZE_ERROR="textureSizeError";return e}(a.EventBase);r.AssetEvent=s},{"../events/EventBase":"awayjs-core/lib/events/EventBase"}],"awayjs-core/lib/events/EventBase":[function(t,e,r){"use strict";var i=function(){function t(t){this.type=undefined;this.target=undefined;this.type=t}t.prototype.clone=function(){return new t(this.type)};return t}();r.EventBase=i},{}],"awayjs-core/lib/events/EventDispatcher":[function(t,e,r){"use strict";var i=function(){function t(t){if(t===void 0){t=null}this.listenerObjects=new Array;this.target=t||this}t.prototype.addEventListener=function(t,e){var r=this.listenerObjects[t];if(r===undefined)r=this.listenerObjects[t]=new a;r.addEventListener(e)};t.prototype.removeEventListener=function(t,e){var r=this.listenerObjects[t];if(r){r.removeEventListener(e);if(r.numListeners==0)delete this.listenerObjects[t]}};t.prototype.dispatchEvent=function(t){var e=this.listenerObjects[t.type];if(e){t.target=this.target;e.dispatchEvent(t)}};t.prototype.hasEventListener=function(t,e){if(this.listenerObjects[t]===undefined)return false;if(e!=null)return this.listenerObjects[t].getEventListenerIndex(e)!==-1;return this.listenerObjects[t].numListeners>0};return t}();r.EventDispatcher=i;var a=function(){function t(){this.index=0;this.listeners=new Array;this.numListeners=0}t.prototype.addEventListener=function(t){if(this.getEventListenerIndex(t)!==-1)return;this.listeners.push(t);this.numListeners++};t.prototype.removeEventListener=function(t){var e=this.getEventListenerIndex(t);if(e===-1)return;this.listeners.splice(e,1);if(e<=this.index)this.index--;this.numListeners--};t.prototype.dispatchEvent=function(t){var e=this.numListeners;for(this.index=0;this.index<e&&this.index<this.numListeners;this.index++)this.listeners[this.index](t)};t.prototype.getEventListenerIndex=function(t){for(var e=0;e<this.numListeners;e++)if(t==this.listeners[e])return e;return-1};return t}();r.ListenerObject=a;Object.defineProperty(r,"__esModule",{value:true});r.default=i},{}],"awayjs-core/lib/events/IEventDispatcher":[function(t,e,r){"use strict"},{}],"awayjs-core/lib/events/LoaderEvent":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../events/EventBase");var s=function(t){i(e,t);function e(e,r,i,a){if(r===void 0){r=null}if(i===void 0){i=null}if(a===void 0){a=null}t.call(this,e);this._url=r;this._content=i;this._assets=a}Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"assets",{get:function(){return this._assets},enumerable:true,configurable:true});e.prototype.clone=function(){return new e(this.type,this._url,this._content,this._assets)};e.LOAD_COMPLETE="loadComplete";return e}(a.EventBase);r.LoaderEvent=s},{"../events/EventBase":"awayjs-core/lib/events/EventBase"}],"awayjs-core/lib/events/ParserEvent":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../events/EventBase");var s=function(t){i(e,t);function e(e,r){if(r===void 0){r=""}t.call(this,e);this._message=r}Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:true,configurable:true});e.prototype.clone=function(){return new e(this.type,this._message)};e.PARSE_COMPLETE="parseComplete";e.PARSE_ERROR="parseError";e.READY_FOR_DEPENDENCIES="readyForDependencies";return e}(a.EventBase);r.ParserEvent=s},{"../events/EventBase":"awayjs-core/lib/events/EventBase"}],"awayjs-core/lib/events/ProjectionEvent":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../events/EventBase");var s=function(t){i(e,t);function e(e,r){t.call(this,e);this._projection=r}Object.defineProperty(e.prototype,"projection",{get:function(){return this._projection},enumerable:true,configurable:true});e.MATRIX_CHANGED="matrixChanged";return e}(a.EventBase);r.ProjectionEvent=s},{"../events/EventBase":"awayjs-core/lib/events/EventBase"}],"awayjs-core/lib/events/TimerEvent":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../events/EventBase");var s=function(t){i(e,t);function e(e){t.call(this,e)}e.TIMER="timer";e.TIMER_COMPLETE="timerComplete";return e}(a.EventBase);r.TimerEvent=s;Object.defineProperty(r,"__esModule",{value:true});r.default=s},{"../events/EventBase":"awayjs-core/lib/events/EventBase"}],"awayjs-core/lib/events/URLLoaderEvent":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../events/EventBase");var s=function(t){i(e,t);function e(e,r){t.call(this,e);this._urlLoader=r}Object.defineProperty(e.prototype,"urlLoader",{get:function(){return this._urlLoader},enumerable:true,configurable:true});e.prototype.clone=function(){return new e(this.type,this._urlLoader)};e.HTTP_STATUS="httpStatus";e.LOAD_ERROR="loadError";e.LOAD_PROGRESS="loadProgress";e.LOAD_START="loadStart";e.LOAD_COMPLETE="loadComplete";return e}(a.EventBase);r.URLLoaderEvent=s},{"../events/EventBase":"awayjs-core/lib/events/EventBase"}],"awayjs-core/lib/events":[function(t,e,r){"use strict";var i=t("./events/AssetEvent");r.AssetEvent=i.AssetEvent;var a=t("./events/EventBase");r.EventBase=a.EventBase;var s=t("./events/EventDispatcher");r.EventDispatcher=s.EventDispatcher;var n=t("./events/LoaderEvent");r.LoaderEvent=n.LoaderEvent;var o=t("./events/ParserEvent");r.ParserEvent=o.ParserEvent;var h=t("./events/ProjectionEvent");r.ProjectionEvent=h.ProjectionEvent;var u=t("./events/TimerEvent");r.TimerEvent=u.TimerEvent;var c=t("./events/URLLoaderEvent");r.URLLoaderEvent=c.URLLoaderEvent},{"./events/AssetEvent":"awayjs-core/lib/events/AssetEvent","./events/EventBase":"awayjs-core/lib/events/EventBase","./events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher","./events/LoaderEvent":"awayjs-core/lib/events/LoaderEvent","./events/ParserEvent":"awayjs-core/lib/events/ParserEvent","./events/ProjectionEvent":"awayjs-core/lib/events/ProjectionEvent","./events/TimerEvent":"awayjs-core/lib/events/TimerEvent",
"./events/URLLoaderEvent":"awayjs-core/lib/events/URLLoaderEvent"}],"awayjs-core/lib/geom/Box":[function(t,e,r){"use strict";var i=t("../geom/Vector3D");var a=function(){function t(t,e,r,i,a,s){if(t===void 0){t=0}if(e===void 0){e=0}if(r===void 0){r=0}if(i===void 0){i=0}if(a===void 0){a=0}if(s===void 0){s=0}this.x=t;this.y=e;this.z=r;this.width=i;this.height=a;this.depth=s}Object.defineProperty(t.prototype,"back",{get:function(){return this.z+this.depth},set:function(t){this.depth=t-this.z},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){this.height=t-this.y},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"bottomRightBack",{get:function(){if(this._bottomRightBack==null)this._bottomRightBack=new i.Vector3D;this._bottomRightBack.x=this.x+this.width;this._bottomRightBack.y=this.y+this.height;this._bottomRightBack.z=this.z+this.depth;return this._bottomRightBack},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"front",{get:function(){return this.z},set:function(t){this.depth+=this.z-t;this.z=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"left",{get:function(){return this.x},set:function(t){this.width+=this.x-t;this.x=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},set:function(t){this.width=t-this.x},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"size",{get:function(){if(this._size==null)this._size=new i.Vector3D;this._size.x=this.width;this._size.y=this.height;this._size.z=this.depth;return this._size},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"top",{get:function(){return this.y},set:function(t){this.height+=this.y-t;this.y=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"topLeftFront",{get:function(){if(this._topLeftFront==null)this._topLeftFront=new i.Vector3D;this._topLeftFront.x=this.x;this._topLeftFront.y=this.y;this._topLeftFront.z=this.z;return this._topLeftFront},enumerable:true,configurable:true});t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.width,this.height,this.depth)};t.prototype.contains=function(t,e,r){return this.x<=t&&this.x+this.width>=t&&this.y<=e&&this.y+this.height>=e&&this.z<=r&&this.z+this.depth>=r};t.prototype.containsPoint=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y&&this.z<=t.z&&this.z+this.depth>=t.z};t.prototype.containsBox=function(t){return this.x<=t.x&&this.x+this.width>=t.x+t.width&&this.y<=t.y&&this.y+this.height>=t.y+t.height&&this.z<=t.z&&this.z+this.depth>=t.z+t.depth};t.prototype.copyFrom=function(t){this.x=t.x;this.y=t.y;this.z=t.z;this.width=t.width;this.height=t.height;this.depth=t.depth};t.prototype.equals=function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z&&this.width==t.width&&this.height==t.height&&this.depth==t.depth};t.prototype.inflate=function(t,e,r){this.x-=t/2;this.y-=e/2;this.z-=r/2;this.width+=t/2;this.height+=e/2;this.depth+=r/2};t.prototype.inflatePoint=function(t){this.x-=t.x/2;this.y-=t.y/2;this.z-=t.z/2;this.width+=t.x/2;this.height+=t.y/2;this.depth+=t.z/2};t.prototype.intersection=function(e){if(this.intersects(e)){var r=new t;if(this.x>e.x){r.x=this.x;r.width=e.x-this.x+e.width;if(r.width>this.width)r.width=this.width}else{r.x=e.x;r.width=this.x-e.x+this.width;if(r.width>e.width)r.width=e.width}if(this.y>e.y){r.y=this.y;r.height=e.y-this.y+e.height;if(r.height>this.height)r.height=this.height}else{r.y=e.y;r.height=this.y-e.y+this.height;if(r.height>e.height)r.height=e.height}if(this.z>e.z){r.z=this.z;r.depth=e.z-this.z+e.depth;if(r.depth>this.depth)r.depth=this.depth}else{r.z=e.z;r.depth=this.z-e.z+this.depth;if(r.depth>e.depth)r.depth=e.depth}return r}return new t};t.prototype.intersects=function(t){return this.x+this.width>t.x&&this.x<t.x+t.width&&this.y+this.height>t.y&&this.y<t.y+t.height&&this.z+this.depth>t.z&&this.z<t.z+t.depth};t.prototype.rayIntersection=function(t,e,r){if(this.containsPoint(t))return 0;var i=this.width/2;var a=this.height/2;var s=this.depth/2;var n=this.x+i;var o=this.y+a;var h=this.z+s;var u=t.x-n;var c=t.y-o;var l=t.z-h;var p=e.x;var f=e.y;var y=e.z;var d;var _;var v;var g;var m;if(p<0){g=(i-u)/p;if(g>0){_=c+g*f;v=l+g*y;if(_>-a&&_<a&&v>-s&&v<s){r.x=1;r.y=0;r.z=0;m=true}}}if(!m&&p>0){g=(-i-u)/p;if(g>0){_=c+g*f;v=l+g*y;if(_>-a&&_<a&&v>-s&&v<s){r.x=-1;r.y=0;r.z=0;m=true}}}if(!m&&f<0){g=(a-c)/f;if(g>0){d=u+g*p;v=l+g*y;if(d>-i&&d<i&&v>-s&&v<s){r.x=0;r.y=1;r.z=0;m=true}}}if(!m&&f>0){g=(-a-c)/f;if(g>0){d=u+g*p;v=l+g*y;if(d>-i&&d<i&&v>-s&&v<s){r.x=0;r.y=-1;r.z=0;m=true}}}if(!m&&y<0){g=(s-l)/y;if(g>0){d=u+g*p;_=c+g*f;if(_>-a&&_<a&&d>-i&&d<i){r.x=0;r.y=0;r.z=1;m=true}}}if(!m&&y>0){g=(-s-l)/y;if(g>0){d=u+g*p;_=c+g*f;if(_>-a&&_<a&&d>-i&&d<i){r.x=0;r.y=0;r.z=-1;m=true}}}return m?g:-1};t.prototype.closestPointToPoint=function(t,e){if(e===void 0){e=null}var r;if(e==null)e=new i.Vector3D;r=t.x;if(r<this.x)r=this.x;if(r>this.x+this.width)r=this.x+this.width;e.x=r;r=t.y;if(r<this.y+this.height)r=this.y+this.height;if(r>this.y)r=this.y;e.y=r;r=t.z;if(r<this.z)r=this.z;if(r>this.z+this.depth)r=this.z+this.depth;e.z=r;return e};t.prototype.isEmpty=function(){return this.x==0&&this.y==0&&this.z==0&&this.width==0&&this.height==0&&this.depth==0};t.prototype.offset=function(t,e,r){this.x+=t;this.y+=e;this.z+=r};t.prototype.offsetPosition=function(t){this.x+=t.x;this.y+=t.y;this.z+=t.z};t.prototype.setEmpty=function(){this.x=0;this.y=0;this.z=0;this.width=0;this.height=0;this.depth=0};t.prototype.setBoundIdentity=function(){this.x=Number.MAX_VALUE/2;this.y=Number.MAX_VALUE/2;this.z=Number.MAX_VALUE/2;this.width=-Number.MAX_VALUE;this.height=-Number.MAX_VALUE;this.depth=-Number.MAX_VALUE};t.prototype.setTo=function(t,e,r,i,a,s){this.x=t;this.y=e;this.z=r;this.width=i;this.height=a;this.depth=s};t.prototype.toString=function(){return"[Box] (x="+this.x+", y="+this.y+", z="+this.z+", width="+this.width+", height="+this.height+", depth="+this.depth+")"};t.prototype.union=function(e,r){if(r===void 0){r=null}var i;var a;var s;if(r==null)r=new t;if(this.x<e.x){i=e.x-this.x+e.width;r.x=this.x;r.width=i<this.width?this.width:i}else{i=this.x-e.x+this.width;r.x=e.x;r.width=i<e.width?e.width:i}if(this.y<e.y){a=e.y-this.y+e.height;r.y=this.y;r.height=a<this.height?this.height:a}else{a=this.y-e.y+this.height;r.y=e.y;r.height=a<e.height?e.height:a}if(this.z<e.z){s=e.z-this.z+e.depth;r.z=this.z;r.depth=s<this.depth?this.depth:s}else{s=this.z-e.z+this.depth;r.z=e.z;r.depth=s<e.depth?e.depth:s}return r};return t}();r.Box=a},{"../geom/Vector3D":"awayjs-core/lib/geom/Vector3D"}],"awayjs-core/lib/geom/ColorTransform":[function(t,e,r){"use strict";var i=t("../utils/ColorUtils");var a=function(){function t(t,e,r,i,a,s,n,o){if(t===void 0){t=1}if(e===void 0){e=1}if(r===void 0){r=1}if(i===void 0){i=1}if(a===void 0){a=0}if(s===void 0){s=0}if(n===void 0){n=0}if(o===void 0){o=0}this.rawData=new Float32Array(8);if(t instanceof Float32Array){this.copyRawDataFrom(t)}else{this.redMultiplier=Number(t);this.greenMultiplier=e;this.blueMultiplier=r;this.alphaMultiplier=i;this.redOffset=a;this.greenOffset=s;this.blueOffset=n;this.alphaOffset=o}}Object.defineProperty(t.prototype,"alphaMultiplier",{get:function(){return this.rawData[3]},set:function(t){this.rawData[3]=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"alphaOffset",{get:function(){return this.rawData[7]*255},set:function(t){this.rawData[7]=t/255},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"blueMultiplier",{get:function(){return this.rawData[2]},set:function(t){this.rawData[2]=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"blueOffset",{get:function(){return this.rawData[6]*255},set:function(t){this.rawData[6]=t/255},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"greenMultiplier",{get:function(){return this.rawData[1]},set:function(t){this.rawData[1]=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"greenOffset",{get:function(){return this.rawData[5]*255},set:function(t){this.rawData[5]=t/255},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"redMultiplier",{get:function(){return this.rawData[0]},set:function(t){this.rawData[0]=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"redOffset",{get:function(){return this.rawData[4]*255},set:function(t){this.rawData[4]=t/255},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"color",{get:function(){return this.rawData[0]<<16|this.rawData[1]<<8|this.rawData[2]},set:function(t){var e=i.ColorUtils.float32ColorToARGB(t);this.rawData[4]=e[1];this.rawData[5]=e[2];this.rawData[6]=e[3];this.rawData[0]=0;this.rawData[1]=0;this.rawData[2]=0},enumerable:true,configurable:true});t.prototype.copyRawDataFrom=function(t,e){if(e===void 0){e=0}for(var r=0;r<8;r++)this.rawData[r]=t[r+e]};t.prototype.clear=function(){this.rawData[0]=1;this.rawData[1]=1;this.rawData[2]=1;this.rawData[3]=1;this.rawData[4]=0;this.rawData[5]=0;this.rawData[6]=0;this.rawData[7]=0};t.prototype.clone=function(){return new t(this.rawData)};t.prototype.copyFrom=function(t){for(var e=0;e<8;e++)this.rawData[e]=t.rawData[e]};t.prototype.copyTo=function(t){t.copyFrom(this)};t.prototype.prepend=function(t){this.rawData[4]+=t.rawData[4]*this.rawData[0];this.rawData[5]+=t.rawData[5]*this.rawData[1];this.rawData[6]+=t.rawData[6]*this.rawData[2];this.rawData[7]+=t.rawData[7]*this.rawData[3];this.redMultiplier*=t.redMultiplier;this.greenMultiplier*=t.greenMultiplier;this.blueMultiplier*=t.blueMultiplier;this.alphaMultiplier*=t.alphaMultiplier};t.prototype._isRenderable=function(){return this.rawData[3]!=0||this.rawData[7]>0};return t}();r.ColorTransform=a},{"../utils/ColorUtils":"awayjs-core/lib/utils/ColorUtils"}],"awayjs-core/lib/geom/MathConsts":[function(t,e,r){"use strict";var i=function(){function t(){}t.RADIANS_TO_DEGREES=180/Math.PI;t.DEGREES_TO_RADIANS=Math.PI/180;return t}();r.MathConsts=i},{}],"awayjs-core/lib/geom/Matrix3DUtils":[function(t,e,r){"use strict";var i=t("../geom/Matrix3D");var a=t("../geom/Vector3D");var s=function(){function t(){}t.quaternion2matrix=function(e,r){if(r===void 0){r=null}var a=e.x;var s=e.y;var n=e.z;var o=e.w;var h=a*a;var u=a*s;var c=a*n;var l=a*o;var p=s*s;var f=s*n;var y=s*o;var d=n*n;var _=n*o;var v=t.RAW_DATA_CONTAINER;v[0]=1-2*(p+d);v[1]=2*(u+_);v[2]=2*(c-y);v[4]=2*(u-_);v[5]=1-2*(h+d);v[6]=2*(f+l);v[8]=2*(c+y);v[9]=2*(f-l);v[10]=1-2*(h+p);v[3]=v[7]=v[11]=v[12]=v[13]=v[14]=0;v[15]=1;if(r){r.copyRawDataFrom(v);return r}else return new i.Matrix3D(v)};t.getForward=function(t,e){if(e===void 0){e=null}if(e===null)e=new a.Vector3D(0,0,0);t.copyColumnTo(2,e);e.normalize();return e};t.getUp=function(t,e){if(e===void 0){e=null}if(e===null)e=new a.Vector3D(0,0,0);t.copyColumnTo(1,e);e.normalize();return e};t.getRight=function(t,e){if(e===void 0){e=null}if(e===null){e=new a.Vector3D(0,0,0)}t.copyColumnTo(0,e);e.normalize();return e};t.compare=function(e,r){var i=t.RAW_DATA_CONTAINER;var a=r.rawData;e.copyRawDataTo(i);for(var s=0;s<16;++s){if(i[s]!=a[s])return false}return true};t.lookAt=function(e,r,i,a){var s;var n;var o;var h=t.RAW_DATA_CONTAINER;o=i.crossProduct(a);o.normalize();n=o.crossProduct(i);n.normalize();s=i.clone();s.normalize();h[0]=o.x;h[1]=n.x;h[2]=-s.x;h[3]=0;h[4]=o.y;h[5]=n.y;h[6]=-s.y;h[7]=0;h[8]=o.z;h[9]=n.z;h[10]=-s.z;h[11]=0;h[12]=-o.dotProduct(r);h[13]=-n.dotProduct(r);h[14]=s.dotProduct(r);h[15]=1;e.copyRawDataFrom(h)};t.reflection=function(e,r){if(r===void 0){r=null}if(r===null)r=new i.Matrix3D;var a=e.a,s=e.b,n=e.c,o=e.d;var h=t.RAW_DATA_CONTAINER;var u=-2*a*s;var c=-2*a*n;var l=-2*s*n;h[0]=1-2*a*a;h[4]=u;h[8]=c;h[12]=-2*a*o;h[1]=u;h[5]=1-2*s*s;h[9]=l;h[13]=-2*s*o;h[2]=c;h[6]=l;h[10]=1-2*n*n;h[14]=-2*n*o;h[3]=0;h[7]=0;h[11]=0;h[15]=1;r.copyRawDataFrom(h);return r};t.transformVector=function(e,r,i){if(i===void 0){i=null}if(!i)i=new a.Vector3D;var s=t.RAW_DATA_CONTAINER;e.copyRawDataTo(s);var n=s[0];var o=s[1];var h=s[2];var u=s[3];var c=s[4];var l=s[5];var p=s[6];var f=s[7];var y=s[8];var d=s[9];var _=s[10];var v=s[11];var g=s[12];var m=s[13];var b=s[14];var w=s[15];var D=r.x;var A=r.y;var E=r.z;i.x=n*D+c*A+y*E+g;i.y=o*D+l*A+d*E+m;i.z=h*D+p*A+_*E+b;i.w=u*D+f*A+v*E+w;return i};t.deltaTransformVector=function(e,r,i){if(i===void 0){i=null}if(!i)i=new a.Vector3D;var s=t.RAW_DATA_CONTAINER;e.copyRawDataTo(s);var n=s[0];var o=s[1];var h=s[2];var u=s[3];var c=s[4];var l=s[5];var p=s[6];var f=s[7];var y=s[8];var d=s[9];var _=s[10];var v=s[11];var g=r.x;var m=r.y;var b=r.z;i.x=n*g+c*m+y*b;i.y=o*g+l*m+d*b;i.z=h*g+p*m+_*b;i.w=u*g+f*m+v*b;return i};t.getTranslation=function(t,e){if(e===void 0){e=null}if(!e)e=new a.Vector3D;t.copyColumnTo(3,e);return e};t.deltaTransformVectors=function(e,r,i){var a=t.RAW_DATA_CONTAINER;e.copyRawDataTo(a);var s=a[0];var n=a[1];var o=a[2];var h=a[3];var u=a[4];var c=a[5];var l=a[6];var p=a[7];var f=a[8];var y=a[9];var d=a[10];var _=a[11];var v=0;var g=r.length;for(var m=0;m<g;m+=3){var b=r[m];var w=r[m+1];var D=r[m+2];i[v++]=s*b+u*w+f*D;i[v++]=n*b+c*w+y*D;i[v++]=o*b+l*w+d*D}};t.RAW_DATA_CONTAINER=new Float32Array(16);t.CALCULATION_MATRIX=new i.Matrix3D;return t}();r.Matrix3DUtils=s},{"../geom/Matrix3D":"awayjs-core/lib/geom/Matrix3D","../geom/Vector3D":"awayjs-core/lib/geom/Vector3D"}],"awayjs-core/lib/geom/Matrix3D":[function(t,e,r){"use strict";var i=t("../geom/Box");var a=t("../geom/MathConsts");var s=t("../geom/Orientation3D");var n=t("../geom/Vector3D");var o=t("../errors/ArgumentError");var h=function(){function t(t){if(t===void 0){t=null}this.rawData=new Float32Array(16);this._position=new n.Vector3D;this._positionDirty=true;if(t!=null&&t.length==16){this.copyRawDataFrom(t)}else{this.identity()}}t.prototype.append=function(t){var e=t.rawData;var r=this.rawData[0];var i=this.rawData[1];var a=this.rawData[2];var s=this.rawData[3];var n=this.rawData[4];var o=this.rawData[5];var h=this.rawData[6];var u=this.rawData[7];var c=this.rawData[8];var l=this.rawData[9];var p=this.rawData[10];var f=this.rawData[11];var y=this.rawData[12];var d=this.rawData[13];var _=this.rawData[14];var v=this.rawData[15];var g=e[0];var m=e[1];var b=e[2];var w=e[3];var D=e[4];var A=e[5];var E=e[6];var x=e[7];var P=e[8];var j=e[9];var R=e[10];var C=e[11];var L=e[12];var O=e[13];var I=e[14];var B=e[15];this.rawData[0]=r*g+i*D+a*P+s*L;this.rawData[1]=r*m+i*A+a*j+s*O;this.rawData[2]=r*b+i*E+a*R+s*I;this.rawData[3]=r*w+i*x+a*C+s*B;this.rawData[4]=n*g+o*D+h*P+u*L;this.rawData[5]=n*m+o*A+h*j+u*O;this.rawData[6]=n*b+o*E+h*R+u*I;this.rawData[7]=n*w+o*x+h*C+u*B;this.rawData[8]=c*g+l*D+p*P+f*L;this.rawData[9]=c*m+l*A+p*j+f*O;this.rawData[10]=c*b+l*E+p*R+f*I;this.rawData[11]=c*w+l*x+p*C+f*B;this.rawData[12]=y*g+d*D+_*P+v*L;this.rawData[13]=y*m+d*A+_*j+v*O;this.rawData[14]=y*b+d*E+_*R+v*I;this.rawData[15]=y*w+d*x+_*C+v*B;this._positionDirty=true};t.prototype.appendRotation=function(e,r){this.append(t.getAxisRotation(r.x,r.y,r.z,e))};t.prototype.appendSkew=function(e,r,i){if(e==0&&r==0&&i==0)return;var a=t.tempRawData;a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=e;a[5]=1;a[6]=0;a[7]=0;a[8]=r;a[9]=i;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;this.append(t.tempMatrix)};t.prototype.appendScale=function(e,r,i){if(e==1&&r==1&&i==1)return;var a=t.tempRawData;a[0]=e;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=r;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=i;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;this.append(t.tempMatrix)};t.prototype.appendTranslation=function(t,e,r){this.rawData[12]+=t;this.rawData[13]+=e;this.rawData[14]+=r;this._positionDirty=true};t.prototype.clone=function(){return new t(this.rawData)};t.prototype.copyColumnFrom=function(t,e){switch(t){case 0:this.rawData[0]=e.x;this.rawData[1]=e.y;this.rawData[2]=e.z;this.rawData[3]=e.w;break;case 1:this.rawData[4]=e.x;this.rawData[5]=e.y;this.rawData[6]=e.z;this.rawData[7]=e.w;break;case 2:this.rawData[8]=e.x;this.rawData[9]=e.y;this.rawData[10]=e.z;this.rawData[11]=e.w;break;case 3:this.rawData[12]=e.x;this.rawData[13]=e.y;this.rawData[14]=e.z;this.rawData[15]=e.w;break;default:throw new o.ArgumentError("ArgumentError, Column "+t+" out of bounds [0, ..., 3]")}};t.prototype.copyColumnTo=function(t,e){switch(t){case 0:e.x=this.rawData[0];e.y=this.rawData[1];e.z=this.rawData[2];e.w=this.rawData[3];break;case 1:e.x=this.rawData[4];e.y=this.rawData[5];e.z=this.rawData[6];e.w=this.rawData[7];break;case 2:e.x=this.rawData[8];e.y=this.rawData[9];e.z=this.rawData[10];e.w=this.rawData[11];break;case 3:e.x=this.rawData[12];e.y=this.rawData[13];e.z=this.rawData[14];e.w=this.rawData[15];break;default:throw new o.ArgumentError("ArgumentError, Column "+t+" out of bounds [0, ..., 3]")}};t.prototype.copyFrom=function(t){var e=t.rawData;var r=e.length;for(var i=0;i<r;i++)this.rawData[i]=e[i]};t.prototype.copyTo=function(t){var e=t.rawData;var r=this.rawData.length;for(var i=0;i<r;i++)e[i]=this.rawData[i]};t.prototype.copyRawDataFrom=function(t,e,r){if(e===void 0){e=0}if(r===void 0){r=false}if(r)this.transpose();var i=t.length-e;for(var a=0;a<i;a++)this.rawData[a]=t[a+e];if(r)this.transpose()};t.prototype.copyRawDataTo=function(t,e,r){if(e===void 0){e=0}if(r===void 0){r=false}if(r)this.transpose();var i=this.rawData.length;for(var a=0;a<i;a++)t[a+e]=this.rawData[a];if(r)this.transpose()};t.prototype.copyRowFrom=function(t,e){switch(t){case 0:this.rawData[0]=e.x;this.rawData[4]=e.y;this.rawData[8]=e.z;this.rawData[12]=e.w;break;case 1:this.rawData[1]=e.x;this.rawData[5]=e.y;this.rawData[9]=e.z;this.rawData[13]=e.w;break;case 2:this.rawData[2]=e.x;this.rawData[6]=e.y;this.rawData[10]=e.z;this.rawData[14]=e.w;break;case 3:this.rawData[3]=e.x;this.rawData[7]=e.y;this.rawData[11]=e.z;this.rawData[15]=e.w;break;default:throw new o.ArgumentError("ArgumentError, Row "+t+" out of bounds [0, ..., 3]")}};t.prototype.copyRowTo=function(t,e){switch(t){case 0:e.x=this.rawData[0];e.y=this.rawData[4];e.z=this.rawData[8];e.w=this.rawData[12];break;case 1:e.x=this.rawData[1];e.y=this.rawData[5];e.z=this.rawData[9];e.w=this.rawData[13];break;case 2:e.x=this.rawData[2];e.y=this.rawData[6];e.z=this.rawData[10];e.w=this.rawData[14];break;case 3:e.x=this.rawData[3];e.y=this.rawData[7];e.z=this.rawData[11];e.w=this.rawData[15];break;default:throw new o.ArgumentError("ArgumentError, Row "+t+" out of bounds [0, ..., 3]")}};t.prototype.decompose=function(t){if(t===void 0){t="eulerAngles"}var e;if(this._components==null)this._components=[null,new n.Vector3D,new n.Vector3D,new n.Vector3D];var r=new n.Vector3D(this.rawData[0],this.rawData[1],this.rawData[2]);var i=new n.Vector3D(this.rawData[4],this.rawData[5],this.rawData[6]);var a=new n.Vector3D(this.rawData[8],this.rawData[9],this.rawData[10]);var o=this._components[3];var h=this._components[2];o.x=r.length;r.scaleBy(1/o.x);h.x=r.dotProduct(i);i=n.Vector3D.combine(i,r,1,-h.x);o.y=i.length;i.scaleBy(1/o.y);h.x/=o.y;h.y=r.dotProduct(a);a=n.Vector3D.combine(a,r,1,-h.y);h.z=i.dotProduct(a);a=n.Vector3D.combine(a,i,1,-h.z);o.z=a.length;a.scaleBy(1/o.z);h.y/=o.z;h.z/=o.z;if(r.dotProduct(i.crossProduct(a))<0){o.z=-o.z;a.x=-a.x;a.y=-a.y;a.z=-a.z}var u=this._components[1];switch(t){case s.Orientation3D.AXIS_ANGLE:u.w=Math.acos((r.x+i.y+a.z-1)/2);var c=Math.sqrt((i.z-a.y)*(i.z-a.y)+(a.x-r.z)*(a.x-r.z)+(r.y-i.x)*(r.y-i.x));u.x=(i.z-a.y)/c;u.y=(a.x-r.z)/c;u.z=(r.y-i.x)/c;break;case s.Orientation3D.QUATERNION:var l=r.x+i.y+a.z;if(l>0){u.w=Math.sqrt(1+l)/2;u.x=(i.z-a.y)/(4*u.w);u.y=(a.x-r.z)/(4*u.w);u.z=(r.y-i.x)/(4*u.w)}else if(r.x>i.y&&r.x>a.z){u.x=Math.sqrt(1+r.x-i.y-a.z)/2;u.w=(i.z-a.y)/(4*u.x);u.y=(r.y+i.x)/(4*u.x);u.z=(a.x+r.z)/(4*u.x)}else if(i.y>a.z){u.y=Math.sqrt(1+i.y-r.x-a.z)/2;u.x=(r.y+i.x)/(4*u.y);u.w=(a.x-r.z)/(4*u.y);u.z=(i.z+a.y)/(4*u.y)}else{u.z=Math.sqrt(1+a.z-r.x-i.y)/2;u.x=(a.x+r.z)/(4*u.z);u.y=(i.z+a.y)/(4*u.z);u.w=(r.y-i.x)/(4*u.z)}break;case s.Orientation3D.EULER_ANGLES:u.y=Math.asin(-r.z);if(r.z!=1&&r.z!=-1){u.x=Math.atan2(i.z,a.z);u.z=Math.atan2(r.y,r.x)}else{u.z=0;u.x=Math.atan2(i.x,i.y)}break}this._components[0]=this.position;return this._components};t.prototype.deltaTransformVector=function(t,e){if(e===void 0){e=null}var r=t.x;var i=t.y;var a=t.z;if(!e)e=new n.Vector3D;e.x=r*this.rawData[0]+i*this.rawData[4]+a*this.rawData[8];e.y=r*this.rawData[1]+i*this.rawData[5]+a*this.rawData[9];e.z=r*this.rawData[2]+i*this.rawData[6]+a*this.rawData[10];e.w=r*this.rawData[3]+i*this.rawData[7]+a*this.rawData[11];return e};t.prototype.identity=function(){this.rawData[0]=1;this.rawData[1]=0;this.rawData[2]=0;this.rawData[3]=0;this.rawData[4]=0;this.rawData[5]=1;this.rawData[6]=0;this.rawData[7]=0;this.rawData[8]=0;this.rawData[9]=0;this.rawData[10]=1;this.rawData[11]=0;this.rawData[12]=0;this.rawData[13]=0;this.rawData[14]=0;this.rawData[15]=1;this._positionDirty=true};t.interpolate=function(e,r,i){var a=new t;for(var s=0;s<16;++s)a.rawData[s]=e.rawData[s]+(r.rawData[s]-e.rawData[s])*i;return a};t.prototype.interpolateTo=function(t,e){for(var r=0;r<16;++r)this.rawData[r]=this.rawData[r]+(t.rawData[r]-this.rawData[r])*e};t.prototype.invert=function(){var t=this.determinant;var e=Math.abs(t)>1e-11;if(e){t=1/t;var r=this.rawData[0];var i=this.rawData[1];var a=this.rawData[2];var s=this.rawData[3];var n=this.rawData[4];var o=this.rawData[5];var h=this.rawData[6];var u=this.rawData[7];var c=this.rawData[8];var l=this.rawData[9];var p=this.rawData[10];var f=this.rawData[11];var y=this.rawData[12];var d=this.rawData[13];var _=this.rawData[14];var v=this.rawData[15];this.rawData[0]=t*(o*(p*v-_*f)-l*(h*v-_*u)+d*(h*f-p*u));this.rawData[1]=-t*(i*(p*v-_*f)-l*(a*v-_*s)+d*(a*f-p*s));this.rawData[2]=t*(i*(h*v-_*u)-o*(a*v-_*s)+d*(a*u-h*s));this.rawData[3]=-t*(i*(h*f-p*u)-o*(a*f-p*s)+l*(a*u-h*s));this.rawData[4]=-t*(n*(p*v-_*f)-c*(h*v-_*u)+y*(h*f-p*u));this.rawData[5]=t*(r*(p*v-_*f)-c*(a*v-_*s)+y*(a*f-p*s));this.rawData[6]=-t*(r*(h*v-_*u)-n*(a*v-_*s)+y*(a*u-h*s));this.rawData[7]=t*(r*(h*f-p*u)-n*(a*f-p*s)+c*(a*u-h*s));this.rawData[8]=t*(n*(l*v-d*f)-c*(o*v-d*u)+y*(o*f-l*u));this.rawData[9]=-t*(r*(l*v-d*f)-c*(i*v-d*s)+y*(i*f-l*s));this.rawData[10]=t*(r*(o*v-d*u)-n*(i*v-d*s)+y*(i*u-o*s));this.rawData[11]=-t*(r*(o*f-l*u)-n*(i*f-l*s)+c*(i*u-o*s));this.rawData[12]=-t*(n*(l*_-d*p)-c*(o*_-d*h)+y*(o*p-l*h));this.rawData[13]=t*(r*(l*_-d*p)-c*(i*_-d*a)+y*(i*p-l*a));this.rawData[14]=-t*(r*(o*_-d*h)-n*(i*_-d*a)+y*(i*h-o*a));this.rawData[15]=t*(r*(o*p-l*h)-n*(i*p-l*a)+c*(i*h-o*a))}this._positionDirty=true;return e};t.prototype.prepend=function(t){var e=t.rawData[0];var r=t.rawData[1];var i=t.rawData[2];var a=t.rawData[3];var s=t.rawData[4];var n=t.rawData[5];var o=t.rawData[6];var h=t.rawData[7];var u=t.rawData[8];var c=t.rawData[9];var l=t.rawData[10];var p=t.rawData[11];var f=t.rawData[12];var y=t.rawData[13];var d=t.rawData[14];var _=t.rawData[15];var v=this.rawData[0];var g=this.rawData[1];var m=this.rawData[2];var b=this.rawData[3];var w=this.rawData[4];var D=this.rawData[5];var A=this.rawData[6];var E=this.rawData[7];var x=this.rawData[8];var P=this.rawData[9];var j=this.rawData[10];var R=this.rawData[11];var C=this.rawData[12];var L=this.rawData[13];var O=this.rawData[14];var I=this.rawData[15];this.rawData[0]=e*v+r*w+i*x+a*C;this.rawData[1]=e*g+r*D+i*P+a*L;this.rawData[2]=e*m+r*A+i*j+a*O;this.rawData[3]=e*b+r*E+i*R+a*I;this.rawData[4]=s*v+n*w+o*x+h*C;this.rawData[5]=s*g+n*D+o*P+h*L;this.rawData[6]=s*m+n*A+o*j+h*O;this.rawData[7]=s*b+n*E+o*R+h*I;this.rawData[8]=u*v+c*w+l*x+p*C;this.rawData[9]=u*g+c*D+l*P+p*L;this.rawData[10]=u*m+c*A+l*j+p*O;this.rawData[11]=u*b+c*E+l*R+p*I;this.rawData[12]=f*v+y*w+d*x+_*C;this.rawData[13]=f*g+y*D+d*P+_*L;this.rawData[14]=f*m+y*A+d*j+_*O;this.rawData[15]=f*b+y*E+d*R+_*I;this._positionDirty=true};t.prototype.prependRotation=function(e,r){var i=t.getAxisRotation(r.x,r.y,r.z,e);this.prepend(i)};t.prototype.prependScale=function(e,r,i){if(e==1&&r==1&&i==1)return;var a=t.tempRawData;a[0]=e;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=r;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=i;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;this.prepend(t.tempMatrix)};t.prototype.prependTranslation=function(e,r,i){var a=t.tempRawData;a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=e;a[13]=r;a[14]=i;a[15]=1;this.prepend(t.tempMatrix)};t.prototype.recompose=function(e){var r=e[0]||this.position;this.identity();var i=e[3];if(i&&(i.x!=1||i.y!=1||i.z!=1))this.appendScale(i.x,i.y,i.z);var a=e[2];if(a&&(a.x!=0||a.y!=0||a.z!=0))this.appendSkew(a.x,a.y,a.z);var s;var n;var o=t.tempRawData;o[12]=0;o[13]=0;o[14]=0;o[15]=0;var h=e[1];if(h){var u=-h.x;if(u!=0){s=Math.sin(u);n=Math.cos(u);o[0]=1;o[1]=0;o[2]=0;o[3]=0;o[4]=0;o[5]=n;o[6]=-s;o[7]=0;o[8]=0;o[9]=s;o[10]=n;o[11]=0;this.append(t.tempMatrix)}u=-h.y;if(u!=0){s=Math.sin(u);n=Math.cos(u);o[0]=n;o[1]=0;o[2]=s;o[3]=0;o[4]=0;o[5]=1;o[6]=0;o[7]=0;o[8]=-s;o[9]=0;o[10]=n;o[11]=0;this.append(t.tempMatrix)}u=-h.z;if(u!=0){s=Math.sin(u);n=Math.cos(u);o[0]=n;o[1]=-s;o[2]=0;o[3]=0;o[4]=s;o[5]=n;o[6]=0;o[7]=0;o[8]=0;o[9]=0;o[10]=1;o[11]=0;this.append(t.tempMatrix)}}this.rawData[12]=r.x;this.rawData[13]=r.y;this.rawData[14]=r.z;if(e[0])this._positionDirty=true;this.rawData[15]=1;return true};t.prototype.transformVector=function(t,e){if(e===void 0){e=null}if(t==null)return e||new n.Vector3D;var r=t.x;var i=t.y;var a=t.z;if(!e)e=new n.Vector3D;e.x=r*this.rawData[0]+i*this.rawData[4]+a*this.rawData[8]+this.rawData[12];e.y=r*this.rawData[1]+i*this.rawData[5]+a*this.rawData[9]+this.rawData[13];e.z=r*this.rawData[2]+i*this.rawData[6]+a*this.rawData[10]+this.rawData[14];e.w=r*this.rawData[3]+i*this.rawData[7]+a*this.rawData[11]+this.rawData[15];return e};t.prototype.transformBox=function(t,e){if(e===void 0){e=null}if(t==null)return e||new i.Box;var r,a,s;var n,o,h;n=t.width+(r=t.x);o=t.height+(a=t.y);h=t.depth+(s=t.z);if(!e)e=new i.Box;e.width=n*this.rawData[0]+o*this.rawData[4]+h*this.rawData[8]+this.rawData[12]-(e.x=r*this.rawData[0]+a*this.rawData[4]+s*this.rawData[8]+this.rawData[12]);e.height=n*this.rawData[1]+o*this.rawData[5]+h*this.rawData[9]+this.rawData[13]-(e.y=r*this.rawData[1]+a*this.rawData[5]+s*this.rawData[9]+this.rawData[13]);e.depth=n*this.rawData[2]+o*this.rawData[6]+h*this.rawData[10]+this.rawData[14]-(e.z=r*this.rawData[2]+a*this.rawData[6]+s*this.rawData[10]+this.rawData[14]);return e};t.prototype.transformVectors=function(t,e){var r=0;var i=0,a=0,s=0;while(r+3<=t.length){i=t[r];a=t[r+1];s=t[r+2];e[r]=i*this.rawData[0]+a*this.rawData[4]+s*this.rawData[8]+this.rawData[12];e[r+1]=i*this.rawData[1]+a*this.rawData[5]+s*this.rawData[9]+this.rawData[13];e[r+2]=i*this.rawData[2]+a*this.rawData[6]+s*this.rawData[10]+this.rawData[14];r+=3}};t.prototype.transpose=function(){var e=t.tempRawData;this.copyRawDataTo(e);this.rawData[1]=e[4];this.rawData[2]=e[8];this.rawData[3]=e[12];this.rawData[4]=e[1];this.rawData[6]=e[9];this.rawData[7]=e[13];this.rawData[8]=e[2];this.rawData[9]=e[6];this.rawData[11]=e[14];this.rawData[12]=e[3];this.rawData[13]=e[7];this.rawData[14]=e[11];this._positionDirty=true};t.getAxisRotation=function(e,r,i,s){var n=new t;var o=s*a.MathConsts.DEGREES_TO_RADIANS;var h=Math.cos(o);var u=Math.sin(o);var c=1-h;var l,p;n.rawData[0]=h+e*e*c;n.rawData[5]=h+r*r*c;n.rawData[10]=h+i*i*c;l=e*r*c;p=i*u;n.rawData[1]=l+p;n.rawData[4]=l-p;l=e*i*c;p=r*u;n.rawData[8]=l+p;n.rawData[2]=l-p;l=r*i*c;p=e*u;n.rawData[9]=l-p;n.rawData[6]=l+p;return n};Object.defineProperty(t.prototype,"determinant",{get:function(){return(this.rawData[0]*this.rawData[5]-this.rawData[4]*this.rawData[1])*(this.rawData[10]*this.rawData[15]-this.rawData[14]*this.rawData[11])-(this.rawData[0]*this.rawData[9]-this.rawData[8]*this.rawData[1])*(this.rawData[6]*this.rawData[15]-this.rawData[14]*this.rawData[7])+(this.rawData[0]*this.rawData[13]-this.rawData[12]*this.rawData[1])*(this.rawData[6]*this.rawData[11]-this.rawData[10]*this.rawData[7])+(this.rawData[4]*this.rawData[9]-this.rawData[8]*this.rawData[5])*(this.rawData[2]*this.rawData[15]-this.rawData[14]*this.rawData[3])-(this.rawData[4]*this.rawData[13]-this.rawData[12]*this.rawData[5])*(this.rawData[2]*this.rawData[11]-this.rawData[10]*this.rawData[3])+(this.rawData[8]*this.rawData[13]-this.rawData[12]*this.rawData[9])*(this.rawData[2]*this.rawData[7]-this.rawData[6]*this.rawData[3])},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"position",{get:function(){if(this._positionDirty){this._positionDirty=false;this._position.x=this.rawData[12];this._position.y=this.rawData[13];this._position.z=this.rawData[14]}return this._position},enumerable:true,configurable:true});t.prototype.invalidatePosition=function(){this._positionDirty=true};t.prototype.toFixed=function(t){var e=Math.pow(10,t);return"matrix3d("+Math.round(this.rawData[0]*e)/e+","+Math.round(this.rawData[1]*e)/e+","+Math.round(this.rawData[2]*e)/e+","+Math.round(this.rawData[3]*e)/e+","+Math.round(this.rawData[4]*e)/e+","+Math.round(this.rawData[5]*e)/e+","+Math.round(this.rawData[6]*e)/e+","+Math.round(this.rawData[7]*e)/e+","+Math.round(this.rawData[8]*e)/e+","+Math.round(this.rawData[9]*e)/e+","+Math.round(this.rawData[10]*e)/e+","+Math.round(this.rawData[11]*e)/e+","+Math.round(this.rawData[12]*e)/e+","+Math.round(this.rawData[13]*e)/e+","+Math.round(this.rawData[14]*e)/e+","+Math.round(this.rawData[15]*e)/e+")"};t.prototype.toString=function(){return"matrix3d("+Math.round(this.rawData[0]*1e3)/1e3+","+Math.round(this.rawData[1]*1e3)/1e3+","+Math.round(this.rawData[2]*1e3)/1e3+","+Math.round(this.rawData[3]*1e3)/1e3+","+Math.round(this.rawData[4]*1e3)/1e3+","+Math.round(this.rawData[5]*1e3)/1e3+","+Math.round(this.rawData[6]*1e3)/1e3+","+Math.round(this.rawData[7]*1e3)/1e3+","+Math.round(this.rawData[8]*1e3)/1e3+","+Math.round(this.rawData[9]*1e3)/1e3+","+Math.round(this.rawData[10]*1e3)/1e3+","+Math.round(this.rawData[11]*1e3)/1e3+","+Math.round(this.rawData[12]*1e3)/1e3+","+Math.round(this.rawData[13]*1e3)/1e3+","+Math.round(this.rawData[14]*1e3)/1e3+","+Math.round(this.rawData[15]*1e3)/1e3+")"};t.tempMatrix=new t;t.tempRawData=t.tempMatrix.rawData;return t}();r.Matrix3D=h},{"../errors/ArgumentError":"awayjs-core/lib/errors/ArgumentError","../geom/Box":"awayjs-core/lib/geom/Box","../geom/MathConsts":"awayjs-core/lib/geom/MathConsts","../geom/Orientation3D":"awayjs-core/lib/geom/Orientation3D","../geom/Vector3D":"awayjs-core/lib/geom/Vector3D"}],"awayjs-core/lib/geom/Matrix":[function(t,e,r){"use strict";var i=t("../geom/Point");var a=t("../errors/ArgumentError");var s=function(){function t(t,e,r,i,a,s){if(t===void 0){t=1}if(e===void 0){e=0}if(r===void 0){r=0}if(i===void 0){i=1}if(a===void 0){a=0}if(s===void 0){s=0}this.rawData=new Float32Array(6);if(t instanceof Float32Array){this.copyRawDataFrom(t)}else{this.a=Number(t);this.b=e;this.c=r;this.d=i;this.tx=a;this.ty=s}}Object.defineProperty(t.prototype,"a",{get:function(){return this.rawData[0]},set:function(t){this.rawData[0]=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"b",{get:function(){return this.rawData[2]},set:function(t){this.rawData[2]=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"c",{get:function(){return this.rawData[1]},set:function(t){this.rawData[1]=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"d",{get:function(){return this.rawData[3]},set:function(t){this.rawData[3]=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"tx",{get:function(){return this.rawData[4]},set:function(t){this.rawData[4]=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"ty",{get:function(){return this.rawData[5]},set:function(t){this.rawData[5]=t},enumerable:true,configurable:true});t.prototype.copyRawDataFrom=function(t,e){if(e===void 0){e=0}for(var r=0;r<6;r++)this.rawData[r]=t[r+e]};t.prototype.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)};t.prototype.concat=function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d;this.a=e;
var r=this.c*t.a+this.d*t.c;this.d=this.c*t.b+this.d*t.d;this.c=r;var i=this.tx*t.a+this.ty*t.c+t.tx;this.ty=this.tx*t.b+this.ty*t.d+t.ty;this.tx=i};t.prototype.copyColumnFrom=function(t,e){if(t>2){throw"Column "+t+" out of bounds (2)"}else if(t==0){this.a=e.x;this.c=e.y}else if(t==1){this.b=e.x;this.d=e.y}else{this.tx=e.x;this.ty=e.y}};t.prototype.copyColumnTo=function(t,e){if(t>2){throw new a.ArgumentError("ArgumentError, Column "+t+" out of bounds [0, ..., 2]")}else if(t==0){e.x=this.a;e.y=this.c;e.z=0}else if(t==1){e.x=this.b;e.y=this.d;e.z=0}else{e.x=this.tx;e.y=this.ty;e.z=1}};t.prototype.copyFrom=function(t){this.a=t.a;this.b=t.b;this.c=t.c;this.d=t.d;this.tx=t.tx;this.ty=t.ty};t.prototype.copyRowFrom=function(t,e){if(t>2){throw new a.ArgumentError("ArgumentError, Row "+t+" out of bounds [0, ..., 2]")}else if(t==0){this.a=e.x;this.c=e.y}else if(t==1){this.b=e.x;this.d=e.y}else{this.tx=e.x;this.ty=e.y}};t.prototype.copyRowTo=function(t,e){if(t>2){throw new a.ArgumentError("ArgumentError, Row "+t+" out of bounds [0, ..., 2]")}else if(t==0){e.x=this.a;e.y=this.b;e.z=this.tx}else if(t==1){e.x=this.c;e.y=this.d;e.z=this.ty}else{e.setTo(0,0,1)}};t.prototype.createBox=function(t,e,r,i,a){if(r===void 0){r=0}if(i===void 0){i=0}if(a===void 0){a=0}this.a=t;this.d=e;this.b=r;this.tx=i;this.ty=a};t.prototype.createGradientBox=function(t,e,r,i,a){if(r===void 0){r=0}if(i===void 0){i=0}if(a===void 0){a=0}this.a=t/1638.4;this.d=e/1638.4;if(r!=0){var s=Math.cos(r);var n=Math.sin(r);this.b=n*this.d;this.c=-n*this.a;this.a*=s;this.d*=s}else{this.b=this.c=0}this.tx=i+t/2;this.ty=a+e/2};t.prototype.deltaTransformPoint=function(t){return new i.Point(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)};t.prototype.identity=function(){this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0};t.prototype.invert=function(){var t=this.a*this.d-this.b*this.c;if(t==0){this.a=this.b=this.c=this.d=0;this.tx=-this.tx;this.ty=-this.ty}else{t=1/t;var e=this.d*t;this.d=this.a*t;this.a=e;this.b*=-t;this.c*=-t;var r=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=r}};t.prototype.multiply=function(e){var r=new t;r.a=this.a*e.a+this.b*e.c;r.b=this.a*e.b+this.b*e.d;r.c=this.c*e.a+this.d*e.c;r.d=this.c*e.b+this.d*e.d;r.tx=this.tx*e.a+this.ty*e.c+e.tx;r.ty=this.tx*e.b+this.ty*e.d+e.ty;return r};t.prototype.rotate=function(t){var e=Math.cos(t);var r=Math.sin(t);var i=this.a*e-this.b*r;this.b=this.a*r+this.b*e;this.a=i;var a=this.c*e-this.d*r;this.d=this.c*r+this.d*e;this.c=a;var s=this.tx*e-this.ty*r;this.ty=this.tx*r+this.ty*e;this.tx=s};t.prototype.scale=function(t,e){this.a*=t;this.b*=e;this.c*=t;this.d*=e;this.tx*=t;this.ty*=e};t.prototype.setTo=function(t,e,r,i,a,s){this.a=t;this.b=e;this.c=r;this.d=i;this.tx=a;this.ty=s};t.prototype.toString=function(){return"[Matrix] (a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"};t.prototype.transformPoint=function(t){return new i.Point(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)};t.prototype.translate=function(t,e){this.tx+=t;this.ty+=e};return t}();r.Matrix=s},{"../errors/ArgumentError":"awayjs-core/lib/errors/ArgumentError","../geom/Point":"awayjs-core/lib/geom/Point"}],"awayjs-core/lib/geom/Orientation3D":[function(t,e,r){"use strict";var i=function(){function t(){}t.AXIS_ANGLE="axisAngle";t.EULER_ANGLES="eulerAngles";t.QUATERNION="quaternion";return t}();r.Orientation3D=i},{}],"awayjs-core/lib/geom/Plane3D":[function(t,e,r){"use strict";var i=t("../geom/PlaneClassification");var a=function(){function t(e,r,i,a){if(e===void 0){e=0}if(r===void 0){r=0}if(i===void 0){i=0}if(a===void 0){a=0}this.a=e;this.b=r;this.c=i;this.d=a;if(e==0&&r==0){this._iAlignment=t.ALIGN_XY_AXIS}else if(r==0&&i==0){this._iAlignment=t.ALIGN_YZ_AXIS}else if(e==0&&i==0){this._iAlignment=t.ALIGN_XZ_AXIS}else{this._iAlignment=t.ALIGN_ANY}}t.prototype.fromPoints=function(e,r,i){var a=r.x-e.x;var s=r.y-e.y;var n=r.z-e.z;var o=i.x-e.x;var h=i.y-e.y;var u=i.z-e.z;this.a=s*u-n*h;this.b=n*o-a*u;this.c=a*h-s*o;this.d=this.a*e.x+this.b*e.y+this.c*e.z;if(this.a==0&&this.b==0){this._iAlignment=t.ALIGN_XY_AXIS}else if(this.b==0&&this.c==0){this._iAlignment=t.ALIGN_YZ_AXIS}else if(this.a==0&&this.c==0){this._iAlignment=t.ALIGN_XZ_AXIS}else{this._iAlignment=t.ALIGN_ANY}};t.prototype.fromNormalAndPoint=function(e,r){this.a=e.x;this.b=e.y;this.c=e.z;this.d=this.a*r.x+this.b*r.y+this.c*r.z;if(this.a==0&&this.b==0){this._iAlignment=t.ALIGN_XY_AXIS}else if(this.b==0&&this.c==0){this._iAlignment=t.ALIGN_YZ_AXIS}else if(this.a==0&&this.c==0){this._iAlignment=t.ALIGN_XZ_AXIS}else{this._iAlignment=t.ALIGN_ANY}};t.prototype.normalize=function(){var t=1/Math.sqrt(this.a*this.a+this.b*this.b+this.c*this.c);this.a*=t;this.b*=t;this.c*=t;this.d*=t;return this};t.prototype.distance=function(e){if(this._iAlignment==t.ALIGN_YZ_AXIS){return this.a*e.x-this.d}else if(this._iAlignment==t.ALIGN_XZ_AXIS){return this.b*e.y-this.d}else if(this._iAlignment==t.ALIGN_XY_AXIS){return this.c*e.z-this.d}else{return this.a*e.x+this.b*e.y+this.c*e.z-this.d}};t.prototype.classifyPoint=function(e,r){if(r===void 0){r=.01}if(this.d!=this.d)return i.PlaneClassification.FRONT;var a;if(this._iAlignment==t.ALIGN_YZ_AXIS)a=this.a*e.x-this.d;else if(this._iAlignment==t.ALIGN_XZ_AXIS)a=this.b*e.y-this.d;else if(this._iAlignment==t.ALIGN_XY_AXIS)a=this.c*e.z-this.d;else a=this.a*e.x+this.b*e.y+this.c*e.z-this.d;if(a<-r)return i.PlaneClassification.BACK;else if(a>r)return i.PlaneClassification.FRONT;else return i.PlaneClassification.INTERSECT};t.prototype.toString=function(){return"Plane3D [a:"+this.a+", b:"+this.b+", c:"+this.c+", d:"+this.d+"]"};t.ALIGN_ANY=0;t.ALIGN_XY_AXIS=1;t.ALIGN_YZ_AXIS=2;t.ALIGN_XZ_AXIS=3;return t}();r.Plane3D=a},{"../geom/PlaneClassification":"awayjs-core/lib/geom/PlaneClassification"}],"awayjs-core/lib/geom/PlaneClassification":[function(t,e,r){"use strict";var i=function(){function t(){}t.BACK=0;t.FRONT=1;t.IN=0;t.OUT=1;t.INTERSECT=2;return t}();r.PlaneClassification=i},{}],"awayjs-core/lib/geom/Point":[function(t,e,r){"use strict";var i=function(){function t(t,e){if(t===void 0){t=0}if(e===void 0){e=0}this.x=t;this.y=e}Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},enumerable:true,configurable:true});t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)};t.prototype.clone=function(){return new t(this.x,this.y)};t.prototype.copyFrom=function(t){};t.prototype.equals=function(t){return this.x==t.x&&this.y==t.y};t.prototype.normalize=function(t){if(t===void 0){t=1}if(this.length!=0){var e=t/this.length;this.x*=e;this.y*=e;return}throw"Cannot divide by zero length."};t.prototype.offset=function(t,e){this.x+=t;this.y+=e};t.prototype.setTo=function(t,e){this.x=t;this.y=e};t.prototype.subtract=function(e){return new t(this.x-e.x,this.y-e.y)};t.prototype.toString=function(){return"[Point] (x="+this.x+", y="+this.y+")"};t.distance=function(t,e){var r=e.x-t.x;var i=e.y-t.y;return Math.sqrt(r*r+i*i)};t.interpolate=function(e,r,i){return new t(r.x+(e.x-r.x)*i,r.y+(e.y-r.y)*i)};t.polar=function(e,r){return new t(e*Math.cos(r),e*Math.sin(r))};return t}();r.Point=i},{}],"awayjs-core/lib/geom/PoissonLookup":[function(t,e,r){"use strict";var i=function(){function t(){}t.initDistributions=function(){this._distributions=new Array;this._distributions[0]=new Array(.3082841,.4320919);this._distributions[1]=new Array(.3082841,.4320919,-.2274942,-.6640266);this._distributions[2]=new Array(.8742689,.0009265686,-.6864116,-.5536607,-.2325206,.7678371);this._distributions[3]=new Array(.3913446,-.7084417,-.7511101,-.5935929,-.2323436,.5320091,.8435315,.5035911);this._distributions[4]=new Array(.2122471,-.5771395,-.8543506,-.1763534,.5189021,.8323698,-.3616908,.5865368,.9523004,-.04948437);this._distributions[5]=new Array(.5791035,.3496495,.2959551,-.6006749,-.2419119,-.06879545,-.7403072,.6110353,-.04555973,.8059174,-.5275017,-.737129);this._distributions[6]=new Array(.06941478,.8519508,-.7441907,.2426432,.6439992,-.2405252,-.1007523,-.2327587,-.6427067,-.7248485,.8050759,.5492936,.3573822,-.8824506);this._distributions[7]=new Array(.8509863,.4452587,-.09507271,.2073005,.1706571,-.6434793,.8029777,-.2718274,-.4401725,.8196304,.2715359,.8598521,-.8121575,-.006447683,-.6486837,-.7237598);this._distributions[8]=new Array(.6951686,-.2680728,-.04933243,.3710589,.6592212,.3661054,-.01579228,-.6909603,-.3275101,-.1756866,.3811549,.9218544,-.216032,.9755028,-.7065172,.3355389,-.6579109,-.6798355);this._distributions[9]=new Array(.6181276,-.09790418,-.2537868,-.5570995,-.1964931,.3459414,.3474613,-.8885581,.5135743,.5753114,-.9549091,.1480672,-.8711916,-.4293123,-.6928071,.6190156,-.13369,.8892705,.0548224,-.1246777);this._distributions[10]=new Array(.4853027,-.5080479,-.1331675,-.506597,.139575,.01316885,.803486,-.07568797,.5240274,.4883182,-.4334005,.1207938,-.7794577,-.3985141,.1576432,-.9861221,-.3712867,.6959021,.1517378,.9847429,-.9762396,.1661073);this._distributions[11]=new Array(-.2790166,-.01252619,.3389016,.3921154,.2408341,-.313211,-.8151779,-.3898362,-.6347761,.3486495,.09471484,-.7722448,-.1385674,.6364574,.2456331,.9295807,-.3864306,-.8247881,.6111673,-.7164014,.8287669,.05466961,.837706,.5415626);this._distributions[12]=new Array(.056417,.3185693,-.8245888,.1882799,.8575996,.1136829,.1070375,.875332,.4076743,-.06000621,-.4311306,.7239349,.2677574,-.538472,-.08486642,-.2083647,-.888989,-.3906443,-.4768958,-.6664082,.09334993,-.9861541,.808736,-.455949,.5889823,.7660807);this._distributions[13]=new Array(-.2681346,-.3955857,-.1315102,-.8852947,-.5143692,.09551838,.4344836,-.546945,-.8620899,-.3813288,.1650431,.02034803,-.1543657,.3842218,-.828457,.5376903,-.6145,-.7818927,-.2639062,.8784655,.1912684,.9720125,.3135219,.5224229,.7850655,.4592297,.7465045,-.1368916);this._distributions[14]=new Array(.4241029,.695281,.150511,-.02304107,-.2482675,.9120338,.8057325,.2622084,-.2445909,.2765962,.8588713,-.1772072,.3117845,-.4385471,-.3923851,-.3298936,-.1751254,-.7405846,.6926506,-.684163,-.9304563,-.3254691,-.8533293,.1523024,.2510415,-.917345,-.6239773,-.7105472,-.6104624,.6041355);this._distributions[15]=new Array(.5844554,.06651045,.1343258,.6756578,.3799674,-.6301104,.5590436,.7940555,.09574714,.02262517,.8697868,.393301,.003945862,-.421735,.9043913,-.2432393,-.4844007,.7190998,-.3201078,.2972371,-.3852352,-.6341155,-.5413069,-.09223081,-.8468984,-.5126905,.004156174,-.8633173,-.9681889,-.03305046,-.846509,.4414353);this._distributions[16]=new Array(.4506488,.657668,.4621297,.07441051,-.2782125,.6201044,.9750003,.09110117,.1019436,.2986514,.03457398,.9631706,.542098,-.5505635,.8675668,.4938077,-.5414361,.2655292,-.7941836,.6003053,-.09847672,-.1001604,-.9316511,-.08572888,.07286467,-.611899,-.5232627,-.4082253,-.5481608,-.827938,-.1551939,-.9621193,.9220031,-.3315949);this._distributions[17]=new Array(.197908,-.4697656,-.4474689,-.3428435,.8529873,-.2228634,.6022478,-.5469642,.2545276,-.931133,-.1507547,-.7855865,-.07606658,.1011628,.3046715,.2785755,.4698432,-.1064076,.6831254,.4152522,.1374381,.8363233,-.2166121,.6682042,.5511393,.7996449,-.4278994,.28836,-.8875198,.2181732,-.8772842,-.2818254,-.7000262,.5762185,-.6062385,-.7439126);this._distributions[18]=new Array(.6645703,-.05678739,.5720971,.4533803,-.07660709,.08802763,.5163431,-.4426552,.1163455,-.3404382,-.4004807,-.5046007,.2932099,-.8201418,-.5322125,.03834766,-.1490209,-.8817304,-.8000439,-.3509448,.5260983,.8421043,.1197811,.6963812,.9498612,.3122156,-.9285746,.02120355,-.6670724,.7217396,.9155889,-.3510147,-.271941,.4727852,.318879,.1634057,-.2686755,.9253026);this._distributions[19]=new Array(.5064292,.422527,.8935515,-.06610427,.1199719,.175568,.403388,-.2003276,.1657927,.8154403,.9301245,.2929218,-.1644068,.6201534,.7113559,-.6589743,-.3364046,-.1799502,.02109996,-.392765,-.382213,.3219992,-.9201946,.1207967,-.726185,.4291916,-.7443482,-.2480059,-.5147594,.7418784,.1935272,-.7406143,-.3643523,-.5559214,-.7147766,-.6326278,-.2524151,-.9096627,.5161405,.7908453);this._distributions[20]=new Array(.7921003,-.3032096,.5992879,-.009052323,.2538549,-.1872749,.7053444,.3677175,.5417761,-.8170255,.9749611,.1210478,.1969143,-.6117041,-.1824499,-.4634196,-.1181338,-.8668742,-.3050112,-.1352596,-.4409327,-.7082354,-.03225285,.1171548,.3113096,.3250439,-.8166144,-.463995,-.01014475,.4715334,-.6868284,.05091889,-.4011163,.2717285,-.06756835,.8307694,-.7938535,.4352129,-.4663842,.7165329,.559729,.8093995);this._distributions[21]=new Array(.07832243,.426151,-.3856795,.5799953,.01970797,.06706189,.4822682,.3014512,-.1532982,.87485,-.4959527,.07888043,.260601,-.2304784,.4996209,.7167382,.585986,-.04265174,-.7679967,.5509416,-.9041753,.1802134,-.8407655,-.4442826,-.2058258,-.2636995,-.4984115,-.5928579,.2926032,-.7886473,-.06933882,-.621177,.578115,-.4813387,.8981777,-.3291056,.1942733,.9255584,.8084362,.5066984,.9920095,.03103104,-.2403206,-.9389018);this._distributions[22]=new Array(-.5691095,.1014316,-.7788262,.384012,-.8253665,-.1645582,-.1830993,.002997211,-.2555013,-.4177977,-.6640869,-.4794711,-.2351242,.5850121,.02436554,.2825883,.006061143,-.8200245,.1618791,-.3063331,-.3765897,-.7249815,.6092919,-.6769328,-.5956934,.6957655,.5383642,.4522677,-.1489165,.9125596,.4167473,.1335986,.1898309,.5874342,.2288171,.9624356,.7540846,-.07672304,.8986252,.2788797,.3555991,-.9262139,.8454325,-.4027667,.4945236,-.2935512);this._distributions[23]=new Array(-.4481403,-.3758374,-.8877251,.08739938,.05015831,-.1339983,-.4070427,-.8534173,.1019274,-.5503222,-.445998,.1997541,-.8686263,-.2788867,-.7695944,-.6033704,-.05515742,-.885711,-.7714347,.5790485,.3466263,-.8799297,.4487582,-.5321087,-.2461368,.6053771,-.05568117,.2457351,-.4668669,.8523816,.8103387,-.4255538,.4054182,-.175663,-.2802011,-.08920153,.2665959,.382935,.555679,.1621837,.105246,.8420411,.6921161,.6902903,.880946,.2483067,.9699264,-.1021767);this._distributions[24]=new Array(-.1703323,-.3119385,.2916039,-.2988263,-.008472982,-.9277695,-.7730271,-.3277904,.3440474,-.6815342,-.2910278,.03461745,-.6764899,-.657078,-.3505501,-.7311988,-.03478927,.3258755,-.6048835,.159423,.2035525,.02212214,.5116573,.2226856,.6664805,-.2500189,.7147882,-.6609634,.03030632,-.5763278,-.2516585,.6116219,-.9434413,-.0116792,.9061816,.2491155,.182867,.6076167,.286593,.9485695,-.5992439,.6970096,-.2082874,.9416641,.9880044,-.1541709,-.9122881,.331555,.7324886,.6725098);this._distributions[25]=new Array(.3869598,-.04974834,.7168844,-.0693711,-.07166742,.1725325,.4599592,.3232779,.5872094,-.4198674,.2442266,-.625667,.1254557,.4500048,-.2290154,-.1803567,.890583,.3373493,.1256081,.7853789,-.2676466,.5305805,-.7063224,.252168,-.3989835,.1189921,.09617215,-.2451447,.6302541,.6085876,.9380925,-.3234899,.5086241,-.8573482,.03576187,-.9876697,-.0876712,-.6365195,-.5276513,.823456,-.6935764,-.2240411,-.5212318,-.5383121,-.2116208,.9639363,-.9840096,.02743555,-.3991577,-.8994547,-.7830126,.614068);this._distributions[26]=new Array(-.8366601,.4464895,-.5917366,-.02073906,-.9845258,.1635625,-.3097973,.4379579,-.5478154,.7173221,-.1685888,.9261969,.01503595,.6046097,.4452421,.5449086,.0315687,.1944619,.3753404,.8688548,.4143643,.1396648,.8711032,.4304703,.7328773,.1461501,.6374492,-.3521495,.145613,-.1341466,.9040975,-.135123,-.7839059,-.5450199,-.516019,-.3320859,-.206158,-.4431106,-.9703014,-.2368356,-.2473119,-.0864351,.2130725,-.4604077,-.003726701,-.7122303,-.4072131,-.6833169,.1632999,-.9776646,.4686888,-.680495,-.2293511,-.9509777);this._distributions[27]=new Array(.107311,-.1311369,-.4194764,-.3148777,.6171439,-.2745973,.2796618,.1937153,-.09106886,.4180236,.6044006,.05577846,.02927299,-.6738263,-.2580845,.1179939,-.09023564,-.3830024,.3570953,-.5000587,.81591,-.5518309,.9300217,-.1257987,.4904627,-.8381903,-.3163182,-.8632009,.1137595,-.9875998,.8390043,.3538185,.2149114,.4993694,.5191584,.3833552,.5002763,.7061465,-.2567276,.9068756,-.5197366,.3467845,.03668867,.9734009,-.5347553,.66747,-.9028882,.1023768,-.8967977,.412834,-.5821944,.0426479,-.8032165,-.2397038,-.5597343,-.6358021);this._distributions[28]=new Array(-.6562496,-.1781036,-.9301494,.1185208,-.3861143,-.4153562,-.1560799,-.1099607,-.5587025,.395218,-.5322112,-.699701,-.5008639,.08726846,-.970524,-.1963461,-.813577,-.5185111,-.1644458,.298,-.3216791,.639982,.3315373,.3339162,.2383235,-.00105722,.1137828,.5450742,-.01899921,.8798413,.2849685,.8255596,.6974412,.2123175,.7588523,.5470437,.5102502,-.1687844,.5853448,.8033476,.2590716,-.5262504,.5607718,-.6342825,.8666443,-.1491841,.8341052,-.4935003,-.1568441,-.6634066,.2512113,-.8769391,-.2559827,-.9572457,-.01928852,-.3966542,-.750667,.6409678);this._distributions[29]=new Array(.3454786,-.04837726,.2649553,.2406852,.5599093,-.3839145,-.1111814,-.05502108,.7586042,-.05818377,.2519488,-.4665135,-.1264972,.2602723,-.08766216,-.3671907,.6428129,.3999204,-.6105871,-.1246869,-.4589451,-.7646643,-.03021116,-.7899352,-.6036922,-.4293956,-.2481938,.6534185,.102798,.6784465,-.6392644,.4821358,-.6789002,.1779133,-.9140783,-.1989647,-.9262617,.3381507,.4794891,-.8093274,.3959447,.668478,.9602883,.2272305,-.123672,.9210883,.2375148,.9523395,-.52898,.7973378,-.382433,.1228794,.695015,.6948439,.7530277,-.6458191,.8777987,-.3272956,.2318525,-.962768);this._distributions[30]=new Array(.4518921,-.1146195,.4720805,-.4238748,.3655423,.1806341,.1589939,-.23568,.7673324,-.5149941,.01163658,.09045836,.7010971,.1245747,.7518286,-.1855433,.4960719,.4601022,.2566979,-.6308268,-.0654714,-.5126389,-.1823319,-.1343282,-.1464312,.4883236,-.3858738,.203523,.1484799,.4432284,-.477109,-.116241,.2719092,.7208626,.9104174,.3578536,-.5956199,.7662588,-.6996251,.3678654,-.2514512,.9251933,.1275825,-.9478135,-.204608,-.8611552,.4264838,-.877443,.9854161,.05521112,.5912951,.7997434,.1140349,.982093,-.9324368,-.2094094,-.42436,-.6441524,-.6722705,-.3554261,-.7844236,.08587621);this._distributions[31]=new Array(-.4206714,-.5613642,-.8733016,-.3373051,-.1046226,-.2902999,-.1318562,-.8434365,.1145093,-.5962623,-.4965627,-.1873259,-.5011808,-.8546229,-.7165636,-.5743566,.1090901,.2017643,.3404809,-.220455,-.1989015,.2372122,-.4538706,.0979171,.4514146,-.572846,.2314168,-.8514503,-.4247236,.5650803,-.943347,.04514639,-.1309718,.5221877,-.7004157,.4561877,.6306441,.04448673,.4301621,.5766876,.1078042,.7245752,.3875354,.2794483,.702876,-.2924213,.7360667,-.6210318,.7486517,.6531103,.4898235,.8591025,.6549174,.3854057,-.2596106,.7916998,.9251194,-.05296265,-.5620695,.820877,-.01228026,.9937211,.9612103,.2628758)};t.getDistribution=function(t){if(!this._distributions)this.initDistributions();if(t<2||t>32)return null;return this._distributions[t-1]};return t}();r.PoissonLookup=i},{}],"awayjs-core/lib/geom/Quaternion":[function(t,e,r){"use strict";var i=t("../geom/Matrix3DUtils");var a=t("../geom/Orientation3D");var s=t("../geom/Matrix3D");var n=t("../geom/Vector3D");var o=function(){function t(t,e,r,i){if(t===void 0){t=0}if(e===void 0){e=0}if(r===void 0){r=0}if(i===void 0){i=1}this.x=0;this.y=0;this.z=0;this.w=1;this.x=t;this.y=e;this.z=r;this.w=i}Object.defineProperty(t.prototype,"magnitude",{get:function(){return Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z)},enumerable:true,configurable:true});t.prototype.multiply=function(t,e){var r=t.w,i=t.x,a=t.y,s=t.z;var n=e.w,o=e.x,h=e.y,u=e.z;this.w=r*n-i*o-a*h-s*u;this.x=r*o+i*n+a*u-s*h;this.y=r*h-i*u+a*n+s*o;this.z=r*u+i*h-a*o+s*n};t.prototype.multiplyVector=function(e,r){if(r===void 0){r=null}if(r===null){r=new t}var i=e.x;var a=e.y;var s=e.z;r.w=-this.x*i-this.y*a-this.z*s;r.x=this.w*i+this.y*s-this.z*a;r.y=this.w*a-this.x*s+this.z*i;r.z=this.w*s+this.x*a-this.y*i;return r};t.prototype.fromAxisAngle=function(t,e){var r=Math.sin(e/2);var i=Math.cos(e/2);this.x=t.x*r;this.y=t.y*r;this.z=t.z*r;this.w=i;this.normalize()};t.prototype.slerp=function(t,e,r){var i=t.w,a=t.x,s=t.y,n=t.z;var o=e.w,h=e.x,u=e.y,c=e.z;var l=i*o+a*h+s*u+n*c;if(l<0){l=-l;o=-o;h=-h;u=-u;c=-c}if(l<.95){var p=Math.acos(l);var f=1/Math.sin(p);var y=Math.sin(p*(1-r))*f;var d=Math.sin(p*r)*f;this.w=i*y+o*d;this.x=a*y+h*d;this.y=s*y+u*d;this.z=n*y+c*d}else{this.w=i+r*(o-i);this.x=a+r*(h-a);this.y=s+r*(u-s);this.z=n+r*(c-n);var _=1/Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z);this.w*=_;this.x*=_;this.y*=_;this.z*=_}};t.prototype.lerp=function(t,e,r){var i=t.w,a=t.x,s=t.y,n=t.z;var o=e.w,h=e.x,u=e.y,c=e.z;var l;if(i*o+a*h+s*u+n*c<0){o=-o;h=-h;u=-u;c=-c}this.w=i+r*(o-i);this.x=a+r*(h-a);this.y=s+r*(u-s);this.z=n+r*(c-n);l=1/Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z);this.w*=l;this.x*=l;this.y*=l;this.z*=l};t.prototype.fromEulerAngles=function(t,e,r){var i=t*.5,a=e*.5,s=r*.5;var n=Math.cos(i),o=Math.sin(i);var h=Math.cos(a),u=Math.sin(a);var c=Math.cos(s),l=Math.sin(s);this.w=n*h*c+o*u*l;this.x=o*h*c-n*u*l;this.y=n*u*c+o*h*l;this.z=n*h*l-o*u*c};t.prototype.toEulerAngles=function(t){if(t===void 0){t=null}if(t===null){t=new n.Vector3D}t.x=Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y));t.y=Math.asin(2*(this.w*this.y-this.z*this.x));t.z=Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z));return t};t.prototype.normalize=function(t){if(t===void 0){t=1}var e=t/Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);this.x*=e;this.y*=e;this.z*=e;this.w*=e};t.prototype.toString=function(){return"{x:"+this.x+" y:"+this.y+" z:"+this.z+" w:"+this.w+"}"};t.prototype.toMatrix3D=function(t){if(t===void 0){t=null}var e=i.Matrix3DUtils.RAW_DATA_CONTAINER;var r=2*this.x*this.y,a=2*this.x*this.z,n=2*this.x*this.w;var o=2*this.y*this.z,h=2*this.y*this.w,u=2*this.z*this.w;var c=this.x*this.x,l=this.y*this.y,p=this.z*this.z,f=this.w*this.w;e[0]=c-l-p+f;e[4]=r-u;e[8]=a+h;e[12]=0;e[1]=r+u;e[5]=-c+l-p+f;e[9]=o-n;e[13]=0;e[2]=a-h;e[6]=o+n;e[10]=-c-l+p+f;e[14]=0;e[3]=0;e[7]=0;e[11]=0;e[15]=1;if(!t)return new s.Matrix3D(e);else t.copyRawDataFrom(e);return t};t.prototype.fromMatrix=function(t){var e=t.decompose(a.Orientation3D.QUATERNION)[1];this.x=e.x;this.y=e.y;this.z=e.z;this.w=e.w};t.prototype.toRawData=function(t,e){if(e===void 0){e=false}var r=2*this.x*this.y,i=2*this.x*this.z,a=2*this.x*this.w;var s=2*this.y*this.z,n=2*this.y*this.w,o=2*this.z*this.w;var h=this.x*this.x,u=this.y*this.y,c=this.z*this.z,l=this.w*this.w;t[0]=h-u-c+l;t[1]=r-o;t[2]=i+n;t[4]=r+o;t[5]=-h+u-c+l;t[6]=s-a;t[8]=i-n;t[9]=s+a;t[10]=-h-u+c+l;t[3]=t[7]=t[11]=0;if(!e){t[12]=t[13]=t[14]=0;t[15]=1}};t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.w)};t.prototype.rotatePoint=function(t,e){if(e===void 0){e=null}var r,i,a,s;var o=t.x,h=t.y,u=t.z;if(e===null){e=new n.Vector3D}s=-this.x*o-this.y*h-this.z*u;r=this.w*o+this.y*u-this.z*h;i=this.w*h-this.x*u+this.z*o;a=this.w*u+this.x*h-this.y*o;e.x=-s*this.x+r*this.w-i*this.z+a*this.y;e.y=-s*this.y+r*this.z+i*this.w-a*this.x;e.z=-s*this.z-r*this.y+i*this.x+a*this.w;return e};t.prototype.copyFrom=function(t){this.x=t.x;this.y=t.y;this.z=t.z;this.w=t.w};return t}();r.Quaternion=o},{"../geom/Matrix3D":"awayjs-core/lib/geom/Matrix3D","../geom/Matrix3DUtils":"awayjs-core/lib/geom/Matrix3DUtils","../geom/Orientation3D":"awayjs-core/lib/geom/Orientation3D","../geom/Vector3D":"awayjs-core/lib/geom/Vector3D"}],"awayjs-core/lib/geom/Rectangle":[function(t,e,r){"use strict";var i=t("../geom/Point");var a=function(){function t(t,e,r,i){if(t===void 0){t=0}if(e===void 0){e=0}if(r===void 0){r=0}if(i===void 0){i=0}this.x=t;this.y=e;this.width=r;this.height=i}Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"bottomRight",{get:function(){if(this._bottomRight==null)this._bottomRight=new i.Point;this._bottomRight.x=this.x+this.width;this._bottomRight.y=this.y+this.height;return this._bottomRight},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"size",{get:function(){if(this._size==null)this._size=new i.Point;this._size.x=this.width;this._size.y=this.height;return this._size},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"topLeft",{get:function(){if(this._topLeft==null)this._topLeft=new i.Point;this._topLeft.x=this.x;this._topLeft.y=this.y;return this._topLeft},enumerable:true,configurable:true});t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)};t.prototype.contains=function(t,e){return this.x<=t&&this.x+this.width>=t&&this.y<=e&&this.y+this.height>=e};t.prototype.containsPoint=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y};t.prototype.containsRect=function(t){return this.x<=t.x&&this.x+this.width>=t.x+t.width&&this.y<=t.y&&this.y+this.height>=t.y+t.height};t.prototype.copyFrom=function(t){};t.prototype.equals=function(t){return this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height};t.prototype.inflate=function(t,e){this.x-=t/2;this.y-=e/2;this.width+=t/2;this.height+=e/2};t.prototype.inflatePoint=function(t){this.x-=t.x/2;this.y-=t.y/2;this.width+=t.x/2;this.height+=t.y/2};t.prototype.intersection=function(e){if(this.intersects(e)){var r=new t;if(this.x>e.x){r.x=this.x;r.width=e.x-this.x+e.width;if(r.width>this.width)r.width=this.width}else{r.x=e.x;r.width=this.x-e.x+this.width;if(r.width>e.width)r.width=e.width}if(this.y>e.y){r.y=this.y;r.height=e.y-this.y+e.height;if(r.height>this.height)r.height=this.height}else{r.y=e.y;r.height=this.y-e.y+this.height;if(r.height>e.height)r.height=e.height}return r}return new t};t.prototype.intersects=function(t){return this.x+this.width>t.x&&this.x<t.x+t.width&&this.y+this.height>t.y&&this.y<t.y+t.height};t.prototype.isEmpty=function(){return this.x==0&&this.y==0&&this.width==0&&this.height==0};t.prototype.offset=function(t,e){this.x+=t;this.y+=e};t.prototype.offsetPoint=function(t){this.x+=t.x;this.y+=t.y};t.prototype.setEmpty=function(){this.x=0;this.y=0;this.width=0;this.height=0};t.prototype.setTo=function(t,e,r,i){this.x=t;this.y=e;this.width=r;this.height=i};t.prototype.toString=function(){return"[Rectangle] (x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"};t.prototype.union=function(e){var r=new t;if(this.x<e.x){r.x=this.x;r.width=e.x-this.x+e.width;if(r.width<this.width)r.width=this.width}else{r.x=e.x;r.width=this.x-e.x+this.width;if(r.width<e.width)r.width=e.width}if(this.y<e.y){r.y=this.y;r.height=e.y-this.y+e.height;if(r.height<this.height)r.height=this.height}else{r.y=e.y;r.height=this.y-e.y+this.height;if(r.height<e.height)r.height=e.height}return r};return t}();r.Rectangle=a},{"../geom/Point":"awayjs-core/lib/geom/Point"}],"awayjs-core/lib/geom/Sphere":[function(t,e,r){"use strict";var i=function(){function t(t,e,r,i){if(t===void 0){t=0}if(e===void 0){e=0}if(r===void 0){r=0}if(i===void 0){i=0}this.x=t;this.y=e;this.z=r;this.radius=i}t.prototype.rayIntersection=function(t,e,r){if(this.containsPoint(t))return 0;var i=t.x-this.x,a=t.y-this.y,s=t.z-this.z;var n=e.x,o=e.y,h=e.z;var u;var c=n*n+o*o+h*h;var l=2*(i*n+a*o+s*h);var p=i*i+a*a+s*s-this.radius*this.radius;var f=l*l-4*c*p;if(f>=0){var y=Math.sqrt(f);u=(-l-y)/(2*c);if(u>=0){r.x=i+u*n;r.y=a+u*o;r.z=s+u*h;r.normalize();return u}}return-1};t.prototype.containsPoint=function(t){var e=t.x-this.x;var r=t.y-this.y;var i=t.z-this.z;var a=Math.sqrt(e*e+r*r+i*i);return a<=this.radius};t.prototype.toString=function(){return"Sphere [x:"+this.x+", y:"+this.y+", z:"+this.z+", radius:"+this.radius+"]"};return t}();r.Sphere=i},{}],"awayjs-core/lib/geom/Vector3D":[function(t,e,r){"use strict";var i=function(){function t(t,e,r,i){if(t===void 0){t=0}if(e===void 0){e=0}if(r===void 0){r=0}if(i===void 0){i=0}this.x=t;this.y=e;this.z=r;this.w=i}Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.lengthSquared)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"lengthSquared",{get:function(){return this.x*this.x+this.y*this.y+this.z*this.z},enumerable:true,configurable:true});t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y,this.z+e.z,this.w+e.w)};t.angleBetween=function(t,e){return Math.acos(t.dotProduct(e)/(t.length*e.length))};t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.w)};t.combine=function(e,r,i,a){return new t(e.x*i+r.x*a,e.y*i+r.y*a,e.z*i+r.z*a)};t.prototype.copyFrom=function(t){this.x=t.x;this.y=t.y;this.z=t.z;this.w=t.w};t.prototype.crossProduct=function(e,r){if(r===void 0){r=null}if(r==null)r=new t;r.x=this.y*e.z-this.z*e.y;r.y=this.z*e.x-this.x*e.z;r.z=this.x*e.y-this.y*e.x;return r};t.prototype.decrementBy=function(t){this.x-=t.x;this.y-=t.y;this.z-=t.z};t.distance=function(t,e){var r=t.x-e.x;var i=t.y-e.y;var a=t.z-e.z;return Math.sqrt(r*r+i*i+a*a)};t.prototype.dotProduct=function(t){return this.x*t.x+this.y*t.y+this.z*t.z};t.prototype.equals=function(t,e){if(e===void 0){e=false}return this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)};t.prototype.incrementBy=function(t){this.x+=t.x;this.y+=t.y;this.z+=t.z};t.prototype.nearEquals=function(t,e,r){if(r===void 0){r=true}return Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!r||Math.abs(this.w-t.w)<e)};t.prototype.negate=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};t.prototype.normalize=function(t){if(t===void 0){t=1}if(this.length!=0){var e=t/this.length;this.x*=e;this.y*=e;this.z*=e;return}};t.prototype.project=function(){this.x/=this.w;this.y/=this.w;this.z/=this.w};t.prototype.scaleBy=function(t){this.x*=t;this.y*=t;this.z*=t};t.prototype.setTo=function(t,e,r){this.x=t;this.y=e;this.z=r};t.prototype.subtract=function(e){return new t(this.x-e.x,this.y-e.y,this.z-e.z)};t.prototype.toString=function(){return"[Vector3D] (x:"+this.x+" ,y:"+this.y+", z"+this.z+", w:"+this.w+")"};t.X_AXIS=new t(1,0,0);t.Y_AXIS=new t(0,1,0);t.Z_AXIS=new t(0,0,1);return t}();r.Vector3D=i},{}],"awayjs-core/lib/geom":[function(t,e,r){"use strict";var i=t("./geom/Box");r.Box=i.Box;var a=t("./geom/ColorTransform");r.ColorTransform=a.ColorTransform;var s=t("./geom/MathConsts");r.MathConsts=s.MathConsts;var n=t("./geom/Matrix");r.Matrix=n.Matrix;var o=t("./geom/Matrix3D");r.Matrix3D=o.Matrix3D;var h=t("./geom/Matrix3DUtils");r.Matrix3DUtils=h.Matrix3DUtils;var u=t("./geom/Orientation3D");r.Orientation3D=u.Orientation3D;var c=t("./geom/Plane3D");r.Plane3D=c.Plane3D;var l=t("./geom/PlaneClassification");r.PlaneClassification=l.PlaneClassification;var p=t("./geom/Point");r.Point=p.Point;var f=t("./geom/PoissonLookup");r.PoissonLookup=f.PoissonLookup;var y=t("./geom/Quaternion");r.Quaternion=y.Quaternion;var d=t("./geom/Rectangle");r.Rectangle=d.Rectangle;var _=t("./geom/Sphere");r.Sphere=_.Sphere;var v=t("./geom/Vector3D");r.Vector3D=v.Vector3D},{"./geom/Box":"awayjs-core/lib/geom/Box","./geom/ColorTransform":"awayjs-core/lib/geom/ColorTransform","./geom/MathConsts":"awayjs-core/lib/geom/MathConsts","./geom/Matrix":"awayjs-core/lib/geom/Matrix","./geom/Matrix3D":"awayjs-core/lib/geom/Matrix3D","./geom/Matrix3DUtils":"awayjs-core/lib/geom/Matrix3DUtils","./geom/Orientation3D":"awayjs-core/lib/geom/Orientation3D","./geom/Plane3D":"awayjs-core/lib/geom/Plane3D","./geom/PlaneClassification":"awayjs-core/lib/geom/PlaneClassification","./geom/Point":"awayjs-core/lib/geom/Point","./geom/PoissonLookup":"awayjs-core/lib/geom/PoissonLookup","./geom/Quaternion":"awayjs-core/lib/geom/Quaternion","./geom/Rectangle":"awayjs-core/lib/geom/Rectangle","./geom/Sphere":"awayjs-core/lib/geom/Sphere","./geom/Vector3D":"awayjs-core/lib/geom/Vector3D"}],"awayjs-core/lib/image/BitmapImage2D":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t;
}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../image/Image2D");var s=t("../utils/ColorUtils");var n=t("../utils/BitmapImageUtils");var o=t("../image/CPUCanvas");var h=function(t){i(e,t);function e(e,r,i,a,s){if(i===void 0){i=true}if(a===void 0){a=null}if(s===void 0){s=true}t.call(this,e,r,s);this._locked=false;this._transparent=i;if(document){this._imageCanvas=document.createElement("canvas")}else{this._imageCanvas=new o.CPUCanvas}this._imageCanvas.width=e;this._imageCanvas.height=r;this._context=this._imageCanvas.getContext("2d");if(a!=null)this.fillRect(this._rect,a)}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"transparent",{get:function(){return this._transparent},set:function(t){this._transparent=t},enumerable:true,configurable:true});e.prototype.invalidate=function(){if(!this._imageDataDirty){this._imageDataDirty=true;t.prototype.invalidate.call(this)}};e.prototype.clone=function(){var t=new e(this.width,this.height,this.transparent,null,this.powerOfTwo);t.draw(this);return t};e.prototype.colorTransform=function(t,e){if(!this._imageData)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var r=this._imageData.data;var i,a,s;for(i=0;i<t.width;++i){for(a=0;a<t.height;++a){s=(i+t.x+(a+t.y)*this.width)*4;r[s]=r[s]*e.redMultiplier+e.redOffset;r[s+1]=r[s+1]*e.greenMultiplier+e.greenOffset;r[s+2]=r[s+2]*e.blueMultiplier+e.blueOffset;r[s+3]=r[s+3]*e.alphaMultiplier+e.alphaOffset}}if(!this._locked)this._context.putImageData(this._imageData,0,0);this.invalidate()};e.prototype.copyChannel=function(t,e,r,i,a){var s=t.getImageData();if(!this._imageData)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var n=t.getImageData().data;var o=this._imageData.data;var h=Math.round(Math.log(i)/Math.log(2));var u=Math.round(Math.log(a)/Math.log(2));var c,l,p,f;for(c=0;c<e.width;++c){for(l=0;l<e.height;++l){p=(c+e.x+(l+e.y)*t.width)*4;f=(c+r.x+(l+r.y)*this.width)*4;o[f+u]=n[p+h]}}if(!this._locked)this._context.putImageData(this._imageData,0,0);this.invalidate()};e.prototype.copyPixels=function(t,r,i){if(t instanceof e)t=t.getCanvas();if(this._locked&&this._imageData)this._context.putImageData(this._imageData,0,0);n.BitmapImageUtils._copyPixels(this._context,t,r,i);this._imageData=null;this.invalidate()};e.prototype.dispose=function(){t.prototype.dispose.call(this);this._context=null;this._imageCanvas=null;this._imageData=null;this._rect=null;this._transparent=null;this._locked=null};e.prototype.draw=function(t,r,i,a,s,o){if(t instanceof e&&t.getCanvas())t=t.getCanvas();if(this._locked&&this._imageData)this._context.putImageData(this._imageData,0,0);n.BitmapImageUtils._draw(this._context,t,r,i,a,s,o);this._imageData=null;this.invalidate()};e.prototype.fillRect=function(t,e){if(this._locked&&this._imageData)this._context.putImageData(this._imageData,0,0);n.BitmapImageUtils._fillRect(this._context,t,e,this._transparent);this._imageData=null;this.invalidate()};e.prototype.getPixel=function(t,e){var r;var i;var a;var s;if(!this._locked){var n=this._context.getImageData(t,e,1,1);r=n.data[0];i=n.data[1];a=n.data[2];s=n.data[3]}else{if(!this._imageData)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var o=(t+e*this._imageData.width)*4;r=this._imageData.data[o+0];i=this._imageData.data[o+1];a=this._imageData.data[o+2];s=this._imageData.data[o+3]}if(!s)return 0;return r<<16|i<<8|a};e.prototype.getPixel32=function(t,e){var r;var i;var a;var s;if(!this._locked){var n=this._context.getImageData(t,e,1,1);r=n.data[0];i=n.data[1];a=n.data[2];s=n.data[3]}else{if(!this._imageData)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var o=(t+e*this._imageData.width)*4;r=this._imageData.data[o+0];i=this._imageData.data[o+1];a=this._imageData.data[o+2];s=this._imageData.data[o+3]}return s<<24|r<<16|i<<8|a};e.prototype.getPixelData=function(t,e,r){if(!this._imageData)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var i=(t+e*this._imageData.width)*4;r[0]=this._imageData.data[i+0];r[1]=this._imageData.data[i+1];r[2]=this._imageData.data[i+2];r[3]=this._imageData.data[i+3]};e.prototype.setPixelData=function(t,e,r){if(!this._imageData)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var i=(t+e*this._imageData.width)*4;this._imageData.data[i+0]=r[0];this._imageData.data[i+1]=r[1];this._imageData.data[i+2]=r[2];this._imageData.data[i+3]=r[3];this.invalidate()};e.prototype.lock=function(){if(this._locked)return;this._locked=true};e.prototype.setArray=function(t,e){if(!this._imageData)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var r,i,a,n;for(r=0;r<t.width;++r){for(i=0;i<t.height;++i){n=s.ColorUtils.float32ColorToARGB(e[r+i*t.width]);a=(r+t.x+(i+t.y)*this._imageData.width)*4;this._imageData.data[a+0]=n[1];this._imageData.data[a+1]=n[2];this._imageData.data[a+2]=n[3];this._imageData.data[a+3]=n[0]}}if(!this._locked)this._context.putImageData(this._imageData,0,0);this.invalidate()};e.prototype.setPixel=function(t,e,r){var i=s.ColorUtils.float32ColorToARGB(r);if(!this._imageData)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var a=(t+e*this._imageData.width)*4;this._imageData.data[a+0]=i[1];this._imageData.data[a+1]=i[2];this._imageData.data[a+2]=i[3];this._imageData.data[a+3]=255;if(!this._locked)this._context.putImageData(this._imageData,0,0);this.invalidate()};e.prototype.setPixel32=function(t,e,r){var i=s.ColorUtils.float32ColorToARGB(r);if(!this._imageData)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var a=(t+e*this._imageData.width)*4;this._imageData.data[a+0]=i[1];this._imageData.data[a+1]=i[2];this._imageData.data[a+2]=i[3];this._imageData.data[a+3]=i[0];if(!this._locked)this._context.putImageData(this._imageData,0,0);this.invalidate()};e.prototype.setPixels=function(t,e){if(!this._imageData)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);var r;var i=this._imageData.width;for(r=0;r<t.height;++r)this._imageData.data.set(e.subarray(r*i*4,(r+1)*i*4),(t.x+(r+t.y)*i)*4);if(!this._locked)this._context.putImageData(this._imageData,0,0);this.invalidate()};e.prototype.unlock=function(){if(!this._locked)return;this._locked=false;if(this._imageData)this._context.putImageData(this._imageData,0,0)};e.prototype.getImageData=function(){if(!this._imageData)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height);return this._imageData};e.prototype.getCanvas=function(){return this._imageCanvas};e.prototype._setSize=function(e,r){if(this._locked)this._context.putImageData(this._imageData,0,0);if(this._imageCanvas){this._imageCanvas.width=e;this._imageCanvas.height=r}t.prototype._setSize.call(this,e,r);if(this._locked)this._imageData=this._context.getImageData(0,0,this._rect.width,this._rect.height)};e.assetType="[image BitmapImage2D]";return e}(a.Image2D);r.BitmapImage2D=h},{"../image/CPUCanvas":"awayjs-core/lib/image/CPUCanvas","../image/Image2D":"awayjs-core/lib/image/Image2D","../utils/BitmapImageUtils":"awayjs-core/lib/utils/BitmapImageUtils","../utils/ColorUtils":"awayjs-core/lib/utils/ColorUtils"}],"awayjs-core/lib/image/BitmapImageChannel":[function(t,e,r){"use strict";var i=function(){function t(){}t.ALPHA=8;t.BLUE=4;t.GREEN=2;t.RED=1;return t}();r.BitmapImageChannel=i},{}],"awayjs-core/lib/image/BitmapImageCube":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../image/BitmapImage2D");var s=t("../image/ImageCube");var n=t("../geom/Rectangle");var o=t("../utils/ColorUtils");var h=t("../utils/BitmapImageUtils");var u=function(t){i(e,t);function e(e,r,i){if(r===void 0){r=true}if(i===void 0){i=null}t.call(this,e);this._imageCanvas=new Array(6);this._context=new Array(6);this._imageData=new Array(6);this._locked=false;this._transparent=r;for(var a=0;a<6;a++){this._imageCanvas[a]=document.createElement("canvas");this._imageCanvas[a].width=e;this._imageCanvas[a].height=e;this._context[a]=this._imageCanvas[a].getContext("2d");if(i!=null)this.fillRect(a,new n.Rectangle(0,0,e,e),i)}}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"transparent",{get:function(){return this._transparent},set:function(t){this._transparent=t},enumerable:true,configurable:true});e.prototype.clone=function(){var t=new e(this._size,this.transparent);for(var r=0;r<6;r++){t.draw(r,this.getCanvas(r))}return t};e.prototype.colorTransform=function(t,e,r){if(!this._locked)this._imageData[t]=this._context[t].getImageData(0,0,this._size,this._size);var i=this._imageData[t].data;var a,s,n;for(a=0;a<e.width;++a){for(s=0;s<e.height;++s){n=(a+e.x+(s+e.y)*this._size)*4;i[n]=i[n]*r.redMultiplier+r.redOffset;i[n+1]=i[n+1]*r.greenMultiplier+r.greenOffset;i[n+2]=i[n+2]*r.blueMultiplier+r.blueOffset;i[n+3]=i[n+3]*r.alphaMultiplier+r.alphaOffset}}if(!this._locked){this._context[t].putImageData(this._imageData[t],0,0);this._imageData[t]=null}this.invalidate()};e.prototype.copyChannel=function(t,e,r,i,a,s){var n=e.getImageData();if(!this._locked)this._imageData[t]=this._context[t].getImageData(0,0,this._size,this._size);var o=e.getImageData().data;var h=this._imageData[t].data;var u=Math.round(Math.log(a)/Math.log(2));var c=Math.round(Math.log(s)/Math.log(2));var l,p,f,y;for(l=0;l<r.width;++l){for(p=0;p<r.height;++p){f=(l+r.x+(p+r.y)*e.width)*4;y=(l+i.x+(p+i.y)*this._size)*4;h[y+c]=o[f+u]}}if(!this._locked){this._context[t].putImageData(this._imageData[t],0,0);this._imageData[t]=null}this.invalidate()};e.prototype.copyPixels=function(t,e,r,i){if(e instanceof a.BitmapImage2D)e=e.getCanvas();if(this._locked){this._context[t].putImageData(this._imageData[t],0,0);h.BitmapImageUtils._copyPixels(this._context[t],e,r,i);this._imageData[t]=this._context[t].getImageData(0,0,this._size,this._size)}else{h.BitmapImageUtils._copyPixels(this._context[t],e,r,i)}this.invalidate()};e.prototype.dispose=function(){t.prototype.dispose.call(this);for(var e=0;e<6;e++){this._context[e]=null;this._imageCanvas[e]=null;this._imageData[e]=null}this._transparent=null;this._locked=null};e.prototype.draw=function(t,e,r,i,s,n,o){if(e instanceof a.BitmapImage2D)e=e.getCanvas();if(this._locked){this._context[t].putImageData(this._imageData[t],0,0);h.BitmapImageUtils._draw(this._context[t],e,r,i,s,n,o);this._imageData[t]=this._context[t].getImageData(0,0,this._size,this._size)}else{h.BitmapImageUtils._draw(this._context[t],e,r,i,s,n,o)}this.invalidate()};e.prototype.fillRect=function(t,e,r){if(this._locked){if(this._imageData[t])this._context[t].putImageData(this._imageData[t],0,0);h.BitmapImageUtils._fillRect(this._context[t],e,r,this._transparent);if(this._imageData[t])this._imageData[t]=this._context[t].getImageData(0,0,this._size,this._size)}else{h.BitmapImageUtils._fillRect(this._context[t],e,r,this._transparent)}this.invalidate()};e.prototype.getPixel=function(t,e,r){var i;var a;var s;var n;if(!this._locked){var o=this._context[t].getImageData(e,r,1,1);i=o.data[0];a=o.data[1];s=o.data[2];n=o.data[3]}else{var h=(e+r*this._size)*4;i=this._imageData[t].data[h+0];a=this._imageData[t].data[h+1];s=this._imageData[t].data[h+2];n=this._imageData[t].data[h+3]}if(!n)return 0;return i<<16|a<<8|s};e.prototype.getPixel32=function(t,e,r){var i;var a;var s;var n;if(!this._locked){var o=this._context[t].getImageData(e,r,1,1);i=o.data[0];a=o.data[1];s=o.data[2];n=o.data[3]}else{var h=(e+r*this._size)*4;i=this._imageData[t].data[h+0];a=this._imageData[t].data[h+1];s=this._imageData[t].data[h+2];n=this._imageData[t].data[h+3]}return n<<24|i<<16|a<<8|s};e.prototype.lock=function(){if(this._locked)return;this._locked=true;for(var t=0;t<6;t++)this._imageData[t]=this._context[t].getImageData(0,0,this._size,this._size)};e.prototype.setArray=function(t,e,r){if(!this._locked)this._imageData[t]=this._context[t].getImageData(0,0,this._size,this._size);var i,a,s,n;for(i=0;i<e.width;++i){for(a=0;a<e.height;++a){n=o.ColorUtils.float32ColorToARGB(r[i+a*e.width]);s=(i+e.x+(a+e.y)*this._size)*4;this._imageData[t].data[s+0]=n[1];this._imageData[t].data[s+1]=n[2];this._imageData[t].data[s+2]=n[3];this._imageData[t].data[s+3]=n[0]}}if(!this._locked){this._context[t].putImageData(this._imageData[t],0,0);this._imageData[t]=null}this.invalidate()};e.prototype.setPixel=function(t,e,r,i){var a=o.ColorUtils.float32ColorToARGB(i);if(!this._locked)this._imageData[t]=this._context[t].getImageData(0,0,this._size,this._size);var s=(e+r*this._size)*4;this._imageData[t].data[s+0]=a[1];this._imageData[t].data[s+1]=a[2];this._imageData[t].data[s+2]=a[3];this._imageData[t].data[s+3]=255;if(!this._locked){this._context[t].putImageData(this._imageData[t],0,0);this._imageData=null}this.invalidate()};e.prototype.setPixel32=function(t,e,r,i){var a=o.ColorUtils.float32ColorToARGB(i);if(!this._locked)this._imageData[t]=this._context[t].getImageData(0,0,this._size,this._size);var s=(e+r*this._size)*4;this._imageData[t].data[s+0]=a[1];this._imageData[t].data[s+1]=a[2];this._imageData[t].data[s+2]=a[3];this._imageData[t].data[s+3]=a[0];if(!this._locked){this._context[t].putImageData(this._imageData[t],0,0);this._imageData[t]=null}this.invalidate()};e.prototype.setPixels=function(t,e,r){if(!this._locked)this._imageData[t]=this._context[t].getImageData(0,0,this._size,this._size);r.position=0;var i,a,s;for(i=0;i<e.width;++i){for(a=0;a<e.height;++a){s=(i+e.x+(a+e.y)*this._size)*4;this._imageData[t].data[s+0]=r.readUnsignedInt();this._imageData[t].data[s+1]=r.readUnsignedInt();this._imageData[t].data[s+2]=r.readUnsignedInt();this._imageData[t].data[s+3]=r.readUnsignedInt()}}if(!this._locked){this._context[t].putImageData(this._imageData[t],0,0);this._imageData[t]=null}this.invalidate()};e.prototype.unlock=function(){if(!this._locked)return;this._locked=false;for(var t=0;t<6;t++){this._context[t].putImageData(this._imageData[t],0,0);this._imageData[t]=null}};e.prototype.getImageData=function(t){if(!this._locked)return this._context[t].getImageData(0,0,this._size,this._size);return this._imageData[t]};e.prototype.getCanvas=function(t){return this._imageCanvas[t]};e.prototype._setSize=function(e){t.prototype._setSize.call(this,e);for(var r=0;r<6;r++){if(this._locked)this._context[r].putImageData(this._imageData[r],0,0);this._imageCanvas[r].width=e;this._imageCanvas[r].height=e;if(this._locked)this._imageData[r]=this._context[r].getImageData(0,0,this._size,this._size)}};e.assetType="[image BitmapImageCube]";e.posX=0;e.negX=1;e.posY=2;e.negY=3;e.posZ=4;e.negZ=5;return e}(s.ImageCube);r.BitmapImageCube=u},{"../geom/Rectangle":"awayjs-core/lib/geom/Rectangle","../image/BitmapImage2D":"awayjs-core/lib/image/BitmapImage2D","../image/ImageCube":"awayjs-core/lib/image/ImageCube","../utils/BitmapImageUtils":"awayjs-core/lib/utils/BitmapImageUtils","../utils/ColorUtils":"awayjs-core/lib/utils/ColorUtils"}],"awayjs-core/lib/image/BlendMode":[function(t,e,r){"use strict";var i=function(){function t(){}t.ADD="add";t.ALPHA="alpha";t.DARKEN="darken";t.DIFFERENCE="difference";t.ERASE="erase";t.HARDLIGHT="hardlight";t.INVERT="invert";t.LAYER="layer";t.LIGHTEN="lighten";t.MULTIPLY="multiply";t.NORMAL="normal";t.OVERLAY="overlay";t.SCREEN="screen";t.SHADER="shader";t.SUBTRACT="subtract";return t}();r.BlendMode=i},{}],"awayjs-core/lib/image/CPUCanvas":[function(t,e,r){"use strict";var i=t("../image/CPURenderingContext2D");var a=t("../image/ImageData");var s=function(){function t(){this.width=1;this.height=1;this.reset()}t.prototype.getContext=function(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}return new i.CPURenderingContext2D(this)};t.prototype.reset=function(){if(!this.imageData){this.imageData=new a.ImageData(this.width,this.height)}else{this.imageData.width=this.width;this.imageData.height=this.height;if(this.imageData.data){this.imageData.data=null}this.imageData.data=new Uint8Array(this.width*this.height*4)}for(var t=0;t<this.width*this.height*4;t+=4){this.imageData.data[t]=255;this.imageData.data[t+1]=255;this.imageData.data[t+2]=255;this.imageData.data[t+3]=255}};t.prototype.getImageData=function(){if(this.imageData.width!=this.width||this.imageData.height!=this.height){this.reset()}return this.imageData};return t}();r.CPUCanvas=s;Object.defineProperty(r,"__esModule",{value:true});r.default=s},{"../image/CPURenderingContext2D":"awayjs-core/lib/image/CPURenderingContext2D","../image/ImageData":"awayjs-core/lib/image/ImageData"}],"awayjs-core/lib/image/CPURenderingContext2D":[function(t,e,r){"use strict";var i=t("../image/BitmapImage2D");var a=t("../geom/Matrix");var s=t("../geom/Point");var n=function(){function t(t){this.point=new s.Point;this.point2=new s.Point;this.cpuCanvas=t}t.prototype.restore=function(){this.matrix=null};t.prototype.setTransform=function(t,e,r,i,s,n){this.matrix=new a.Matrix(t,e,r,i,s,n)};t.prototype.save=function(){};t.prototype.arc=function(t,e,r,i,a,s){};t.prototype.measureText=function(t){return undefined};t.prototype.isPointInPath=function(t,e,r){return undefined};t.prototype.quadraticCurveTo=function(t,e,r,i){};t.prototype.putImageData=function(t,e,r,i,a,s,n){};t.prototype.rotate=function(t){};t.prototype.fillText=function(t,e,r,i){};t.prototype.translate=function(t,e){};t.prototype.scale=function(t,e){};t.prototype.createRadialGradient=function(t,e,r,i,a,s){return undefined};t.prototype.ellipse=function(t,e,r,i,a,s,n,o){};t.prototype.lineTo=function(t,e){};t.prototype.getLineDash=function(){return undefined};t.prototype.fill=function(t){};t.prototype.createImageData=function(t,e){return undefined};t.prototype.createPattern=function(t,e){return undefined};t.prototype.closePath=function(){};t.prototype.rect=function(t,e,r,i){};t.prototype.clip=function(t){};t.prototype.clearRect=function(t,e,r,i){var a=this.cpuCanvas.getImageData();for(var s=t;s<t+r;s++){for(var n=e;n<e+i;n++){var o=(s+n*a.width)*4;a.data[o]=0;a.data[o+1]=0;a.data[o+2]=0;a.data[o+3]=0}}};t.prototype.moveTo=function(t,e){};t.prototype.getImageData=function(t,e,r,i){return this.cpuCanvas.getImageData()};t.prototype.applyPixel32=function(t,e,r,i){e=Math.floor(e);r=Math.floor(r);if(e<0||e>=t.width||r>=t.height||r<0)return;var a=(e+r*t.width)*4;t.data[a]+=i[0];t.data[a+1]+=i[1];t.data[a+2]+=i[2];t.data[a+3]+=i[3];t.data[a]=t.data[a]&255;t.data[a+1]=t.data[a+1]&255;t.data[a+2]=t.data[a+2]&255;t.data[a+3]=t.data[a+3]&255};t.prototype.copyPixel32=function(t,e,r,i,a,s){e=Math.floor(e);r=Math.floor(r);a=Math.floor(a);s=Math.floor(s);if(e<0||e>=t.width||r>=t.height||r<0)return;if(a<0||a>=i.width||s>=i.height||s<0)return;var n=(e+r*t.width)*4;var o=(a+s*i.width)*4;t.data[n]=i.data[o];t.data[n+1]=i.data[o+1];t.data[n+2]=i.data[o+2];t.data[n+3]=i.data[o+3]};t.prototype.fillRect=function(t,e,r,i){if(this.fillStyle){if(this.parsedFillStyle!=this.fillStyle){var a=this.fillStyle.substring(5,this.fillStyle.lastIndexOf(")")).split(",");this.parsedA=parseFloat(a[3])*255;this.parsedR=parseInt(a[0]);this.parsedG=parseInt(a[1]);this.parsedB=parseInt(a[2]);this.parsedFillStyle=this.fillStyle}var s=this.cpuCanvas.getImageData();for(var n=t;n<t+r;n++){for(var o=e;o<e+i;o++){var h=(n+o*s.width)*4;s.data[h]=this.parsedR;s.data[h+1]=this.parsedG;s.data[h+2]=this.parsedB;s.data[h+3]=this.parsedA}}}};t.prototype.bezierCurveTo=function(t,e,r,i,a,s){};t.prototype.drawImage=function(t,e,r,a,s,n,o,h,u){var c=t;if(t.constructor.toString().indexOf("BitmapImage2D")>-1){var l=c;l.lock();this.drawBitmap(l,e,r,a,s,n,o,h,u);l.unlock()}else if(t.constructor.toString().indexOf("HTMLImage")>-1){var p=t;var f=document.createElement("canvas");f.width=p.width;f.height=p.height;var y=f.getContext("2d");y.drawImage(p,0,0);var d=y.getImageData(0,0,p.width,p.height);var _=new i.BitmapImage2D(p.width,p.height,true,0,false);_.getImageData().data=d.data;var v=_;this.drawImage(v,e,r,a,s,n,o,h,u)}else if(t.constructor.toString().indexOf("CPUCanvas")>-1){var g=c;this.drawBitmap(g,e,r,a,s,n,o,h,u)}};t.prototype.drawBitmap=function(e,r,i,n,o,h,u,c,l){if(!n||n==0){n=e.width;o=e.height}if(!h||h==0){h=0;u=0}if(!c||c==0||this.matrix){c=n;l=o}var p=e.getImageData();var f=this.cpuCanvas.getImageData();if(this.matrix||(c!=n||l!=o)){var y=this.matrix;if(!y){y=new a.Matrix;y.scale(c/n,l/o)}var d=Math.sqrt(y.a*y.a+y.b*y.b);var _=Math.sqrt(y.c*y.c+y.d*y.d);c=n*d;l=o*_;y.tx+=h;y.ty+=u;h=Math.floor(y.tx);u=Math.floor(y.ty);y.invert();if(d>=1||_>=1){var v=new s.Point;for(var g=h;g<h+c;g++){for(var m=u;m<u+l;m++){v.x=g;v.y=m;v=y.transformPoint(v);var b=t.sampleBilinear(v.x,v.y,p);this.applyPixel32(f,g,m,b)}}}else{var w=this.point;var D=this.point2;for(var g=h;g<h+c;g++){for(var m=u;m<u+l;m++){w.x=g;w.y=m;w=y.transformPoint(w);D.x=g+1;D.y=m+1;D=y.transformPoint(D);var b=t.sampleBox(w.x+r,w.y+i,D.x+r,D.y+i,p);this.applyPixel32(f,g,m,b)}}}y.invert()}else{for(var g=h;g<h+c;g++){for(var m=u;m<u+l;m++){var b=t.sample(g-h+r,m-u+i,p);this.applyPixel32(f,g,m,b)}}}};t.prototype.transform=function(t,e,r,i,a,s){};t.prototype.stroke=function(){};t.prototype.strokeRect=function(t,e,r,i){};t.prototype.setLineDash=function(t){};t.prototype.strokeText=function(t,e,r,i){};t.prototype.beginPath=function(){};t.prototype.arcTo=function(t,e,r,i,a){};t.prototype.createLinearGradient=function(t,e,r,i){return undefined};t.sampleBilinear=function(e,r,i,a,s){if(a===void 0){a=1}if(s===void 0){s=1}var n=t.sample(e,r,i);var o=t.sample(e+a,r,i);var h=t.sample(e,r+s,i);var u=t.sample(e+a,r+s,i);var c=e;c=c-Math.floor(c);var l=t.interpolateColor(n,o,c);var p=t.interpolateColor(h,u,c);var f=r;f=f-Math.floor(f);return t.interpolateColor(l,p,f)};t.sample=function(t,e,r){t=Math.floor(t);e=Math.floor(e);var i=[0,0,0,0];if(t<0||t>=r.width||e<0||e>=r.height){return i}var a=(t+e*r.width)*4;i[0]=r.data[a];i[1]=r.data[a+1];i[2]=r.data[a+2];i[3]=r.data[a+3];return i};t.sampleBox=function(e,r,i,a,s){var n=0;var o=[0,0,0,0];var h;var u;var c;var l;var p=Math.floor(r);var f=Math.ceil(a);p=Math.max(Math.min(p,s.height-1),0);f=Math.max(Math.min(f,s.height-1),0);for(u=p;u<f;u++){l=1;if(u<r){l=l*(1-(r-u))}if(u>a){l=l*(1-(u-a))}var y=Math.floor(e);var d=Math.ceil(i);y=Math.max(Math.min(y,s.width-1),0);d=Math.max(Math.min(d,s.width-1),0);for(h=y;h<d;h++){c=l;var _=t.sample(h,u,s);if(h<e){c=c*(1-(e-h))}if(h>i){c=c*(1-(h-i))}o[0]+=_[0]*c;o[1]+=_[1]*c;o[2]+=_[2]*c;o[3]+=_[3]*c;n=n+c}}o[0]/=n;o[1]/=n;o[2]/=n;o[3]/=n;o[0]=o[0]&255;o[1]=o[1]&255;o[2]=o[2]&255;o[3]=o[3]&255;return o};t.interpolateColor=function(t,e,r){var i=[];i[0]=t[0]+(e[0]-t[0])*r;i[1]=t[1]+(e[1]-t[1])*r;i[2]=t[2]+(e[2]-t[2])*r;i[3]=t[3]+(e[3]-t[3])*r;return i};return t}();r.CPURenderingContext2D=n;Object.defineProperty(r,"__esModule",{value:true});r.default=n},{"../geom/Matrix":"awayjs-core/lib/geom/Matrix","../geom/Point":"awayjs-core/lib/geom/Point","../image/BitmapImage2D":"awayjs-core/lib/image/BitmapImage2D"}],"awayjs-core/lib/image/IImageCanvas":[function(t,e,r){"use strict"},{}],"awayjs-core/lib/image/Image2D":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../image/ImageBase");var s=t("../geom/Rectangle");var n=t("../utils/ImageUtils");var o=function(t){i(e,t);function e(e,r,i){if(i===void 0){i=true}t.call(this);this._powerOfTwo=true;this._rect=new s.Rectangle(0,0,e,r);this._powerOfTwo=i;this._testDimensions()}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"height",{get:function(){return this._rect.height},set:function(t){if(this._rect.height==t)return;this._setSize(this._rect.width,t)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"rect",{get:function(){return this._rect},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"width",{get:function(){return this._rect.width},set:function(t){if(this._rect.width==t)return;this._setSize(t,this._rect.height)},enumerable:true,configurable:true});e.prototype._setSize=function(t,e){if(this._rect.width!=t||this._rect.height!=e)this.clear();this._rect.width=t;this._rect.height=e;this._testDimensions()};e.prototype._testDimensions=function(){if(this._powerOfTwo&&(!n.ImageUtils.isDimensionValid(this._rect.width)||!n.ImageUtils.isDimensionValid(this._rect.height)))throw new Error("Invalid dimension: Width and height must be power of 2 and cannot exceed 2048")};Object.defineProperty(e.prototype,"powerOfTwo",{get:function(){return this._powerOfTwo},set:function(t){if(this._powerOfTwo==t)return;this._powerOfTwo=t;this._testDimensions()},enumerable:true,configurable:true});e.assetType="[image Image2D]";return e}(a.ImageBase);r.Image2D=o},{"../geom/Rectangle":"awayjs-core/lib/geom/Rectangle","../image/ImageBase":"awayjs-core/lib/image/ImageBase","../utils/ImageUtils":"awayjs-core/lib/utils/ImageUtils"}],"awayjs-core/lib/image/ImageBase":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../library/AssetBase");var s=function(t){i(e,t);function e(){t.call(this);this._pFormat="bgra"}Object.defineProperty(e.prototype,"format",{get:function(){return this._pFormat},enumerable:true,configurable:true});return e}(a.AssetBase);r.ImageBase=s},{"../library/AssetBase":"awayjs-core/lib/library/AssetBase"}],"awayjs-core/lib/image/ImageCube":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../image/ImageBase");var s=t("../utils/ImageUtils");var n=function(t){i(e,t);function e(e){t.call(this);this._size=e;this._testDimensions()}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){if(this._size==t)return;this._setSize(this._size)},enumerable:true,configurable:true});e.prototype._setSize=function(t){if(this._size!=t)this.clear();this._size=t;this._testDimensions()};e.prototype._testDimensions=function(){if(!s.ImageUtils.isDimensionValid(this._size))throw new Error("Invalid dimension: Width and height must be power of 2 and cannot exceed 2048")};e.assetType="[image ImageCube]";return e}(a.ImageBase);r.ImageCube=n},{"../image/ImageBase":"awayjs-core/lib/image/ImageBase","../utils/ImageUtils":"awayjs-core/lib/utils/ImageUtils"}],"awayjs-core/lib/image/ImageData":[function(t,e,r){"use strict";var i=function(){function t(t,e){this.width=t;this.height=e;this.data=new Uint8Array(t*e*4)}return t}();r.ImageData=i;Object.defineProperty(r,"__esModule",{value:true});r.default=i},{}],"awayjs-core/lib/image/Sampler2D":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../image/SamplerBase");var s=function(t){i(e,t);function e(e,r,i){if(e===void 0){e=false}if(r===void 0){r=false}if(i===void 0){i=false}t.call(this,r,i);this._repeat=e;this._updateRect()}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"repeat",{get:function(){return this._repeat},set:function(t){if(this._repeat==t)return;this._repeat=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"imageRect",{get:function(){return this._imageRect},set:function(t){if(this._imageRect==t)return;this._imageRect=t;this._updateRect()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"frameRect",{get:function(){return this._frameRect},set:function(t){if(this._frameRect==t)return;this._frameRect=t;this._updateRect()},enumerable:true,configurable:true});e.prototype._updateRect=function(){};e.assetType="[asset Sampler2D]";return e}(a.SamplerBase);r.Sampler2D=s},{"../image/SamplerBase":"awayjs-core/lib/image/SamplerBase"}],"awayjs-core/lib/image/SamplerBase":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../library/AssetBase");var s=function(t){i(e,t);function e(e,r){if(e===void 0){e=false}if(r===void 0){r=false}t.call(this);this._smooth=e;this._mipmap=r}Object.defineProperty(e.prototype,"smooth",{get:function(){return this._smooth},set:function(t){if(this._smooth==t)return;this._smooth=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(t){if(this._mipmap==t)return;this._mipmap=t},enumerable:true,configurable:true});return e}(a.AssetBase);r.SamplerBase=s},{"../library/AssetBase":"awayjs-core/lib/library/AssetBase"}],"awayjs-core/lib/image/SamplerCube":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../image/SamplerBase");var s=function(t){i(e,t);function e(e,r){if(e===void 0){e=false}if(r===void 0){r=false}t.call(this,e,r)}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});e.assetType="[asset SamplerCube]";return e}(a.SamplerBase);r.SamplerCube=s},{"../image/SamplerBase":"awayjs-core/lib/image/SamplerBase"}],"awayjs-core/lib/image/SpecularImage2D":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../image/BitmapImage2D");var s=t("../image/BitmapImageChannel");var n=t("../image/Image2D");var o=t("../geom/Point");var h=function(t){i(e,t);function e(e,r){if(e===void 0){e=null}if(r===void 0){r=null}t.call(this,1,1);this._specularSource=e;this._glossSource=r;this._output=new a.BitmapImage2D(1,1,false,16777215);this._testSize()}Object.defineProperty(e.prototype,"assetType",{get:function(){return e.assetType},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"specularSource",{get:function(){return this._specularSource},set:function(t){if(this._specularSource==t)return;this._specularSource=t;this.invalidate();this._testSize()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"glossSource",{get:function(){return this._glossSource},set:function(t){if(this._glossSource==t)return;this._glossSource=t;this.invalidate();this._testSize()},enumerable:true,configurable:true});e.prototype.clone=function(){return new e(this._specularSource,this._glossSource)};e.prototype.dispose=function(){t.prototype.dispose.call(this);this._rect=null;this._output.dispose()};e.prototype.getImageData=function(){var t=new o.Point;this._output.fillRect(this._rect,16777215);if(this._glossSource)this._output.copyChannel(this._glossSource,this._rect,t,s.BitmapImageChannel.GREEN,s.BitmapImageChannel.GREEN);if(this._specularSource)this._output.copyChannel(this._specularSource,this._rect,t,s.BitmapImageChannel.RED,s.BitmapImageChannel.RED);return this._output.getImageData()};e.prototype.getCanvas=function(){return this._output.getCanvas()};e.prototype._setSize=function(e,r){
t.prototype._setSize.call(this,e,r);this._output._setSize(e,r)};e.prototype._testSize=function(){var t,e;if(this._specularSource){t=this._specularSource.width;e=this._specularSource.height}else if(this._glossSource){t=this._glossSource.width;e=this._glossSource.height}else{t=1;e=1}if(t!=this._output.width&&e!=this._output.height){this._output.dispose();this._output=new a.BitmapImage2D(t,e,false,16777215)}this._setSize(t,e)};e.assetType="[asset SpecularImage2D]";return e}(n.Image2D);r.SpecularImage2D=h},{"../geom/Point":"awayjs-core/lib/geom/Point","../image/BitmapImage2D":"awayjs-core/lib/image/BitmapImage2D","../image/BitmapImageChannel":"awayjs-core/lib/image/BitmapImageChannel","../image/Image2D":"awayjs-core/lib/image/Image2D"}],"awayjs-core/lib/image":[function(t,e,r){"use strict";var i=t("./image/BitmapImage2D");r.BitmapImage2D=i.BitmapImage2D;var a=t("./image/BitmapImageChannel");r.BitmapImageChannel=a.BitmapImageChannel;var s=t("./image/BitmapImageCube");r.BitmapImageCube=s.BitmapImageCube;var n=t("./image/BlendMode");r.BlendMode=n.BlendMode;var o=t("./image/CPUCanvas");r.CPUCanvas=o.CPUCanvas;var h=t("./image/CPURenderingContext2D");r.CPURenderingContext2D=h.CPURenderingContext2D;var u=t("./image/Image2D");r.Image2D=u.Image2D;var c=t("./image/ImageBase");r.ImageBase=c.ImageBase;var l=t("./image/ImageCube");r.ImageCube=l.ImageCube;var p=t("./image/ImageData");r.ImageData=p.ImageData;var f=t("./image/Sampler2D");r.Sampler2D=f.Sampler2D;var y=t("./image/SamplerBase");r.SamplerBase=y.SamplerBase;var d=t("./image/SamplerCube");r.SamplerCube=d.SamplerCube;var _=t("./image/SpecularImage2D");r.SpecularImage2D=_.SpecularImage2D},{"./image/BitmapImage2D":"awayjs-core/lib/image/BitmapImage2D","./image/BitmapImageChannel":"awayjs-core/lib/image/BitmapImageChannel","./image/BitmapImageCube":"awayjs-core/lib/image/BitmapImageCube","./image/BlendMode":"awayjs-core/lib/image/BlendMode","./image/CPUCanvas":"awayjs-core/lib/image/CPUCanvas","./image/CPURenderingContext2D":"awayjs-core/lib/image/CPURenderingContext2D","./image/Image2D":"awayjs-core/lib/image/Image2D","./image/ImageBase":"awayjs-core/lib/image/ImageBase","./image/ImageCube":"awayjs-core/lib/image/ImageCube","./image/ImageData":"awayjs-core/lib/image/ImageData","./image/Sampler2D":"awayjs-core/lib/image/Sampler2D","./image/SamplerBase":"awayjs-core/lib/image/SamplerBase","./image/SamplerCube":"awayjs-core/lib/image/SamplerCube","./image/SpecularImage2D":"awayjs-core/lib/image/SpecularImage2D"}],"awayjs-core/lib/library/AbstractionBase":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../events/AssetEvent");var s=t("../events/EventDispatcher");var n=function(t){i(e,t);function e(e,r){var i=this;t.call(this);this._invalid=true;this._asset=e;this._pool=r;this._onClearDelegate=function(t){return i.onClear(t)};this._onInvalidateDelegate=function(t){return i.onInvalidate(t)};this._asset.addEventListener(a.AssetEvent.CLEAR,this._onClearDelegate);this._asset.addEventListener(a.AssetEvent.INVALIDATE,this._onInvalidateDelegate)}e.prototype.onClear=function(t){this._asset.removeEventListener(a.AssetEvent.CLEAR,this._onClearDelegate);this._asset.removeEventListener(a.AssetEvent.INVALIDATE,this._onInvalidateDelegate);this._pool.clearAbstraction(this._asset);this._pool=null;this._asset=null};e.prototype.onInvalidate=function(t){this._invalid=true};return e}(s.EventDispatcher);r.AbstractionBase=n},{"../events/AssetEvent":"awayjs-core/lib/events/AssetEvent","../events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher"}],"awayjs-core/lib/library/AssetBase":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../errors/AbstractMethodError");var s=t("../events/AssetEvent");var n=t("../events/EventDispatcher");var o=function(t){i(e,t);function e(r){if(r===void 0){r=null}t.call(this);this._id=e.ID_COUNT++;if(r==null)r="null";this._name=r;this._originalName=r;this.updateFullPath()}Object.defineProperty(e.prototype,"assetType",{get:function(){throw new a.AbstractMethodError},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"originalName",{get:function(){return this._originalName},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){var e;e=this._name;this._name=t;if(this._name==null)this._name="null";this.updateFullPath();this.dispatchEvent(new s.AssetEvent(s.AssetEvent.RENAME,this,e))},enumerable:true,configurable:true});e.prototype.invalidate=function(){this.dispatchEvent(new s.AssetEvent(s.AssetEvent.INVALIDATE,this))};e.prototype.dispose=function(){this.dispatchEvent(new s.AssetEvent(s.AssetEvent.DISPOSE,this))};e.prototype.clear=function(){this.dispatchEvent(new s.AssetEvent(s.AssetEvent.CLEAR,this))};Object.defineProperty(e.prototype,"assetNamespace",{get:function(){return this._namespace},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"assetFullPath",{get:function(){return this._full_path},enumerable:true,configurable:true});e.prototype.assetPathEquals=function(t,e){return this._name==t&&(!e||this._namespace==e)};e.prototype.isAsset=function(t){return this.assetType==t.assetType};e.prototype.resetAssetPath=function(t,r,i){if(r===void 0){r=null}if(i===void 0){i=true}this._name=t?t:"null";this._namespace=r?r:e.DEFAULT_NAMESPACE;if(i)this._originalName=this._name;this.updateFullPath()};e.prototype.updateFullPath=function(){this._full_path=[this._namespace,this._name]};e.ID_COUNT=0;e.DEFAULT_NAMESPACE="default";return e}(n.EventDispatcher);r.AssetBase=o},{"../errors/AbstractMethodError":"awayjs-core/lib/errors/AbstractMethodError","../events/AssetEvent":"awayjs-core/lib/events/AssetEvent","../events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher"}],"awayjs-core/lib/library/AssetLibraryBundle":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../library/AssetLibraryIterator");var s=t("../library/Loader");var n=t("../library/ConflictPrecedence");var o=t("../library/ConflictStrategy");var h=t("../library/AssetBase");var u=t("../errors/ErrorBase");var c=t("../events/AssetEvent");var l=t("../events/URLLoaderEvent");var p=t("../events/LoaderEvent");var f=t("../events/EventDispatcher");var y=t("../events/ParserEvent");var d=function(t){i(e,t);function e(){var e=this;t.call(this);this._loaderSessionsGarbage=new Array;this._assets=new Array;this._assetDictionary=new Object;this._loaderSessions=new Array;this.conflictStrategy=o.ConflictStrategy.IGNORE.create();this.conflictPrecedence=n.ConflictPrecedence.FAVOR_NEW;this._onAssetRenameDelegate=function(t){return e.onAssetRename(t)};this._onAssetConflictResolvedDelegate=function(t){return e.onAssetConflictResolved(t)};this._onResourceCompleteDelegate=function(t){return e.onResourceComplete(t)};this._onTextureSizeErrorDelegate=function(t){return e.onTextureSizeError(t)};this._onAssetCompleteDelegate=function(t){return e.onAssetComplete(t)};this._onLoadErrorDelegate=function(t){return e.onLoadError(t)};this._onParseErrorDelegate=function(t){return e.onParseError(t)}}e.getInstance=function(t){if(t===void 0){t="default"}if(!t)t="default";if(!e._iInstances.hasOwnProperty(t))e._iInstances[t]=new e;return e._iInstances[t]};e.prototype.enableParser=function(t){s.Loader.enableParser(t)};e.prototype.enableParsers=function(t){s.Loader.enableParsers(t)};Object.defineProperty(e.prototype,"conflictStrategy",{get:function(){return this._strategy},set:function(t){if(!t)throw new u.ErrorBase("namingStrategy must not be null. To ignore naming, use AssetLibrary.IGNORE");this._strategy=t.create()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"conflictPrecedence",{get:function(){return this._strategyPreference},set:function(t){this._strategyPreference=t},enumerable:true,configurable:true});e.prototype.createIterator=function(t,e,r){if(t===void 0){t=null}if(e===void 0){e=null}if(r===void 0){r=null}return new a.AssetLibraryIterator(this._assets,t,e,r)};e.prototype.load=function(t,e,r,i){if(e===void 0){e=null}if(r===void 0){r=null}if(i===void 0){i=null}this.getLoader().load(t,e,r,i)};e.prototype.loadData=function(t,e,r,i){if(e===void 0){e=null}if(r===void 0){r=null}if(i===void 0){i=null}this.getLoader().loadData(t,"",e,r,i)};e.prototype.getLoader=function(){var t=new s.Loader;this._loaderSessions.push(t);t.addEventListener(p.LoaderEvent.LOAD_COMPLETE,this._onResourceCompleteDelegate);t.addEventListener(c.AssetEvent.TEXTURE_SIZE_ERROR,this._onTextureSizeErrorDelegate);t.addEventListener(c.AssetEvent.ASSET_COMPLETE,this._onAssetCompleteDelegate);t._iAddErrorHandler(this._onLoadErrorDelegate);t._iAddParseErrorHandler(this._onParseErrorDelegate);return t};e.prototype.disposeLoader=function(t){var e=this;var r=this._loaderSessions.indexOf(t);this._loaderSessions.splice(r,1);this._loaderSessionsGarbage.push(t);this._gcTimeoutIID=setTimeout(function(){e.loaderSessionGC()},100)};e.prototype.getAsset=function(t,e){if(e===void 0){e=null}if(this._assetDictDirty)this.rehashAssetDict();if(e==null)e=h.AssetBase.DEFAULT_NAMESPACE;if(!this._assetDictionary.hasOwnProperty(e))return null;return this._assetDictionary[e][t]};e.prototype.getAllAssets=function(){return this._assets};e.prototype.addAsset=function(t){var e;var r;if(this._assets.indexOf(t)>=0)return;r=this.getAsset(t.name,t.assetNamespace);e=t.assetNamespace||h.AssetBase.DEFAULT_NAMESPACE;if(r!=null)this._strategy.resolveConflict(t,r,this._assetDictionary[e],this._strategyPreference);this._assets.push(t);if(!this._assetDictionary.hasOwnProperty(e))this._assetDictionary[e]=new Object;this._assetDictionary[e][t.name]=t;t.addEventListener(c.AssetEvent.RENAME,this._onAssetRenameDelegate);t.addEventListener(c.AssetEvent.ASSET_CONFLICT_RESOLVED,this._onAssetConflictResolvedDelegate)};e.prototype.removeAsset=function(t,e){if(e===void 0){e=true}var r;this.removeAssetFromDict(t);t.removeEventListener(c.AssetEvent.RENAME,this._onAssetRenameDelegate);t.removeEventListener(c.AssetEvent.ASSET_CONFLICT_RESOLVED,this._onAssetConflictResolvedDelegate);r=this._assets.indexOf(t);if(r>=0)this._assets.splice(r,1);if(e)t.dispose()};e.prototype.removeAssetByName=function(t,e,r){if(e===void 0){e=null}if(r===void 0){r=true}var i=this.getAsset(t,e);if(i)this.removeAsset(i,r);return i};e.prototype.removeAllAssets=function(t){if(t===void 0){t=true}if(t){var e;var r=this._assets.length;for(var i=0;i<r;i++){e=this._assets[i];e.dispose()}}this._assets.length=0;this.rehashAssetDict()};e.prototype.removeNamespaceAssets=function(t,e){if(t===void 0){t=null}if(e===void 0){e=true}var r=0;var i;var a;a=this._assets.concat();this._assets.length=0;if(t==null)t=h.AssetBase.DEFAULT_NAMESPACE;var s=a.length;for(var n=0;n<s;n++){i=a[n];if(i.assetNamespace==t){if(e)i.dispose();this.removeAssetFromDict(i,false)}else{this._assets[r++]=i}}if(this._assetDictionary.hasOwnProperty(t))delete this._assetDictionary[t]};e.prototype.removeAssetFromDict=function(t,e){if(e===void 0){e=true}if(this._assetDictDirty)this.rehashAssetDict();if(this._assetDictionary.hasOwnProperty(t.assetNamespace)){if(this._assetDictionary[t.assetNamespace].hasOwnProperty(t.name))delete this._assetDictionary[t.assetNamespace][t.name];if(e){var r;var i=true;for(r in this._assetDictionary[t.assetNamespace]){i=false;break}if(i)delete this._assetDictionary[t.assetNamespace]}}};e.prototype.stopAllLoaders=function(){var t=this._loaderSessions.length;for(var e=0;e<t;e++)this.killloaderSession(this._loaderSessions[e]);this._loaderSessions=new Array};e.prototype.rehashAssetDict=function(){var t;this._assetDictionary={};var e=this._assets.length;for(var r=0;r<e;r++){t=this._assets[r];if(!this._assetDictionary.hasOwnProperty(t.assetNamespace))this._assetDictionary[t.assetNamespace]={};this._assetDictionary[t.assetNamespace][t.name]=t}this._assetDictDirty=false};e.prototype.onLoadError=function(t){if(this.hasEventListener(l.URLLoaderEvent.LOAD_ERROR)){this.dispatchEvent(t);return true}else{return false}};e.prototype.onParseError=function(t){if(this.hasEventListener(y.ParserEvent.PARSE_ERROR)){this.dispatchEvent(t);return true}else{return false}};e.prototype.onAssetComplete=function(t){if(t.type==c.AssetEvent.ASSET_COMPLETE)this.addAsset(t.asset);this.dispatchEvent(t)};e.prototype.onTextureSizeError=function(t){this.dispatchEvent(t)};e.prototype.onResourceComplete=function(t){var e=t.target;this.dispatchEvent(t);this.disposeLoader(e)};e.prototype.loaderSessionGC=function(){var t;while(this._loaderSessionsGarbage.length>0){t=this._loaderSessionsGarbage.pop();this.killloaderSession(t)}clearTimeout(this._gcTimeoutIID);this._gcTimeoutIID=null};e.prototype.killloaderSession=function(t){t.removeEventListener(p.LoaderEvent.LOAD_COMPLETE,this._onResourceCompleteDelegate);t.removeEventListener(c.AssetEvent.TEXTURE_SIZE_ERROR,this._onTextureSizeErrorDelegate);t.removeEventListener(c.AssetEvent.ASSET_COMPLETE,this._onAssetCompleteDelegate);t.stop()};e.prototype.onAssetRename=function(t){var e=t.target;var r=this.getAsset(e.assetNamespace,e.name);if(r!=null){this._strategy.resolveConflict(e,r,this._assetDictionary[e.assetNamespace],this._strategyPreference)}else{var i=this._assetDictionary[t.asset.assetNamespace];if(i==null)return;i[t.prevName]=null;i[t.asset.name]=t.asset}};e.prototype.onAssetConflictResolved=function(t){this.dispatchEvent(t.clone())};e._iInstances=new Object;return e}(f.EventDispatcher);r.AssetLibraryBundle=d},{"../errors/ErrorBase":"awayjs-core/lib/errors/ErrorBase","../events/AssetEvent":"awayjs-core/lib/events/AssetEvent","../events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher","../events/LoaderEvent":"awayjs-core/lib/events/LoaderEvent","../events/ParserEvent":"awayjs-core/lib/events/ParserEvent","../events/URLLoaderEvent":"awayjs-core/lib/events/URLLoaderEvent","../library/AssetBase":"awayjs-core/lib/library/AssetBase","../library/AssetLibraryIterator":"awayjs-core/lib/library/AssetLibraryIterator","../library/ConflictPrecedence":"awayjs-core/lib/library/ConflictPrecedence","../library/ConflictStrategy":"awayjs-core/lib/library/ConflictStrategy","../library/Loader":"awayjs-core/lib/library/Loader"}],"awayjs-core/lib/library/AssetLibraryIterator":[function(t,e,r){"use strict";var i=function(){function t(t,e,r,i){this._assets=t;this.filter(e,r,i)}Object.defineProperty(t.prototype,"currentAsset",{get:function(){return this._idx<this._filtered.length?this._filtered[this._idx]:null},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"numAssets",{get:function(){return this._filtered.length},enumerable:true,configurable:true});t.prototype.next=function(){var t=null;if(this._idx<this._filtered.length)t=this._filtered[this._idx];this._idx++;return t};t.prototype.reset=function(){this._idx=0};t.prototype.setIndex=function(t){this._idx=t};t.prototype.filter=function(t,e,r){if(t||e){var i;var a;i=0;this._filtered=new Array;var s=this._assets.length;for(var n=0;n<s;n++){a=this._assets[n];if(t&&a.assetType!=t)continue;if(e&&a.assetNamespace!=e)continue;if(r!=null&&!r(a))continue;this._filtered[i++]=a}}else{this._filtered=this._assets}};return t}();r.AssetLibraryIterator=i},{}],"awayjs-core/lib/library/AssetLibrary":[function(t,e,r){"use strict";var i=t("../library/AssetLibraryBundle");var a=t("../library/Loader");var s=function(){function t(){}t.getBundle=function(t){if(t===void 0){t="default"}return i.AssetLibraryBundle.getInstance(t)};t.enableParser=function(t){a.Loader.enableParser(t)};t.enableParsers=function(t){a.Loader.enableParsers(t)};Object.defineProperty(t,"conflictStrategy",{get:function(){return t.getBundle().conflictStrategy},set:function(e){t.getBundle().conflictStrategy=e},enumerable:true,configurable:true});Object.defineProperty(t,"conflictPrecedence",{get:function(){return t.getBundle().conflictPrecedence},set:function(e){t.getBundle().conflictPrecedence=e},enumerable:true,configurable:true});t.createIterator=function(e,r,i){if(e===void 0){e=null}if(r===void 0){r=null}if(i===void 0){i=null}return t.getBundle().createIterator(e,r,i)};t.load=function(e,r,i,a){if(r===void 0){r=null}if(i===void 0){i=null}if(a===void 0){a=null}t.getBundle().load(e,r,i,a)};t.loadData=function(e,r,i,a){if(r===void 0){r=null}if(i===void 0){i=null}if(a===void 0){a=null}t.getBundle().loadData(e,r,i,a)};t.stopLoad=function(){t.getBundle().stopAllLoaders()};t.getLoader=function(){return t.getBundle().getLoader()};t.getAsset=function(e,r){if(r===void 0){r=null}return t.getBundle().getAsset(e,r)};t.getAllAssets=function(){return t.getBundle().getAllAssets()};t.addEventListener=function(e,r){t.getBundle().addEventListener(e,r)};t.removeEventListener=function(e,r){t.getBundle().removeEventListener(e,r)};t.addAsset=function(e){t.getBundle().addAsset(e)};t.removeAsset=function(e,r){if(r===void 0){r=true}t.getBundle().removeAsset(e,r)};t.removeAssetByName=function(e,r,i){if(r===void 0){r=null}if(i===void 0){i=true}return t.getBundle().removeAssetByName(e,r,i)};t.removeAllAssets=function(e){if(e===void 0){e=true}t.getBundle().removeAllAssets(e)};t.removeNamespaceAssets=function(e,r){if(e===void 0){e=null}if(r===void 0){r=true}t.getBundle().removeNamespaceAssets(e,r)};return t}();r.AssetLibrary=s},{"../library/AssetLibraryBundle":"awayjs-core/lib/library/AssetLibraryBundle","../library/Loader":"awayjs-core/lib/library/Loader"}],"awayjs-core/lib/library/ConflictPrecedence":[function(t,e,r){"use strict";var i=function(){function t(){}t.FAVOR_OLD="favorOld";t.FAVOR_NEW="favorNew";return t}();r.ConflictPrecedence=i},{}],"awayjs-core/lib/library/ConflictStrategyBase":[function(t,e,r){"use strict";var i=t("../library/ConflictPrecedence");var a=t("../errors/AbstractMethodError");var s=t("../events/AssetEvent");var n=function(){function t(){}t.prototype.resolveConflict=function(t,e,r,i){throw new a.AbstractMethodError};t.prototype.create=function(){throw new a.AbstractMethodError};t.prototype._pUpdateNames=function(t,e,r,a,n,o){var h;var u;var c;u=o===i.ConflictPrecedence.FAVOR_NEW?a:r;c=o===i.ConflictPrecedence.FAVOR_NEW?r:a;h=c.name;n[u.name]=u;n[e]=c;c.resetAssetPath(e,t,false);c.dispatchEvent(new s.AssetEvent(s.AssetEvent.ASSET_CONFLICT_RESOLVED,c,h))};return t}();r.ConflictStrategyBase=n},{"../errors/AbstractMethodError":"awayjs-core/lib/errors/AbstractMethodError","../events/AssetEvent":"awayjs-core/lib/events/AssetEvent","../library/ConflictPrecedence":"awayjs-core/lib/library/ConflictPrecedence"}],"awayjs-core/lib/library/ConflictStrategy":[function(t,e,r){"use strict";var i=t("../library/ErrorConflictStrategy");var a=t("../library/IgnoreConflictStrategy");var s=t("../library/NumSuffixConflictStrategy");var n=function(){function t(t){}t.APPEND_NUM_SUFFIX=new s.NumSuffixConflictStrategy;t.IGNORE=new a.IgnoreConflictStrategy;t.THROW_ERROR=new i.ErrorConflictStrategy;return t}();r.ConflictStrategy=n},{"../library/ErrorConflictStrategy":"awayjs-core/lib/library/ErrorConflictStrategy","../library/IgnoreConflictStrategy":"awayjs-core/lib/library/IgnoreConflictStrategy","../library/NumSuffixConflictStrategy":"awayjs-core/lib/library/NumSuffixConflictStrategy"}],"awayjs-core/lib/library/ErrorConflictStrategy":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../library/ConflictStrategyBase");var s=t("../errors/ErrorBase");var n=function(t){i(e,t);function e(){t.call(this)}e.prototype.resolveConflict=function(t,e,r,i){throw new s.ErrorBase("Asset name collision while AssetLibrary.namingStrategy set to AssetLibrary.THROW_ERROR. Asset path: "+t.assetFullPath)};e.prototype.create=function(){return new e};return e}(a.ConflictStrategyBase);r.ErrorConflictStrategy=n},{"../errors/ErrorBase":"awayjs-core/lib/errors/ErrorBase","../library/ConflictStrategyBase":"awayjs-core/lib/library/ConflictStrategyBase"}],"awayjs-core/lib/library/IAbstractionPool":[function(t,e,r){"use strict"},{}],"awayjs-core/lib/library/IAssetClass":[function(t,e,r){"use strict"},{}],"awayjs-core/lib/library/IAsset":[function(t,e,r){"use strict"},{}],"awayjs-core/lib/library/IDUtil":[function(t,e,r){"use strict";var i=function(){function t(){}t.createUID=function(){var e=new Array(36);var r=0;var i;var a;for(i=0;i<8;i++)e[r++]=t.ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];for(i=0;i<3;i++){e[r++]=45;for(a=0;a<4;a++)e[r++]=t.ALPHA_CHAR_CODES[Math.floor(Math.random()*16)]}e[r++]=45;var s=(new Date).getTime();var n=("0000000"+s.toString(16).toUpperCase()).substr(-8);for(i=0;i<8;i++)e[r++]=n.charCodeAt(i);for(i=0;i<4;i++)e[r++]=t.ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];return String.fromCharCode.apply(null,e)};t.ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];return t}();r.IDUtil=i},{}],"awayjs-core/lib/library/IgnoreConflictStrategy":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../library/ConflictStrategyBase");var s=function(t){i(e,t);function e(){t.call(this)}e.prototype.resolveConflict=function(t,e,r,i){return};e.prototype.create=function(){return new e};return e}(a.ConflictStrategyBase);r.IgnoreConflictStrategy=s},{"../library/ConflictStrategyBase":"awayjs-core/lib/library/ConflictStrategyBase"}],"awayjs-core/lib/library/LoaderContext":[function(t,e,r){"use strict";var i=function(){function t(e,r){if(e===void 0){e=true}if(r===void 0){r=null}this._includeDependencies=e;this._dependencyBaseUrl=r||"";this._embeddedDataByUrl={};this._remappedUrls={};this._materialMode=t.UNDEFINED}Object.defineProperty(t.prototype,"includeDependencies",{get:function(){return this._includeDependencies},set:function(t){this._includeDependencies=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"materialMode",{get:function(){return this._materialMode},set:function(t){this._materialMode=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"dependencyBaseUrl",{get:function(){return this._dependencyBaseUrl},set:function(t){this._dependencyBaseUrl=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"overrideAbsolutePaths",{get:function(){return this._overrideAbsPath},set:function(t){this._overrideAbsPath=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"overrideFullURLs",{get:function(){return this._overrideFullUrls},set:function(t){this._overrideFullUrls=t},enumerable:true,configurable:true});t.prototype.mapUrl=function(t,e){this._remappedUrls[t]=e};t.prototype.mapUrlToData=function(t,e){this._embeddedDataByUrl[t]=e};t.prototype._iHasDataForUrl=function(t){return this._embeddedDataByUrl.hasOwnProperty(t)};t.prototype._iGetDataForUrl=function(t){return this._embeddedDataByUrl[t]};t.prototype._iHasMappingForUrl=function(t){return this._remappedUrls.hasOwnProperty(t)};t.prototype._iGetRemappedUrl=function(t){return this._remappedUrls[t]};t.UNDEFINED=0;t.SINGLEPASS_MATERIALS=1;t.MULTIPASS_MATERIALS=2;return t}();r.LoaderContext=i},{}],"awayjs-core/lib/library/LoaderInfo":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../events/EventDispatcher");var s=function(t){i(e,t);function e(){t.apply(this,arguments)}Object.defineProperty(e.prototype,"bytes",{get:function(){return this._bytes},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"bytesLoaded",{get:function(){return this._bytesLoaded},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"bytesTotal",{get:function(){return this._bytesTotal},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"contentType",{get:function(){return this._contentType},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"loader",{get:function(){return this._loader},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:true,configurable:true});return e}(a.EventDispatcher);r.LoaderInfo=s},{"../events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher"}],"awayjs-core/lib/library/Loader":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../net/URLLoader");var s=t("../net/URLLoaderDataFormat");var n=t("../events/AssetEvent");var o=t("../events/EventDispatcher");var h=t("../events/URLLoaderEvent");var u=t("../events/LoaderEvent");var c=t("../events/ParserEvent");var l=t("../parsers/ResourceDependency");var p=function(t){i(e,t);function e(e){var r=this;if(e===void 0){e=0}t.call(this);this._materialMode=e;this._stack=new Array;this._errorHandlers=new Array;this._parseErrorHandlers=new Array;this._onReadyForDependenciesDelegate=function(t){return r.onReadyForDependencies(t)};this._onParseCompleteDelegate=function(t){return r.onParseComplete(t)};this._onParseErrorDelegate=function(t){return r.onParseError(t)};this._onLoadCompleteDelegate=function(t){return r.onLoadComplete(t)};this._onLoadErrorDelegate=function(t){return r.onLoadError(t)};this._onTextureSizeErrorDelegate=function(t){return r.onTextureSizeError(t)};this._onAssetCompleteDelegate=function(t){return r.onAssetComplete(t)}}e.enableParser=function(t){if(e._parsers.indexOf(t)<0)e._parsers.push(t)};e.enableParsers=function(t){for(var r=0;r<t.length;r++)e.enableParser(t[r])};Object.defineProperty(e.prototype,"baseDependency",{get:function(){return this._baseDependency},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"loaderInfo",{get:function(){return this._loaderInfo},enumerable:true,configurable:true});e.prototype.load=function(t,e,r,i){if(e===void 0){e=null}if(r===void 0){r=null}if(i===void 0){i=null}this._uri=t.url=t.url.replace(/\\/g,"/");this._context=e;this._namespace=r;this._baseDependency=new l.ResourceDependency("",t,null,i,null);this.retrieveDependency(this._baseDependency)};e.prototype.loadData=function(t,e,r,i,a){if(r===void 0){r=null}if(i===void 0){i=null}if(a===void 0){a=null}this._uri=e;this._context=r;this._namespace=i;this._baseDependency=new l.ResourceDependency(e,null,t,a,null);this.retrieveDependency(this._baseDependency)};e.prototype.retrieveNext=function(t){if(t===void 0){t=null}if(this._currentDependency.dependencies.length){var e=this._currentDependency.dependencies.pop();this._stack.push(this._currentDependency);this.retrieveDependency(e)}else if(this._currentDependency.parser&&this._currentDependency.parser.parsingPaused){this._currentDependency.parser._iResumeParsing();this._stack.pop()}else if(this._stack.length){var r=this._currentDependency;this._currentDependency=this._stack.pop();if(r._iSuccess)r.resolve();this.retrieveNext(t)}else{this.dispatchEvent(new u.LoaderEvent(u.LoaderEvent.LOAD_COMPLETE,this._uri,this._baseDependency.parser.content,this._baseDependency.assets))}};e.prototype.retrieveDependency=function(t){var e;if(this._context&&this._context.materialMode!=0)this._materialMode=this._context.materialMode;this._currentDependency=t;t._iLoader=new a.URLLoader;this.addEventListeners(t._iLoader);e=t.data;if(this._context&&t.request&&this._context._iHasDataForUrl(t.request.url))e=this._context._iGetDataForUrl(t.request.url);if(e){if(e.constructor===Function)e=new e;t._iSetData(e);if(t.retrieveAsRawData){t.resolve();this.retrieveNext()}else{this.parseDependency(t)}}else{t.request.url=this.resolveDependencyUrl(t);if(t.retrieveAsRawData){t._iLoader.dataFormat=s.URLLoaderDataFormat.BINARY}else{if(!t.parser)t._iSetParser(this.getParserFromSuffix(t.request.url));if(t.parser){t._iLoader.dataFormat=t.parser.dataFormat}else{t._iLoader.dataFormat=s.URLLoaderDataFormat.BINARY}}t._iLoader.load(t.request)}};e.prototype.joinUrl=function(t,e){if(e.charAt(0)=="/"||e.charAt(0)=="\\")e=e.substr(1);if(e.charAt(0)==".")e=e.substr(2);if(t.length==0)return e;if(t.charAt(t.length-1)=="/"||t.charAt(t.length-1)=="\\")t=t.substr(0,t.length-1);return t.concat("/",e)};e.prototype.resolveDependencyUrl=function(t){var e;var r;var i=t.request.url;if(this._context&&this._context._iHasMappingForUrl(i))return this._context._iGetRemappedUrl(i);if(i==this._uri)return i;e=new RegExp("/^[a-zA-Z]{3,4}:///");if(i.charAt(0)=="/"){if(this._context&&this._context.overrideAbsolutePaths)return this.joinUrl(this._context.dependencyBaseUrl,i);else return i}else if(e.test(i)){if(this._context&&this._context.overrideFullURLs){var a=i.replace(e,"");return this.joinUrl(this._context.dependencyBaseUrl,a)}}if(this._context&&this._context.dependencyBaseUrl){r=this._context.dependencyBaseUrl;return this.joinUrl(r,i)}else{r=this._uri.substring(0,this._uri.lastIndexOf("/")+1);return this.joinUrl(r,i)}};e.prototype.retrieveParserDependencies=function(){if(!this._currentDependency)return;var t=this._currentDependency.parser.dependencies;var e,r=t.length;for(e=0;e<r;e++)this._currentDependency.dependencies[e]=t[e];t.length=0;this._stack.push(this._currentDependency);this.retrieveNext()};e.prototype.resolveParserDependencies=function(){this._currentDependency._iSuccess=true;if(this._currentDependency.parser&&this._currentDependency.parser.dependencies.length&&(!this._context||this._context.includeDependencies))this.retrieveParserDependencies();else this.retrieveNext()};e.prototype.onLoadError=function(t){var e;var r=this._currentDependency!=this._baseDependency;var i=t.urlLoader;this.removeEventListeners(i);if(this.hasEventListener(h.URLLoaderEvent.LOAD_ERROR)){this.dispatchEvent(t);e=true}else{var a,s=this._errorHandlers.length;for(a=0;a<s;a++)if(!e)e=this._errorHandlers[a](t)}if(e){if(r){this._currentDependency.resolveFailure();this.retrieveNext()}else{this.dispose();return}}else{throw new Error}};e.prototype.onParseError=function(t){var e;var r=this._currentDependency!=this._baseDependency;var i=t.target;this.removeEventListeners(i);if(this.hasEventListener(c.ParserEvent.PARSE_ERROR)){this.dispatchEvent(t);e=true}else{var a,s=this._parseErrorHandlers.length;for(a=0;a<s;a++)if(!e)e=this._parseErrorHandlers[a](t)}if(e){this.retrieveNext()}else{throw new Error(t.message)}};e.prototype.onAssetComplete=function(t){if(this._currentDependency)this._currentDependency.assets.push(t.asset);t.asset.resetAssetPath(t.asset.name,this._namespace);if(!this._currentDependency.suppresAssetEvents)this.dispatchEvent(t)};e.prototype.onReadyForDependencies=function(t){var e=t.target;if(this._context&&!this._context.includeDependencies)e._iResumeParsing();else this.retrieveParserDependencies()};e.prototype.onLoadComplete=function(t){var e=t.urlLoader;this.removeEventListeners(e);this._currentDependency._iSetData(e.data);if(this._currentDependency.retrieveAsRawData){this.resolveParserDependencies()}else{this.parseDependency(this._currentDependency)}};e.prototype.onParseComplete=function(t){var e=t.target;this.resolveParserDependencies();e.removeEventListener(c.ParserEvent.READY_FOR_DEPENDENCIES,this._onReadyForDependenciesDelegate);e.removeEventListener(c.ParserEvent.PARSE_COMPLETE,this._onParseCompleteDelegate);
e.removeEventListener(c.ParserEvent.PARSE_ERROR,this._onParseErrorDelegate);e.removeEventListener(n.AssetEvent.TEXTURE_SIZE_ERROR,this._onTextureSizeErrorDelegate);e.removeEventListener(n.AssetEvent.ASSET_COMPLETE,this._onAssetCompleteDelegate)};e.prototype.onTextureSizeError=function(t){t.asset.name=this._currentDependency.resolveName(t.asset);this.dispatchEvent(t)};e.prototype.addEventListeners=function(t){t.addEventListener(h.URLLoaderEvent.LOAD_COMPLETE,this._onLoadCompleteDelegate);t.addEventListener(h.URLLoaderEvent.LOAD_ERROR,this._onLoadErrorDelegate)};e.prototype.removeEventListeners=function(t){t.removeEventListener(h.URLLoaderEvent.LOAD_COMPLETE,this._onLoadCompleteDelegate);t.removeEventListener(h.URLLoaderEvent.LOAD_ERROR,this._onLoadErrorDelegate)};e.prototype.stop=function(){this.dispose()};e.prototype.dispose=function(){this._errorHandlers=null;this._parseErrorHandlers=null;this._context=null;this._stack=null;if(this._currentDependency&&this._currentDependency._iLoader)this.removeEventListeners(this._currentDependency._iLoader);this._currentDependency=null};e.prototype._iAddParseErrorHandler=function(t){if(this._parseErrorHandlers.indexOf(t)<0)this._parseErrorHandlers.push(t)};e.prototype._iAddErrorHandler=function(t){if(this._errorHandlers.indexOf(t)<0)this._errorHandlers.push(t)};e.prototype.getParserFromData=function(t){var r=e._parsers.length;for(var i=r-1;i>=0;i--)if(e._parsers[i].supportsData(t))return new e._parsers[i];return null};e.prototype.parseDependency=function(t){var e=t.parser;if(!e)t._iSetParser(e=this.getParserFromData(t.data));if(e){e.addEventListener(c.ParserEvent.READY_FOR_DEPENDENCIES,this._onReadyForDependenciesDelegate);e.addEventListener(c.ParserEvent.PARSE_COMPLETE,this._onParseCompleteDelegate);e.addEventListener(c.ParserEvent.PARSE_ERROR,this._onParseErrorDelegate);e.addEventListener(n.AssetEvent.TEXTURE_SIZE_ERROR,this._onTextureSizeErrorDelegate);e.addEventListener(n.AssetEvent.ASSET_COMPLETE,this._onAssetCompleteDelegate);if(t.request&&t.request.url)e._iFileName=t.request.url;e.materialMode=this._materialMode;e.parseAsync(t.data)}else{var r;var i="No parser defined. To enable all parsers for auto-detection, use Parsers.enableAllBundled()";var a=new c.ParserEvent(c.ParserEvent.PARSE_ERROR,i);if(this.hasEventListener(c.ParserEvent.PARSE_ERROR)){this.dispatchEvent(a);r=true}else{var s,o=this._parseErrorHandlers.length;for(s=0;s<o;s++)if(!r)r=this._parseErrorHandlers[s](a)}if(r){this.retrieveNext()}else{throw new Error(i)}}};e.prototype.getParserFromSuffix=function(t){var r=t.indexOf("?")>0?t.split("?")[0]:t;var i=r.substr(r.lastIndexOf(".")+1).toLowerCase();var a=e._parsers.length;for(var s=a-1;s>=0;s--){var n=e._parsers[s];if(n.supportsType(i))return new n}return null};e._parsers=new Array;return e}(o.EventDispatcher);r.Loader=p},{"../events/AssetEvent":"awayjs-core/lib/events/AssetEvent","../events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher","../events/LoaderEvent":"awayjs-core/lib/events/LoaderEvent","../events/ParserEvent":"awayjs-core/lib/events/ParserEvent","../events/URLLoaderEvent":"awayjs-core/lib/events/URLLoaderEvent","../net/URLLoader":"awayjs-core/lib/net/URLLoader","../net/URLLoaderDataFormat":"awayjs-core/lib/net/URLLoaderDataFormat","../parsers/ResourceDependency":"awayjs-core/lib/parsers/ResourceDependency"}],"awayjs-core/lib/library/NumSuffixConflictStrategy":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../library/ConflictStrategyBase");var s=function(t){i(e,t);function e(e){if(e===void 0){e="."}t.call(this);this._separator=e;this._next_suffix={}}e.prototype.resolveConflict=function(t,e,r,i){var a;var s;var n;var o;a=t.name;if(a.indexOf(this._separator)>=0){n=a.substring(0,a.lastIndexOf(this._separator));o=parseInt(a.substring(n.length-1));if(isNaN(o)){n=a;o=0}}else{n=a;o=0}if(o==0&&this._next_suffix.hasOwnProperty(n)){o=this._next_suffix[n]}do{o++;s=n.concat(this._separator,o.toString())}while(r.hasOwnProperty(s));this._next_suffix[n]=o;this._pUpdateNames(e.assetNamespace,s,e,t,r,i)};e.prototype.create=function(){return new e(this._separator)};return e}(a.ConflictStrategyBase);r.NumSuffixConflictStrategy=s},{"../library/ConflictStrategyBase":"awayjs-core/lib/library/ConflictStrategyBase"}],"awayjs-core/lib/library":[function(t,e,r){"use strict";var i=t("./library/AbstractionBase");r.AbstractionBase=i.AbstractionBase;var a=t("./library/AssetBase");r.AssetBase=a.AssetBase;var s=t("./library/AssetLibrary");r.AssetLibrary=s.AssetLibrary;var n=t("./library/AssetLibraryBundle");r.AssetLibraryBundle=n.AssetLibraryBundle;var o=t("./library/AssetLibraryIterator");r.AssetLibraryIterator=o.AssetLibraryIterator;var h=t("./library/ConflictPrecedence");r.ConflictPrecedence=h.ConflictPrecedence;var u=t("./library/ConflictStrategy");r.ConflictStrategy=u.ConflictStrategy;var c=t("./library/ConflictStrategyBase");r.ConflictStrategyBase=c.ConflictStrategyBase;var l=t("./library/ErrorConflictStrategy");r.ErrorConflictStrategy=l.ErrorConflictStrategy;var p=t("./library/IDUtil");r.IDUtil=p.IDUtil;var f=t("./library/IgnoreConflictStrategy");r.IgnoreConflictStrategy=f.IgnoreConflictStrategy;var y=t("./library/Loader");r.Loader=y.Loader;var d=t("./library/LoaderContext");r.LoaderContext=d.LoaderContext;var _=t("./library/LoaderInfo");r.LoaderInfo=_.LoaderInfo;var v=t("./library/NumSuffixConflictStrategy");r.NumSuffixConflictStrategy=v.NumSuffixConflictStrategy},{"./library/AbstractionBase":"awayjs-core/lib/library/AbstractionBase","./library/AssetBase":"awayjs-core/lib/library/AssetBase","./library/AssetLibrary":"awayjs-core/lib/library/AssetLibrary","./library/AssetLibraryBundle":"awayjs-core/lib/library/AssetLibraryBundle","./library/AssetLibraryIterator":"awayjs-core/lib/library/AssetLibraryIterator","./library/ConflictPrecedence":"awayjs-core/lib/library/ConflictPrecedence","./library/ConflictStrategy":"awayjs-core/lib/library/ConflictStrategy","./library/ConflictStrategyBase":"awayjs-core/lib/library/ConflictStrategyBase","./library/ErrorConflictStrategy":"awayjs-core/lib/library/ErrorConflictStrategy","./library/IDUtil":"awayjs-core/lib/library/IDUtil","./library/IgnoreConflictStrategy":"awayjs-core/lib/library/IgnoreConflictStrategy","./library/Loader":"awayjs-core/lib/library/Loader","./library/LoaderContext":"awayjs-core/lib/library/LoaderContext","./library/LoaderInfo":"awayjs-core/lib/library/LoaderInfo","./library/NumSuffixConflictStrategy":"awayjs-core/lib/library/NumSuffixConflictStrategy"}],"awayjs-core/lib/managers/AudioChannel":[function(t,e,r){"use strict";var i=function(){function t(){var e=this;this._isPlaying=false;this._isLooping=false;this._audioCtx=t._audioCtx||(t._audioCtx=new(window["AudioContext"]||window["webkitAudioContext"]));this._gainNode=this._audioCtx.createGain();this._gainNode=this._audioCtx.createGain();this._gainNode.connect(this._audioCtx.destination);this._audio=new Audio;this._audio.onended=function(t){return e._onEnded(t)};this._audio["crossOrigin"]="anonymous";var r=this._audioCtx.createMediaElementSource(this._audio);r.connect(this._gainNode)}Object.defineProperty(t.prototype,"currentTime",{get:function(){return this._audio.currentTime},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"volume",{get:function(){return this._gainNode.gain.value},set:function(t){this._gainNode.gain.value=t},enumerable:true,configurable:true});t.prototype.isPlaying=function(){return this._isPlaying};t.prototype.isLooping=function(){return this._isLooping};t.prototype.isDecoding=function(){return false};t.prototype.play=function(t,e,r){if(e===void 0){e=0}if(r===void 0){r=false}this._isPlaying=true;this._isLooping=r;this._audio.src=t;this._audio.loop=r;this._audio.currentTime=e;this._audio.play()};t.prototype.stop=function(){this._audio.pause();this._isPlaying=false;this._isLooping=false};t.prototype._onEnded=function(t){this.stop()};t.maxChannels=16;t._channels=new Array;return t}();r.AudioChannel=i},{}],"awayjs-core/lib/managers/AudioManager":[function(t,e,r){"use strict";var i=t("../managers/StreamingAudioChannel");var a=t("../managers/WebAudioChannel");var s=function(){function t(){}t.setExternalSoundInterface=function(e){if(e.startSound==null){console.log("Could not set the externalSoundInterface, because it does not provide a 'startSound' function");return}if(e.stopSound==null){console.log("Could not set the externalSoundInterface, because it does not provide a 'stopSound' function");return}t._externalSoundInterface=e};t.getExternalSoundInterface=function(){return t._externalSoundInterface};t.getChannel=function(t){var e=t>5e4?i.StreamingAudioChannel:a.WebAudioChannel;var r=0;while(e._channels[r]&&e._channels[r].isPlaying())r++;if(r==e.maxChannels){var s;var n=e._channels.length;for(var o=0;o<n;o++){s=e._channels[o];if(!s.isLooping()&&!s.isDecoding()){e._channels.push(e._channels.splice(o,1)[0]);s.stop();return s}}return null}return e._channels[r]||(e._channels[r]=new e)};t._externalSoundInterface=null;return t}();r.AudioManager=s},{"../managers/StreamingAudioChannel":"awayjs-core/lib/managers/StreamingAudioChannel","../managers/WebAudioChannel":"awayjs-core/lib/managers/WebAudioChannel"}],"awayjs-core/lib/managers/EventAudioChannel":[function(t,e,r){"use strict";var i=t("../parsers/ParserUtils");var a=function(){function t(){var t=this;this._isPlaying=false;this._isLooping=false;this._startTime=0;this._audio=new Audio;this._audio.ontimeupdate=function(e){return t._onTimeUpdate(e)}}Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"currentTime",{get:function(){return this._audio.currentTime-this._startTime},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){if(this._volume==t)return;this._volume=t;this._audio.volume=this._volume},enumerable:true,configurable:true});t.prototype.isPlaying=function(){return this._isPlaying};t.prototype.isLooping=function(){return this._isLooping};t.prototype.isDecoding=function(){return false};t.prototype.play=function(e,r,a,s){if(r===void 0){r=0}if(a===void 0){a=false}if(s===void 0){s=0}this._isPlaying=true;this._isLooping=a;this._audio.src=t._base64Cache[s]||(t._base64Cache[s]=i.ParserUtils.arrayBufferToBase64(e,"audio/mp3"));this._audio.loop=this._isLooping;this._audio.currentTime=r;this._audio.play()};t.prototype.stop=function(){this._audio.pause();this._isPlaying=false;this._isLooping=false};t.prototype._onTimeUpdate=function(t){if(!this._isLooping&&this._duration<this._audio.currentTime-this._startTime+.1)this.stop()};t.maxChannels=4;t._channels=new Array;t._base64Cache=new Object;return t}();r.EventAudioChannel=a},{"../parsers/ParserUtils":"awayjs-core/lib/parsers/ParserUtils"}],"awayjs-core/lib/managers/IAudioChannelClass":[function(t,e,r){"use strict"},{}],"awayjs-core/lib/managers/IAudioChannel":[function(t,e,r){"use strict"},{}],"awayjs-core/lib/managers/StreamingAudioChannel":[function(t,e,r){"use strict";var i=function(){function t(){var t=this;this._isPlaying=false;this._isLooping=false;this._startTime=0;this._sourceOpenDelegate=function(e){return t._sourceOpen(e)};this._updateEndDelegate=function(e){return t._updateEnd(e)};this._audio=new Audio;this._audio.ontimeupdate=function(e){return t._onTimeUpdate(e)};this._updateSource()}Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"currentTime",{get:function(){return this._audio.currentTime-this._startTime},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){if(this._volume==t)return;this._volume=t;this._audio.volume=this._volume},enumerable:true,configurable:true});t.prototype.isPlaying=function(){return this._isPlaying};t.prototype.isLooping=function(){return this._isLooping};t.prototype.isDecoding=function(){return false};t.prototype.play=function(t,e,r){if(e===void 0){e=0}if(r===void 0){r=false}this._isPlaying=true;if(this._isLooping||this._isLooping!=r){this._isLooping=r;this._sourceDirty=true}if(this._sourceDirty)this._updateSource();this._buffer=t;this._offset=e;if(!this._isQueuing&&!this._isOpening)this._queueBuffer()};t.prototype.stop=function(){this._audio.pause();this._isPlaying=false;this._isLooping=false};t.prototype._sourceOpen=function(t){this._isOpening=false;if(this._mediaSource.activeSourceBuffers.length){console.log("ERR: double sourceopen event called");return}this._sourceBuffer=this._mediaSource.addSourceBuffer("audio/mpeg");this._sourceBuffer.addEventListener("updateend",this._updateEndDelegate);if(this._isPlaying)this._queueBuffer()};t.prototype._queueBuffer=function(){this._isQueuing=true;this._startTime=this._sourceBuffer.timestampOffset;this._sourceBuffer.appendBuffer(this._buffer)};t.prototype._updateEnd=function(t){this._isQueuing=false;if(this._isLooping)this._mediaSource.endOfStream();this._duration=this._sourceBuffer.timestampOffset-this._startTime;this._audio.currentTime=this._startTime+this._offset;this._audio.play()};t.prototype._onTimeUpdate=function(t){if(!this._isLooping&&this._duration<this._audio.currentTime-this._startTime+.1)this.stop()};t.prototype._updateSource=function(){if(this._mediaSource)this._disposeSource();this._isQueuing=false;this._isOpening=true;this._mediaSource=new MediaSource;this._mediaSource.addEventListener("sourceopen",this._sourceOpenDelegate);this._urlString=URL.createObjectURL(this._mediaSource);this._audio.src=this._urlString;this._audio.loop=this._isLooping;this._sourceDirty=false};t.prototype._disposeSource=function(){if(!this._isOpening){if(this._sourceBuffer.timestampOffset)this._sourceBuffer.remove(0,this._sourceBuffer.timestampOffset);this._sourceBuffer.removeEventListener("updateend",this._updateEndDelegate);this._mediaSource.removeSourceBuffer(this._sourceBuffer);delete this._sourceBuffer;this._sourceBuffer=null}this._mediaSource.removeEventListener("sourceopen",this._sourceOpenDelegate);URL.revokeObjectURL(this._urlString);delete this._mediaSource;this._mediaSource=null};t.maxChannels=4;t._channels=new Array;return t}();r.StreamingAudioChannel=i},{}],"awayjs-core/lib/managers/WebAudioChannel":[function(t,e,r){"use strict";var i=function(){function t(){var e=this;this._isPlaying=false;this._isLooping=false;this._isDecoding=false;this._volume=1;this._startTime=0;this._audioCtx=t._audioCtx||(t._audioCtx=new(window["AudioContext"]||window["webkitAudioContext"]));this._gainNode=this._audioCtx.createGain();this._gainNode.gain.value=this._volume;this._gainNode.connect(this._audioCtx.destination);this._onEndedDelegate=function(t){return e._onEnded(t)}}Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"currentTime",{get:function(){return this._audioCtx.currentTime-this._startTime},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){if(this._volume==t)return;this._volume=t;this._gainNode.gain.value=this._volume},enumerable:true,configurable:true});t.prototype.isPlaying=function(){return this._isPlaying};t.prototype.isLooping=function(){return this._isLooping};t.prototype.isDecoding=function(){return this._isDecoding};t.prototype.play=function(e,r,i,a){var s=this;if(r===void 0){r=0}if(i===void 0){i=false}if(a===void 0){a=0}this._isPlaying=true;this._isLooping=i;this._currentTime=r;this._id=a;this._isDecoding=true;if(t._decodeCache[a])this._onDecodeComplete(t._decodeCache[a]);else if(!t._errorCache[a])this._audioCtx.decodeAudioData(e,function(t){return s._onDecodeComplete(t)},function(t){return s._onError(t)});else this.stop()};t.prototype.stop=function(){if(!this._isPlaying)return;this._isPlaying=false;this._isLooping=false;this._isDecoding=false;if(this._source)this._disposeSource()};t.prototype._onDecodeComplete=function(e){if(!this._isPlaying)return;this._isDecoding=false;t._decodeCache[this._id]=e;if(this._source)this._disposeSource();this._source=this._audioCtx.createBufferSource();this._source.loop=this._isLooping;this._source.connect(this._gainNode);this._source.buffer=e;this._duration=e.duration;this._startTime=this._audioCtx.currentTime-this._currentTime;this._source.onended=this._onEndedDelegate;try{this._source.start(this._audioCtx.currentTime,this._currentTime)}catch(r){console.log("Error starting audio: "+r);this._disposeSource()}};t.prototype._onError=function(e){console.log("Error with decoding audio data");t._errorCache[this._id]=true;this.stop()};t.prototype._onEnded=function(t){this.stop()};t.prototype._disposeSource=function(){this._source.stop(this._audioCtx.currentTime);this._source.onended=null;this._source.disconnect();delete this._source.buffer;delete this._source;this._source=null};t.maxChannels=64;t._channels=new Array;t._decodeCache=new Object;t._errorCache=new Object;return t}();r.WebAudioChannel=i},{}],"awayjs-core/lib/managers":[function(t,e,r){"use strict";var i=t("./managers/AudioManager");r.AudioManager=i.AudioManager;var a=t("./managers/StreamingAudioChannel");r.StreamingAudioChannel=a.StreamingAudioChannel;var s=t("./managers/WebAudioChannel");r.WebAudioChannel=s.WebAudioChannel},{"./managers/AudioManager":"awayjs-core/lib/managers/AudioManager","./managers/StreamingAudioChannel":"awayjs-core/lib/managers/StreamingAudioChannel","./managers/WebAudioChannel":"awayjs-core/lib/managers/WebAudioChannel"}],"awayjs-core/lib/net/CrossDomainPolicy":[function(t,e,r){"use strict";var i=function(){function t(){}t.ANONYMOUS="anonymous";t.USE_CREDENTIALS="use-credentials";return t}();r.CrossDomainPolicy=i},{}],"awayjs-core/lib/net/URLLoaderDataFormat":[function(t,e,r){"use strict";var i=function(){function t(){}t.TEXT="text";t.VARIABLES="variables";t.BLOB="blob";t.ARRAY_BUFFER="arraybuffer";t.BINARY="binary";return t}();r.URLLoaderDataFormat=i},{}],"awayjs-core/lib/net/URLLoader":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../net/URLLoaderDataFormat");var s=t("../net/URLRequestMethod");var n=t("../net/URLVariables");var o=t("../events/EventDispatcher");var h=t("../events/URLLoaderEvent");var u=function(t){i(e,t);function e(){t.call(this);this._bytesLoaded=0;this._bytesTotal=0;this._dataFormat=a.URLLoaderDataFormat.TEXT;this._loadError=false}Object.defineProperty(e.prototype,"url",{get:function(){return this._request?this._request.url:""},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"dataFormat",{get:function(){return this._dataFormat},set:function(t){this._dataFormat=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"bytesLoaded",{get:function(){return this._bytesLoaded},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"bytesTotal",{get:function(){return this._bytesTotal},enumerable:true,configurable:true});e.prototype.load=function(t){this._request=t;this.initXHR();if(t.method===s.URLRequestMethod.POST)this.postRequest(t);else this.getRequest(t)};e.prototype.isSupported=function(){return window!=null};e.prototype.close=function(){this._XHR.abort();this.disposeXHR()};e.prototype.dispose=function(){if(this._XHR)this._XHR.abort();this.disposeXHR()};e.prototype.setResponseType=function(t,e){switch(e){case a.URLLoaderDataFormat.ARRAY_BUFFER:case a.URLLoaderDataFormat.BLOB:case a.URLLoaderDataFormat.TEXT:t.responseType=e;break;case a.URLLoaderDataFormat.VARIABLES:t.responseType=a.URLLoaderDataFormat.TEXT;break;case a.URLLoaderDataFormat.BINARY:t.responseType="";break;default:}};e.prototype.getRequest=function(t){try{this._XHR.open(t.method,t.url,t.async);this.setResponseType(this._XHR,this._dataFormat);this._XHR.send()}catch(e){this.handleXmlHttpRequestException(e)}};e.prototype.postRequest=function(t){this._loadError=false;this._XHR.open(t.method,t.url,t.async);if(t.data!=null){if(t.data instanceof n.URLVariables){var e=t.data;try{this._XHR.responseType="text";this._XHR.send(e.formData)}catch(r){this.handleXmlHttpRequestException(r)}}else{this.setResponseType(this._XHR,this._dataFormat);if(t.data)this._XHR.send(t.data);else this._XHR.send()}}else{this._XHR.send()}};e.prototype.handleXmlHttpRequestException=function(t){switch(t.code){case 101:break}};e.prototype.initXHR=function(){var t=this;if(!this._XHR){this._XHR=new XMLHttpRequest;this._XHR.onloadstart=function(e){return t.onLoadStart(e)};this._XHR.onprogress=function(e){return t.onProgress(e)};this._XHR.onabort=function(e){return t.onAbort(e)};this._XHR.onerror=function(e){return t.onLoadError(e)};this._XHR.onload=function(e){return t.onLoadComplete(e)};this._XHR.ontimeout=function(e){return t.onTimeOut(e)};this._XHR.onloadend=function(e){return t.onLoadEnd(e)};this._XHR.onreadystatechange=function(e){return t.onReadyStateChange(e)}}};e.prototype.disposeXHR=function(){if(this._XHR!==null){this._XHR.onloadstart=null;this._XHR.onprogress=null;this._XHR.onabort=null;this._XHR.onerror=null;this._XHR.onload=null;this._XHR.ontimeout=null;this._XHR.onloadend=null;this._XHR=null}};e.prototype.decodeURLVariables=function(t){var e=new Object;t=t.split("+").join(" ");var r,i=/[?&]?([^=]+)=([^&]*)/g;while(r=i.exec(t))e[decodeURIComponent(r[1])]=decodeURIComponent(r[2]);return e};e.prototype.onReadyStateChange=function(t){if(this._XHR.readyState==4){this._status=this._XHR.status;if(this._status==404){this._loadError=true;this.dispatchEvent(this._loadErrorEvent||(this._loadErrorEvent=new h.URLLoaderEvent(h.URLLoaderEvent.LOAD_ERROR,this)))}this.dispatchEvent(this._statusEvent||(this._statusEvent=new h.URLLoaderEvent(h.URLLoaderEvent.HTTP_STATUS,this)))}};e.prototype.onLoadEnd=function(t){if(this._loadError===true)return};e.prototype.onTimeOut=function(t){};e.prototype.onAbort=function(t){};e.prototype.onProgress=function(t){this._bytesTotal=t.total;this._bytesLoaded=t.loaded;this.dispatchEvent(this._progressEvent||(this._progressEvent=new h.URLLoaderEvent(h.URLLoaderEvent.LOAD_PROGRESS,this)))};e.prototype.onLoadStart=function(t){this.dispatchEvent(this._loadStartEvent||(this._loadStartEvent=new h.URLLoaderEvent(h.URLLoaderEvent.LOAD_START,this)))};e.prototype.onLoadComplete=function(t){if(this._loadError===true)return;switch(this._dataFormat){case a.URLLoaderDataFormat.TEXT:this._data=this._XHR.responseText;break;case a.URLLoaderDataFormat.VARIABLES:this._data=this.decodeURLVariables(this._XHR.responseText);break;case a.URLLoaderDataFormat.BLOB:case a.URLLoaderDataFormat.ARRAY_BUFFER:case a.URLLoaderDataFormat.BINARY:this._data=this._XHR.response;break;default:this._data=this._XHR.responseText;break}this.dispatchEvent(this._loadCompleteEvent||(this._loadCompleteEvent=new h.URLLoaderEvent(h.URLLoaderEvent.LOAD_COMPLETE,this)))};e.prototype.onLoadError=function(t){this._loadError=true;this.dispatchEvent(this._loadErrorEvent||(this._loadErrorEvent=new h.URLLoaderEvent(h.URLLoaderEvent.LOAD_ERROR,this)))};return e}(o.EventDispatcher);r.URLLoader=u},{"../events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher","../events/URLLoaderEvent":"awayjs-core/lib/events/URLLoaderEvent","../net/URLLoaderDataFormat":"awayjs-core/lib/net/URLLoaderDataFormat","../net/URLRequestMethod":"awayjs-core/lib/net/URLRequestMethod","../net/URLVariables":"awayjs-core/lib/net/URLVariables"}],"awayjs-core/lib/net/URLRequestMethod":[function(t,e,r){"use strict";var i=function(){function t(){}t.POST="POST";t.GET="GET";return t}();r.URLRequestMethod=i},{}],"awayjs-core/lib/net/URLRequest":[function(t,e,r){"use strict";var i=t("../net/URLRequestMethod");var a=function(){function t(t){if(t===void 0){t=null}this.method=i.URLRequestMethod.GET;this.async=true;this._url=t}Object.defineProperty(t.prototype,"url",{get:function(){return this._url},set:function(t){this._url=t},enumerable:true,configurable:true});t.prototype.dispose=function(){this.data=null;this._url=null};return t}();r.URLRequest=a},{"../net/URLRequestMethod":"awayjs-core/lib/net/URLRequestMethod"}],"awayjs-core/lib/net/URLVariables":[function(t,e,r){"use strict";var i=function(){function t(t){if(t===void 0){t=null}this._variables=new Object;if(t!==null)this.decode(t)}t.prototype.decode=function(t){t=t.split("+").join(" ");var e,r=/[?&]?([^=]+)=([^&]*)/g;while(e=r.exec(t))this._variables[decodeURIComponent(e[1])]=decodeURIComponent(e[2])};t.prototype.toString=function(){return""};Object.defineProperty(t.prototype,"variables",{get:function(){return this._variables},set:function(t){this._variables=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"formData",{get:function(){var t=new FormData;for(var e in this._variables)t.append(e,this._variables[e]);return t},enumerable:true,configurable:true});return t}();r.URLVariables=i},{}],"awayjs-core/lib/net":[function(t,e,r){"use strict";var i=t("./net/CrossDomainPolicy");r.CrossDomainPolicy=i.CrossDomainPolicy;var a=t("./net/URLLoader");r.URLLoader=a.URLLoader;var s=t("./net/URLLoaderDataFormat");r.URLLoaderDataFormat=s.URLLoaderDataFormat;var n=t("./net/URLRequest");r.URLRequest=n.URLRequest;var o=t("./net/URLRequestMethod");r.URLRequestMethod=o.URLRequestMethod;var h=t("./net/URLVariables");r.URLVariables=h.URLVariables},{"./net/CrossDomainPolicy":"awayjs-core/lib/net/CrossDomainPolicy","./net/URLLoader":"awayjs-core/lib/net/URLLoader","./net/URLLoaderDataFormat":"awayjs-core/lib/net/URLLoaderDataFormat","./net/URLRequest":"awayjs-core/lib/net/URLRequest","./net/URLRequestMethod":"awayjs-core/lib/net/URLRequestMethod","./net/URLVariables":"awayjs-core/lib/net/URLVariables"}],"awayjs-core/lib/parsers/Image2DParser":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../net/URLLoaderDataFormat");var s=t("../parsers/ParserBase");var n=t("../parsers/ParserUtils");var o=t("../utils/ByteArray");var h=function(t){i(e,t);function e(){t.call(this,a.URLLoaderDataFormat.BLOB)}e.supportsType=function(t){t=t.toLowerCase();return t=="jpg"||t=="jpeg"||t=="png"||t=="gif"};e.supportsData=function(t){if(t instanceof HTMLImageElement)return true;if(!(t instanceof o.ByteArray))return false;var e=t;e.position=0;if(e.readUnsignedShort()==55551)return true;e.position=0;if(e.readShort()==16973)return true;e.position=1;if(e.readUTFBytes(3)=="PNG")return true;e.position=0;if(e.readUTFBytes(3)=="GIF"&&e.readShort()==14393&&e.readByte()==97)return true;e.position=0;if(e.readUTFBytes(3)=="ATF")return true;return false};e.prototype._pProceedParsing=function(){var t=this;var e;var r=false;if(this._loadingImage){return s.ParserBase.MORE_TO_PARSE}else if(this._htmlImageElement){e=n.ParserUtils.imageToBitmapImage2D(this._htmlImageElement,false);this._pFinalizeAsset(e,this._iFileName)}else if(this.data instanceof HTMLImageElement){var i=this.data;e=n.ParserUtils.imageToBitmapImage2D(i,false);this._pFinalizeAsset(e,this._iFileName)}else if(this.data instanceof o.ByteArray){var a=this.data;a.position=0;this._htmlImageElement=n.ParserUtils.byteArrayToImage(this.data);if(!this._htmlImageElement.complete){this._htmlImageElement.onload=function(e){return t.onLoadComplete(e)};this._loadingImage=true;return s.ParserBase.MORE_TO_PARSE}e=n.ParserUtils.imageToBitmapImage2D(this._htmlImageElement,false);this._pFinalizeAsset(e,this._iFileName)}else if(this.data instanceof ArrayBuffer){this._htmlImageElement=n.ParserUtils.arrayBufferToImage(this.data);e=n.ParserUtils.imageToBitmapImage2D(this._htmlImageElement,false);this._pFinalizeAsset(e,this._iFileName)}else if(this.data instanceof Blob){this._htmlImageElement=n.ParserUtils.blobToImage(this.data);this._htmlImageElement.onload=function(e){return t.onLoadComplete(e)};this._loadingImage=true;return s.ParserBase.MORE_TO_PARSE}if(r==true){}this._pContent=e;return s.ParserBase.PARSING_DONE};e.prototype.onLoadComplete=function(t){this._loadingImage=false};return e}(s.ParserBase);r.Image2DParser=h},{"../net/URLLoaderDataFormat":"awayjs-core/lib/net/URLLoaderDataFormat","../parsers/ParserBase":"awayjs-core/lib/parsers/ParserBase","../parsers/ParserUtils":"awayjs-core/lib/parsers/ParserUtils","../utils/ByteArray":"awayjs-core/lib/utils/ByteArray"}],"awayjs-core/lib/parsers/ImageCubeParser":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../image/BitmapImageCube");var s=t("../net/URLLoaderDataFormat");var n=t("../net/URLRequest");var o=t("../parsers/ParserBase");var h=function(t){i(e,t);function e(){t.call(this,s.URLLoaderDataFormat.TEXT)}e.supportsType=function(t){t=t.toLowerCase();return t=="cube"};e.supportsData=function(t){try{var e=JSON.parse(t);if(e)return true;return false}catch(r){return false}};e.prototype._iResolveDependency=function(t){};e.prototype._iResolveDependencyFailure=function(t){};e.prototype._pProceedParsing=function(){if(this._imgDependencyDictionary!=null){var t=new a.BitmapImageCube(this._getBitmapImage2D(e.posX).width);t.draw(a.BitmapImageCube.posX,this._getBitmapImage2D(e.posX));t.draw(a.BitmapImageCube.negX,this._getBitmapImage2D(e.negX));t.draw(a.BitmapImageCube.posY,this._getBitmapImage2D(e.posY));t.draw(a.BitmapImageCube.negY,this._getBitmapImage2D(e.negY));t.draw(a.BitmapImageCube.posZ,this._getBitmapImage2D(e.posZ));t.draw(a.BitmapImageCube.negZ,this._getBitmapImage2D(e.negZ));this._imgDependencyDictionary=null;t.name=this._iFileName;this._pFinalizeAsset(t,this._iFileName);return o.ParserBase.PARSING_DONE}try{var r=JSON.parse(this.data);var i=r.data;var s;if(i.length!=6)this._pDieWithError("ImageCubeParser: Error - cube texture should have exactly 6 images");if(r){this._imgDependencyDictionary=new Object;for(var h=0;h<i.length;h++){s=i[h];this._imgDependencyDictionary[s.id]=this._pAddDependency(s.id,new n.URLRequest(s.image.toString()))}if(!this._validateCubeData()){this._pDieWithError("ImageCubeParser: JSON data error - cubes require id of:   \n"+e.posX+", "+e.negX+",  \n"+e.posY+", "+e.negY+",  \n"+e.posZ+", "+e.negZ);return o.ParserBase.PARSING_DONE}this._pPauseAndRetrieveDependencies();return o.ParserBase.MORE_TO_PARSE}}catch(u){this._pDieWithError("CubeTexturePaser Error parsing JSON")}return o.ParserBase.PARSING_DONE};e.prototype._validateCubeData=function(){return this._imgDependencyDictionary[e.posX]!=null&&this._imgDependencyDictionary[e.negX]!=null&&this._imgDependencyDictionary[e.posY]!=null&&this._imgDependencyDictionary[e.negY]!=null&&this._imgDependencyDictionary[e.posZ]!=null&&this._imgDependencyDictionary[e.negZ]!=null};e.prototype._getBitmapImage2D=function(t){var e=this._imgDependencyDictionary[t];if(e)return e.assets[0];return null};e.posX="posX";e.negX="negX";e.posY="posY";e.negY="negY";e.posZ="posZ";e.negZ="negZ";return e}(o.ParserBase);r.ImageCubeParser=h},{"../image/BitmapImageCube":"awayjs-core/lib/image/BitmapImageCube","../net/URLLoaderDataFormat":"awayjs-core/lib/net/URLLoaderDataFormat","../net/URLRequest":"awayjs-core/lib/net/URLRequest","../parsers/ParserBase":"awayjs-core/lib/parsers/ParserBase"}],"awayjs-core/lib/parsers/ParserBase":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../errors/AbstractMethodError");
var s=t("../events/AssetEvent");var n=t("../events/EventDispatcher");var o=t("../events/ParserEvent");var h=t("../events/TimerEvent");var u=t("../parsers/ParserUtils");var c=t("../parsers/ResourceDependency");var l=t("../utils/ImageUtils");var p=t("../utils/Timer");var f=t("../utils/getTimer");var y=function(t){i(e,t);function e(e){var r=this;t.call(this);this._materialMode=0;this._dataFormat=e;this._dependencies=new Array;this._pOnIntervalDelegate=function(t){return r._pOnInterval(t)}}e.supportsType=function(t){throw new a.AbstractMethodError};Object.defineProperty(e.prototype,"content",{get:function(){return this._pContent},enumerable:true,configurable:true});e.prototype.isBitmapImage2DValid=function(t){var e=l.ImageUtils.isImage2DValid(t);if(!e){console.log(">> Bitmap loaded is not having power of 2 dimensions or is higher than 2048")}return e};Object.defineProperty(e.prototype,"parsingFailure",{get:function(){return this._parsingFailure},set:function(t){this._parsingFailure=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"parsingPaused",{get:function(){return this._parsingPaused},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"parsingComplete",{get:function(){return this._parsingComplete},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"materialMode",{get:function(){return this._materialMode},set:function(t){this._materialMode=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"dataFormat",{get:function(){return this._dataFormat},enumerable:true,configurable:true});e.prototype.parseAsync=function(t,e){if(e===void 0){e=30}this._data=t;this._pStartParsing(e)};Object.defineProperty(e.prototype,"dependencies",{get:function(){return this._dependencies},enumerable:true,configurable:true});e.prototype._iResolveDependency=function(t){throw new a.AbstractMethodError};e.prototype._iResolveDependencyFailure=function(t){throw new a.AbstractMethodError};e.prototype._iResolveDependencyName=function(t,e){return e.name};e.prototype._iResumeParsing=function(){this._parsingPaused=false;if(this._timer)this._timer.start();if(!this._isParsing)this._pOnInterval()};e.prototype._pFinalizeAsset=function(t,e){if(e===void 0){e=null}var r;var i;if(e!=null)t.name=e;if(!t.name)t.name=t.assetType;this.dispatchEvent(new s.AssetEvent(s.AssetEvent.ASSET_COMPLETE,t))};e.prototype._pProceedParsing=function(){throw new a.AbstractMethodError};e.prototype._pDieWithError=function(t){if(t===void 0){t="Unknown parsing error"}if(this._timer){this._timer.removeEventListener(h.TimerEvent.TIMER,this._pOnIntervalDelegate);this._timer.stop();this._timer=null}this.dispatchEvent(new o.ParserEvent(o.ParserEvent.PARSE_ERROR,t))};e.prototype._pAddDependency=function(t,e,r,i,a,s){if(r===void 0){r=false}if(i===void 0){i=null}if(a===void 0){a=false}if(s===void 0){s=0}var n=new c.ResourceDependency(t,e,i,null,this,r,a,s);this._dependencies.push(n);return n};e.prototype._pPauseAndRetrieveDependencies=function(){this._pPauseParsing();this.dispatchEvent(new o.ParserEvent(o.ParserEvent.READY_FOR_DEPENDENCIES))};e.prototype._pPauseParsing=function(){if(this._timer)this._timer.stop();this._parsingPaused=true};e.prototype._pHasTime=function(){return f.getTimer()-this._lastFrameTime<this._frameLimit};e.prototype._pOnInterval=function(t){if(t===void 0){t=null}this._lastFrameTime=f.getTimer();this._isParsing=true;if(this._pProceedParsing()&&!this._parsingFailure)this._pFinishParsing();this._isParsing=false};e.prototype._pStartParsing=function(t){this._frameLimit=t;this._timer=new p.Timer(this._frameLimit,0);this._timer.addEventListener(h.TimerEvent.TIMER,this._pOnIntervalDelegate);this._timer.start();this._pOnInterval()};e.prototype._pFinishParsing=function(){if(this._timer){this._timer.removeEventListener(h.TimerEvent.TIMER,this._pOnIntervalDelegate);this._timer.stop()}this._timer=null;this._parsingComplete=true;this._isParsing=false;this.dispatchEvent(new o.ParserEvent(o.ParserEvent.PARSE_COMPLETE))};e.prototype._pGetTextData=function(){return u.ParserUtils.toString(this._data)};e.prototype._pGetByteData=function(){return u.ParserUtils.toByteArray(this._data)};e.prototype._pGetData=function(){return this._data};e.PARSING_DONE=true;e.MORE_TO_PARSE=false;return e}(n.EventDispatcher);r.ParserBase=y},{"../errors/AbstractMethodError":"awayjs-core/lib/errors/AbstractMethodError","../events/AssetEvent":"awayjs-core/lib/events/AssetEvent","../events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher","../events/ParserEvent":"awayjs-core/lib/events/ParserEvent","../events/TimerEvent":"awayjs-core/lib/events/TimerEvent","../parsers/ParserUtils":"awayjs-core/lib/parsers/ParserUtils","../parsers/ResourceDependency":"awayjs-core/lib/parsers/ResourceDependency","../utils/ImageUtils":"awayjs-core/lib/utils/ImageUtils","../utils/Timer":"awayjs-core/lib/utils/Timer","../utils/getTimer":"awayjs-core/lib/utils/getTimer"}],"awayjs-core/lib/parsers/ParserDataFormat":[function(t,e,r){"use strict";var i=function(){function t(){}t.BINARY="binary";t.PLAIN_TEXT="plainText";t.IMAGE="image";return t}();r.ParserDataFormat=i},{}],"awayjs-core/lib/parsers/ParserUtils":[function(t,e,r){"use strict";var i=t("../image/BitmapImage2D");var a=t("../utils/ByteArray");var s=function(){function t(){}t.arrayBufferToBase64=function(t,e){var r="";var i=new Uint8Array(t);var a=i.byteLength;for(var s=0;s<a;s++)r+=String.fromCharCode(i[s]);var n=window.btoa(r);return"data:"+e+";base64,"+n};t.arrayBufferToAudio=function(e,r){var i=t.arrayBufferToBase64(e,"audio/"+r);var a=new Audio;a.src=i;return a};t.arrayBufferToImage=function(e){var r=t.arrayBufferToBase64(e,"image/png");var i=new Image;i.src=r;return i};t.byteArrayToImage=function(e){var r=t.arrayBufferToBase64(e.arraybytes,"image/png");var i=new Image;i.src=r;return i};t.byteArrayToAudio=function(e,r){var i=t.arrayBufferToBase64(e.arraybytes,"audio/"+r);var a=new Audio;a.src=i;return a};t.blobToImage=function(t){var e=window["URL"]||window["webkitURL"];var r=e.createObjectURL(t);var i=new Image;i.src=r;return i};t.blobToAudio=function(t){var e=window["URL"]||window["webkitURL"];var r=e.createObjectURL(t);var i=new Audio;i.src=r;return i};t.imageToBitmapImage2D=function(t,e){if(e===void 0){e=true}var r=new i.BitmapImage2D(t.width,t.height,true,null,e);r.draw(t);return r};t.toByteArray=function(t){var e=new a.ByteArray;e.setArrayBuffer(t);return e};t.toString=function(t,e){if(e===void 0){e=0}if(typeof t==="string"){var r=t;if(r["substr"]!=null)return r.substr(0,r.length)}if(t instanceof a.ByteArray){var i=t;i.position=0;return i.readUTFBytes(Math.min(i.getBytesAvailable(),e))}return null};return t}();r.ParserUtils=s},{"../image/BitmapImage2D":"awayjs-core/lib/image/BitmapImage2D","../utils/ByteArray":"awayjs-core/lib/utils/ByteArray"}],"awayjs-core/lib/parsers/ResourceDependency":[function(t,e,r){"use strict";var i=function(){function t(t,e,r,i,a,s,n,o){if(s===void 0){s=false}if(n===void 0){n=false}if(o===void 0){o=0}this._id=t;this._sub_id=o;this._request=e;this._data=r;this._parser=i;this._parentParser=a;this._retrieveAsRawData=s;this._suppressAssetEvents=n;this._assets=new Array;this._dependencies=new Array}Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"sub_id",{get:function(){return this._sub_id},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"request",{get:function(){return this._request},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"parser",{get:function(){return this._parser},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"parentParser",{get:function(){return this._parentParser},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"retrieveAsRawData",{get:function(){return this._retrieveAsRawData},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"suppresAssetEvents",{get:function(){return this._suppressAssetEvents},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"assets",{get:function(){return this._assets},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"dependencies",{get:function(){return this._dependencies},enumerable:true,configurable:true});t.prototype._iSetData=function(t){this._data=t};t.prototype._iSetParser=function(t){this._parser=t};t.prototype.resolve=function(){if(this._parentParser)this._parentParser._iResolveDependency(this)};t.prototype.resolveFailure=function(){if(this._parentParser)this._parentParser._iResolveDependencyFailure(this)};t.prototype.resolveName=function(t){if(this._parentParser)return this._parentParser._iResolveDependencyName(this,t);return t.name};return t}();r.ResourceDependency=i},{}],"awayjs-core/lib/parsers/TextureAtlasParser":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../image/Sampler2D");var s=t("../geom/Rectangle");var n=t("../net/URLLoaderDataFormat");var o=t("../net/URLRequest");var h=t("../parsers/ParserBase");var u=t("../parsers/ParserUtils");var c=t("../utils/XmlUtils");var l=function(t){i(e,t);function e(){t.call(this,n.URLLoaderDataFormat.TEXT);this._parseState=0}e.supportsType=function(t){t=t.toLowerCase();return t=="xml"};e.supportsData=function(t){try{var e=u.ParserUtils.toString(t);if(e.indexOf("TextureAtlas")!=-1||e.indexOf("textureatlas")!=-1)return true;return false}catch(r){return false}};e.prototype._iResolveDependency=function(t){if(t.assets.length){this._imageData=t.assets[0];this._pFinalizeAsset(this._imageData);this._parseState=p.PARSE_SUBTEXTURES}else{this._parseState=p.PARSE_COMPLETE}};e.prototype._iResolveDependencyFailure=function(t){this._parseState=p.PARSE_COMPLETE};e.prototype._pProceedParsing=function(){var t;switch(this._parseState){case p.PARSE_XML:try{this._doc=c.XmlUtils.getChildrenWithTag(c.XmlUtils.strToXml(this._pGetTextData()),"TextureAtlas")[0];this._imagePath=c.XmlUtils.readAttributeValue(this._doc,"imagePath");this._subTextureNodes=c.XmlUtils.getChildrenWithTag(this._doc,"SubTexture");this._parseState=p.PARSE_IMAGE}catch(e){return h.ParserBase.PARSING_DONE}break;case p.PARSE_IMAGE:if(this._imagePath){this._pAddDependency(this._imagePath,new o.URLRequest(this._imagePath));this._pPauseAndRetrieveDependencies()}else{return h.ParserBase.PARSING_DONE}break;case p.PARSE_SUBTEXTURES:var r;var i;var n;var u;var l;var f;var y=this._subTextureNodes.length;for(var d=0;d<y;d++){i=this._subTextureNodes[d];r=new a.Sampler2D;n=c.XmlUtils.readAttributeValue(i,"x");u=c.XmlUtils.readAttributeValue(i,"y");l=c.XmlUtils.readAttributeValue(i,"width");f=c.XmlUtils.readAttributeValue(i,"height");if(n||u||l||f)r.imageRect=new s.Rectangle(parseInt(n)/this._imageData.width,parseInt(u)/this._imageData.height,parseInt(l)/this._imageData.width,parseInt(f)/this._imageData.height);n=c.XmlUtils.readAttributeValue(i,"frameX");u=c.XmlUtils.readAttributeValue(i,"frameY");l=c.XmlUtils.readAttributeValue(i,"frameWidth");f=c.XmlUtils.readAttributeValue(i,"frameHeight");if(n||u||l||f)r.frameRect=new s.Rectangle(parseInt(n),parseInt(u),parseInt(l),parseInt(f));this._pFinalizeAsset(r,c.XmlUtils.readAttributeValue(i,"name"))}this._parseState=p.PARSE_COMPLETE;break;case p.PARSE_COMPLETE:return h.ParserBase.PARSING_DONE}return h.ParserBase.MORE_TO_PARSE};return e}(h.ParserBase);r.TextureAtlasParser=l;var p=function(){function t(){}t.PARSE_XML=0;t.PARSE_IMAGE=1;t.PARSE_SUBTEXTURES=2;t.PARSE_COMPLETE=3;return t}();r.TextureAtlasParserState=p},{"../geom/Rectangle":"awayjs-core/lib/geom/Rectangle","../image/Sampler2D":"awayjs-core/lib/image/Sampler2D","../net/URLLoaderDataFormat":"awayjs-core/lib/net/URLLoaderDataFormat","../net/URLRequest":"awayjs-core/lib/net/URLRequest","../parsers/ParserBase":"awayjs-core/lib/parsers/ParserBase","../parsers/ParserUtils":"awayjs-core/lib/parsers/ParserUtils","../utils/XmlUtils":"awayjs-core/lib/utils/XmlUtils"}],"awayjs-core/lib/parsers/WaveAudioParser":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../audio/WaveAudio");var s=t("../net/URLLoaderDataFormat");var n=t("../parsers/ParserBase");var o=t("../utils/ByteArray");var h=function(t){i(e,t);function e(){t.call(this,s.URLLoaderDataFormat.BLOB)}e.supportsType=function(t){t=t.toLowerCase();return t=="wav"||t=="mp3"||t=="ogg"};e.supportsData=function(t){if(!(t instanceof o.ByteArray))return false;var r=t;var i=e.parseFileType(r);return i?true:false};e.prototype._pStartParsing=function(e){delete this._pContent;this._pContent=null;t.prototype._pStartParsing.call(this,e)};e.prototype._pProceedParsing=function(){if(this.data instanceof o.ByteArray){this._pContent=new a.WaveAudio(this.data.arraybytes);this._pFinalizeAsset(this._pContent,this._iFileName)}else if(this.data instanceof ArrayBuffer){this._pContent=new a.WaveAudio(this.data);this._pFinalizeAsset(this._pContent,this._iFileName)}return n.ParserBase.PARSING_DONE};e.parseFileType=function(t){t.position=0;if((t.readUnsignedShort()&65504)==65504){return"mp3"}t.position=0;var e=t.readUnsignedByte();var r=t.readUnsignedByte();var i=t.readUnsignedByte();if(e===73&&r===68&&i===51||e===255&&r===251||e===255&&r===243&&i===130){return"mp3"}t.position=0;if(t.readUTFBytes(4)=="RIFF")return"wav";t.position=0;if(t.readUTFBytes(4)=="OggS")return"ogg";t.position=0;return null};return e}(n.ParserBase);r.WaveAudioParser=h},{"../audio/WaveAudio":"awayjs-core/lib/audio/WaveAudio","../net/URLLoaderDataFormat":"awayjs-core/lib/net/URLLoaderDataFormat","../parsers/ParserBase":"awayjs-core/lib/parsers/ParserBase","../utils/ByteArray":"awayjs-core/lib/utils/ByteArray"}],"awayjs-core/lib/parsers":[function(t,e,r){"use strict";var i=t("./parsers/Image2DParser");r.Image2DParser=i.Image2DParser;var a=t("./parsers/ImageCubeParser");r.ImageCubeParser=a.ImageCubeParser;var s=t("./parsers/ParserBase");r.ParserBase=s.ParserBase;var n=t("./parsers/ParserDataFormat");r.ParserDataFormat=n.ParserDataFormat;var o=t("./parsers/ParserUtils");r.ParserUtils=o.ParserUtils;var h=t("./parsers/ResourceDependency");r.ResourceDependency=h.ResourceDependency;var u=t("./parsers/TextureAtlasParser");r.TextureAtlasParser=u.TextureAtlasParser;var c=t("./parsers/WaveAudioParser");r.WaveAudioParser=c.WaveAudioParser},{"./parsers/Image2DParser":"awayjs-core/lib/parsers/Image2DParser","./parsers/ImageCubeParser":"awayjs-core/lib/parsers/ImageCubeParser","./parsers/ParserBase":"awayjs-core/lib/parsers/ParserBase","./parsers/ParserDataFormat":"awayjs-core/lib/parsers/ParserDataFormat","./parsers/ParserUtils":"awayjs-core/lib/parsers/ParserUtils","./parsers/ResourceDependency":"awayjs-core/lib/parsers/ResourceDependency","./parsers/TextureAtlasParser":"awayjs-core/lib/parsers/TextureAtlasParser","./parsers/WaveAudioParser":"awayjs-core/lib/parsers/WaveAudioParser"}],"awayjs-core/lib/projections/CoordinateSystem":[function(t,e,r){"use strict";var i=function(){function t(){}t.LEFT_HANDED="leftHanded";t.RIGHT_HANDED="rightHanded";return t}();r.CoordinateSystem=i},{}],"awayjs-core/lib/projections/FreeMatrixProjection":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../projections/PerspectiveProjection");var s=t("../projections/ProjectionBase");var n=function(t){i(e,t);function e(){t.call(this);this._pMatrix.copyFrom((new a.PerspectiveProjection).matrix)}Object.defineProperty(e.prototype,"near",{set:function(t){this._pNear=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"far",{set:function(t){this._pFar=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"iAspectRatio",{set:function(t){this._pAspectRatio=t},enumerable:true,configurable:true});e.prototype.clone=function(){var t=new e;t._pMatrix.copyFrom(this._pMatrix);t._pNear=this._pNear;t._pFar=this._pFar;t._pAspectRatio=this._pAspectRatio;t.pInvalidateMatrix();return t};e.prototype.pUpdateMatrix=function(){this._pMatrixInvalid=false};return e}(s.ProjectionBase);r.FreeMatrixProjection=n},{"../projections/PerspectiveProjection":"awayjs-core/lib/projections/PerspectiveProjection","../projections/ProjectionBase":"awayjs-core/lib/projections/ProjectionBase"}],"awayjs-core/lib/projections/IProjection":[function(t,e,r){"use strict"},{}],"awayjs-core/lib/projections/ObliqueNearPlaneProjection":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../geom/Vector3D");var s=t("../events/ProjectionEvent");var n=t("../projections/ProjectionBase");var o=function(t){i(e,t);function e(e,r){var i=this;t.call(this);this.baseProjection=e;this.plane=r;this._onProjectionMatrixChangedDelegate=function(t){return i.onProjectionMatrixChanged(t)}}Object.defineProperty(e.prototype,"frustumCorners",{get:function(){return this._baseProjection.frustumCorners},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"near",{get:function(){return this._baseProjection.near},set:function(t){this._baseProjection.near=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"far",{get:function(){return this._baseProjection.far},set:function(t){this._baseProjection.far=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"iAspectRatio",{get:function(){return this._baseProjection._iAspectRatio},set:function(t){this._baseProjection._iAspectRatio=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"plane",{get:function(){return this._plane},set:function(t){this._plane=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"baseProjection",{set:function(t){if(this._baseProjection){this._baseProjection.removeEventListener(s.ProjectionEvent.MATRIX_CHANGED,this._onProjectionMatrixChangedDelegate)}this._baseProjection=t;if(this._baseProjection){this._baseProjection.addEventListener(s.ProjectionEvent.MATRIX_CHANGED,this._onProjectionMatrixChangedDelegate)}this.pInvalidateMatrix()},enumerable:true,configurable:true});e.prototype.onProjectionMatrixChanged=function(t){this.pInvalidateMatrix()};e.prototype.pUpdateMatrix=function(){this._pMatrix.copyFrom(this._baseProjection.matrix);var t=this._plane.a;var e=this._plane.b;var r=this._plane.c;var i=-this._plane.d+.05;var s=t>=0?1:-1;var n=e>=0?1:-1;var o=new a.Vector3D(s,n,1,1);var h=this._pMatrix.clone();h.invert();var u=h.transformVector(o);this._pMatrix.copyRowTo(3,o);var c=(u.x*o.x+u.y*o.y+u.z*o.z+u.w*o.w)/(t*u.x+e*u.y+r*u.z+i*u.w);this._pMatrix.copyRowFrom(2,new a.Vector3D(t*c,e*c,r*c,i*c))};return e}(n.ProjectionBase);r.ObliqueNearPlaneProjection=o},{"../events/ProjectionEvent":"awayjs-core/lib/events/ProjectionEvent","../geom/Vector3D":"awayjs-core/lib/geom/Vector3D","../projections/ProjectionBase":"awayjs-core/lib/projections/ProjectionBase"}],"awayjs-core/lib/projections/OrthographicOffCenterProjection":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../geom/Matrix3DUtils");var s=t("../geom/Vector3D");var n=t("../projections/ProjectionBase");var o=function(t){i(e,t);function e(e,r,i,a){t.call(this);this._minX=e;this._maxX=r;this._minY=i;this._maxY=a}Object.defineProperty(e.prototype,"minX",{get:function(){return this._minX},set:function(t){this._minX=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"maxX",{get:function(){return this._maxX},set:function(t){this._maxX=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"minY",{get:function(){return this._minY},set:function(t){this._minY=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"maxY",{get:function(){return this._maxY},set:function(t){this._maxY=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});e.prototype.unproject=function(t,e,r){var i=new s.Vector3D(t,-e,r,1);i=this.unprojectionMatrix.transformVector(i);i.z=r;return i};e.prototype.clone=function(){var t=new e(this._minX,this._maxX,this._minY,this._maxY);t._pNear=this._pNear;t._pFar=this._pFar;t._pAspectRatio=this._pAspectRatio;return t};e.prototype.pUpdateMatrix=function(){var t=a.Matrix3DUtils.RAW_DATA_CONTAINER;var e=1/(this._maxX-this._minX);var r=1/(this._maxY-this._minY);var i=1/(this._pFar-this._pNear);t[0]=2*e;t[5]=2*r;t[10]=i;t[12]=-(this._maxX+this._minX)*e;t[13]=-(this._maxY+this._minY)*r;t[14]=-this._pNear*i;t[15]=1;t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[8]=t[9]=t[11]=0;this._pMatrix.copyRawDataFrom(t);this._pFrustumCorners[0]=this._pFrustumCorners[9]=this._pFrustumCorners[12]=this._pFrustumCorners[21]=this._minX;this._pFrustumCorners[3]=this._pFrustumCorners[6]=this._pFrustumCorners[15]=this._pFrustumCorners[18]=this._maxX;this._pFrustumCorners[1]=this._pFrustumCorners[4]=this._pFrustumCorners[13]=this._pFrustumCorners[16]=this._minY;this._pFrustumCorners[7]=this._pFrustumCorners[10]=this._pFrustumCorners[19]=this._pFrustumCorners[22]=this._maxY;this._pFrustumCorners[2]=this._pFrustumCorners[5]=this._pFrustumCorners[8]=this._pFrustumCorners[11]=this._pNear;this._pFrustumCorners[14]=this._pFrustumCorners[17]=this._pFrustumCorners[20]=this._pFrustumCorners[23]=this._pFar;this._pMatrixInvalid=false};return e}(n.ProjectionBase);r.OrthographicOffCenterProjection=o},{"../geom/Matrix3DUtils":"awayjs-core/lib/geom/Matrix3DUtils","../geom/Vector3D":"awayjs-core/lib/geom/Vector3D","../projections/ProjectionBase":"awayjs-core/lib/projections/ProjectionBase"}],"awayjs-core/lib/projections/OrthographicProjection":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../geom/Matrix3DUtils");var s=t("../geom/Vector3D");var n=t("../projections/ProjectionBase");var o=function(t){i(e,t);function e(e){if(e===void 0){e=500}t.call(this);this._projectionHeight=e}Object.defineProperty(e.prototype,"projectionHeight",{get:function(){return this._projectionHeight},set:function(t){if(t==this._projectionHeight){return}this._projectionHeight=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});e.prototype.unproject=function(t,e,r){var i=new s.Vector3D(t+this.matrix.rawData[12],-e+this.matrix.rawData[13],r,1);i=this.unprojectionMatrix.transformVector(i);i.z=r;return i};e.prototype.clone=function(){var t=new e;t._pNear=this._pNear;t._pFar=this._pFar;t._pAspectRatio=this._pAspectRatio;t.projectionHeight=this._projectionHeight;return t};e.prototype.pUpdateMatrix=function(){var t=a.Matrix3DUtils.RAW_DATA_CONTAINER;this._yMax=this._projectionHeight*.5;this._xMax=this._yMax*this._pAspectRatio;var e;var r;var i;var s;if(this._pScissorRect.x==0&&this._pScissorRect.y==0&&this._pScissorRect.width==this._pViewPort.width&&this._pScissorRect.height==this._pViewPort.height){e=-this._xMax;r=this._xMax;i=-this._yMax;s=this._yMax;t[0]=2/(this._projectionHeight*this._pAspectRatio);t[5]=2/this._projectionHeight;t[10]=1/(this._pFar-this._pNear);t[14]=this._pNear/(this._pNear-this._pFar);t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[8]=t[9]=t[11]=t[12]=t[13]=0;t[15]=1}else{var n=this._xMax*(this._pViewPort.width/this._pScissorRect.width);var o=this._yMax*(this._pViewPort.height/this._pScissorRect.height);var h=this._xMax*(this._pScissorRect.x*2-this._pViewPort.width)/this._pScissorRect.width+this._xMax;var u=-this._yMax*(this._pScissorRect.y*2-this._pViewPort.height)/this._pScissorRect.height-this._yMax;e=h-n;r=h+n;i=u-o;s=u+o;t[0]=2*1/(r-e);t[5]=-2*1/(i-s);t[10]=1/(this._pFar-this._pNear);t[12]=(r+e)/(r-e);t[13]=(s+i)/(s-i);t[14]=this._pNear/(this.near-this.far);t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[8]=t[9]=t[11]=0;t[15]=1}this._pFrustumCorners[0]=this._pFrustumCorners[9]=this._pFrustumCorners[12]=this._pFrustumCorners[21]=e;this._pFrustumCorners[3]=this._pFrustumCorners[6]=this._pFrustumCorners[15]=this._pFrustumCorners[18]=r;this._pFrustumCorners[1]=this._pFrustumCorners[4]=this._pFrustumCorners[13]=this._pFrustumCorners[16]=i;this._pFrustumCorners[7]=this._pFrustumCorners[10]=this._pFrustumCorners[19]=this._pFrustumCorners[22]=s;this._pFrustumCorners[2]=this._pFrustumCorners[5]=this._pFrustumCorners[8]=this._pFrustumCorners[11]=this._pNear;this._pFrustumCorners[14]=this._pFrustumCorners[17]=this._pFrustumCorners[20]=this._pFrustumCorners[23]=this._pFar;this._pMatrix.copyRawDataFrom(t);this._pMatrixInvalid=false};return e}(n.ProjectionBase);r.OrthographicProjection=o},{"../geom/Matrix3DUtils":"awayjs-core/lib/geom/Matrix3DUtils","../geom/Vector3D":"awayjs-core/lib/geom/Vector3D","../projections/ProjectionBase":"awayjs-core/lib/projections/ProjectionBase"}],"awayjs-core/lib/projections/PerspectiveProjection":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../geom/Matrix3DUtils");var s=t("../geom/Vector3D");var n=t("../projections/CoordinateSystem");var o=t("../projections/ProjectionBase");var h=function(t){i(e,t);function e(e,r){if(e===void 0){e=60}if(r===void 0){r="leftHanded"}t.call(this,r);this._fieldOfView=60;this._focalLength=1e3;this._hFieldOfView=60;this._hFocalLength=1e3;this._preserveAspectRatio=true;this._preserveFocalLength=false;this.fieldOfView=e}Object.defineProperty(e.prototype,"preserveAspectRatio",{get:function(){return this._preserveAspectRatio},set:function(t){if(this._preserveAspectRatio==t)return;this._preserveAspectRatio=t;if(this._preserveAspectRatio)this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"preserveFocalLength",{get:function(){return this._preserveFocalLength},set:function(t){if(this._preserveFocalLength==t)return;this._preserveFocalLength=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"fieldOfView",{get:function(){return this._fieldOfView},set:function(t){if(this._fieldOfView==t)return;this._fieldOfView=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"focalLength",{get:function(){return this._focalLength},set:function(t){if(this._focalLength==t)return;this._focalLength=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"hFieldOfView",{get:function(){return this._hFieldOfView},set:function(t){if(this._hFieldOfView==t)return;this._hFieldOfView=t;this._hFocalLength=1/Math.tan(this._hFieldOfView*Math.PI/360);this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"hFocalLength",{get:function(){return this._hFocalLength},set:function(t){if(this._hFocalLength==t)return;this._hFocalLength=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});e.prototype.unproject=function(t,e,r){var i=new s.Vector3D(t,-e,r,1);i.x*=r;i.y*=r;i=this.unprojectionMatrix.transformVector(i);i.z=r;return i};e.prototype.clone=function(){var t=new e(this._fieldOfView);t._pNear=this._pNear;t._pFar=this._pFar;t._pAspectRatio=this._pAspectRatio;t._pCoordinateSystem=this._pCoordinateSystem;return t};e.prototype.pUpdateMatrix=function(){var t=a.Matrix3DUtils.RAW_DATA_CONTAINER;if(this._preserveFocalLength){if(this._preserveAspectRatio)this._hFocalLength=this._focalLength;this._fieldOfView=Math.atan(.5*this._pScissorRect.height/this._focalLength)*360/Math.PI;this._hFieldOfView=Math.atan(.5*this._pScissorRect.width/this._hFocalLength)*360/Math.PI}else{this._focalLength=.5*this._pScissorRect.height/Math.tan(this._fieldOfView*Math.PI/360);if(this._preserveAspectRatio)this._hFocalLength=this._focalLength;else this._hFocalLength=.5*this._pScissorRect.width/Math.tan(this._hFieldOfView*Math.PI/360)}var e=-this._pOriginX/this._hFocalLength;var r=(1-this._pOriginX)/this._hFocalLength;var i=-this._pOriginY/this._focalLength;var s=(1-this._pOriginY)/this._focalLength;var o;var h;var u;var c;var l=-((e-r)*this._pScissorRect.x+e*this._pScissorRect.width);var p=(i-s)*this._pScissorRect.y+i*this._pScissorRect.height;o=l-(r-e)*this._pViewPort.width;h=l;u=p;c=p+(s-i)*this._pViewPort.height;t[0]=2/(h-o);t[5]=2/(c-u);t[8]=(h+o)/(h-o);t[9]=(c+u)/(c-u);t[10]=(this._pFar+this._pNear)/(this._pFar-this._pNear);t[11]=1;t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[12]=t[13]=t[15]=0;t[14]=-2*this._pFar*this._pNear/(this._pFar-this._pNear);if(this._pCoordinateSystem==n.CoordinateSystem.RIGHT_HANDED)t[5]=-t[5];this._pMatrix.copyRawDataFrom(t);this._pFrustumCorners[0]=this._pFrustumCorners[9]=this._pNear*o;this._pFrustumCorners[3]=this._pFrustumCorners[6]=this._pNear*h;this._pFrustumCorners[1]=this._pFrustumCorners[4]=this._pNear*u;this._pFrustumCorners[7]=this._pFrustumCorners[10]=this._pNear*c;this._pFrustumCorners[12]=this._pFrustumCorners[21]=this._pFar*o;this._pFrustumCorners[15]=this._pFrustumCorners[18]=this._pFar*h;this._pFrustumCorners[13]=this._pFrustumCorners[16]=this._pFar*u;this._pFrustumCorners[19]=this._pFrustumCorners[22]=this._pFar*c;this._pFrustumCorners[2]=this._pFrustumCorners[5]=this._pFrustumCorners[8]=this._pFrustumCorners[11]=this._pNear;this._pFrustumCorners[14]=this._pFrustumCorners[17]=this._pFrustumCorners[20]=this._pFrustumCorners[23]=this._pFar;this._pMatrixInvalid=false};return e}(o.ProjectionBase);r.PerspectiveProjection=h},{"../geom/Matrix3DUtils":"awayjs-core/lib/geom/Matrix3DUtils","../geom/Vector3D":"awayjs-core/lib/geom/Vector3D","../projections/CoordinateSystem":"awayjs-core/lib/projections/CoordinateSystem","../projections/ProjectionBase":"awayjs-core/lib/projections/ProjectionBase"}],"awayjs-core/lib/projections/ProjectionBase":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../geom/Matrix3D");var s=t("../geom/Rectangle");var n=t("../events/EventDispatcher");var o=t("../events/ProjectionEvent");var h=t("../errors/AbstractMethodError");var u=function(t){i(e,t);function e(e){if(e===void 0){e="leftHanded"}t.call(this);this._pMatrix=new a.Matrix3D;this._pScissorRect=new s.Rectangle;this._pViewPort=new s.Rectangle;this._pNear=20;this._pFar=3e3;this._pAspectRatio=1;this._pMatrixInvalid=true;this._pFrustumCorners=[];this._pOriginX=.5;this._pOriginY=.5;this._unprojectionInvalid=true;this.coordinateSystem=e}Object.defineProperty(e.prototype,"coordinateSystem",{get:function(){return this._pCoordinateSystem},set:function(t){if(this._pCoordinateSystem==t)return;this._pCoordinateSystem=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"frustumCorners",{get:function(){return this._pFrustumCorners},set:function(t){this._pFrustumCorners=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"matrix",{get:function(){if(this._pMatrixInvalid){this.pUpdateMatrix();this._pMatrixInvalid=false}return this._pMatrix},set:function(t){this._pMatrix=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"near",{
get:function(){return this._pNear},set:function(t){if(t==this._pNear){return}this._pNear=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"originX",{get:function(){return this._pOriginX},set:function(t){if(this._pOriginX==t)return;this._pOriginX=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"originY",{get:function(){return this._pOriginY},set:function(t){if(this._pOriginY==t)return;this._pOriginY=t},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"far",{get:function(){return this._pFar},set:function(t){if(t==this._pFar){return}this._pFar=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});e.prototype.project=function(t){var e=this.matrix.transformVector(t);e.x=e.x/e.w;e.y=-e.y/e.w;e.z=t.z;return e};Object.defineProperty(e.prototype,"unprojectionMatrix",{get:function(){if(this._unprojectionInvalid){if(!this._unprojection)this._unprojection=new a.Matrix3D;this._unprojection.copyFrom(this.matrix);this._unprojection.invert();this._unprojectionInvalid=false}return this._unprojection},enumerable:true,configurable:true});e.prototype.unproject=function(t,e,r){throw new h.AbstractMethodError};e.prototype.clone=function(){throw new h.AbstractMethodError};Object.defineProperty(e.prototype,"_iAspectRatio",{get:function(){return this._pAspectRatio},set:function(t){if(this._pAspectRatio==t)return;this._pAspectRatio=t;this.pInvalidateMatrix()},enumerable:true,configurable:true});e.prototype.pInvalidateMatrix=function(){this._pMatrixInvalid=true;this._unprojectionInvalid=true;this.dispatchEvent(new o.ProjectionEvent(o.ProjectionEvent.MATRIX_CHANGED,this))};e.prototype.pUpdateMatrix=function(){throw new h.AbstractMethodError};e.prototype._iUpdateScissorRect=function(t,e,r,i){this._pScissorRect.x=t;this._pScissorRect.y=e;this._pScissorRect.width=r;this._pScissorRect.height=i;this.pInvalidateMatrix()};e.prototype._iUpdateViewport=function(t,e,r,i){this._pViewPort.x=t;this._pViewPort.y=e;this._pViewPort.width=r;this._pViewPort.height=i;this.pInvalidateMatrix()};return e}(n.EventDispatcher);r.ProjectionBase=u},{"../errors/AbstractMethodError":"awayjs-core/lib/errors/AbstractMethodError","../events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher","../events/ProjectionEvent":"awayjs-core/lib/events/ProjectionEvent","../geom/Matrix3D":"awayjs-core/lib/geom/Matrix3D","../geom/Rectangle":"awayjs-core/lib/geom/Rectangle"}],"awayjs-core/lib/projections":[function(t,e,r){"use strict";var i=t("./projections/CoordinateSystem");r.CoordinateSystem=i.CoordinateSystem;var a=t("./projections/FreeMatrixProjection");r.FreeMatrixProjection=a.FreeMatrixProjection;var s=t("./projections/ObliqueNearPlaneProjection");r.ObliqueNearPlaneProjection=s.ObliqueNearPlaneProjection;var n=t("./projections/OrthographicOffCenterProjection");r.OrthographicOffCenterProjection=n.OrthographicOffCenterProjection;var o=t("./projections/OrthographicProjection");r.OrthographicProjection=o.OrthographicProjection;var h=t("./projections/PerspectiveProjection");r.PerspectiveProjection=h.PerspectiveProjection;var u=t("./projections/ProjectionBase");r.ProjectionBase=u.ProjectionBase},{"./projections/CoordinateSystem":"awayjs-core/lib/projections/CoordinateSystem","./projections/FreeMatrixProjection":"awayjs-core/lib/projections/FreeMatrixProjection","./projections/ObliqueNearPlaneProjection":"awayjs-core/lib/projections/ObliqueNearPlaneProjection","./projections/OrthographicOffCenterProjection":"awayjs-core/lib/projections/OrthographicOffCenterProjection","./projections/OrthographicProjection":"awayjs-core/lib/projections/OrthographicProjection","./projections/PerspectiveProjection":"awayjs-core/lib/projections/PerspectiveProjection","./projections/ProjectionBase":"awayjs-core/lib/projections/ProjectionBase"}],"awayjs-core/lib/ui/Keyboard":[function(t,e,r){"use strict";var i=function(){function t(){}t.A=65;t.ALTERNATE=18;t.AUDIO=16777239;t.B=66;t.BACK=16777238;t.BACKQUOTE=192;t.BACKSLASH=220;t.BACKSPACE=8;t.BLUE=16777219;t.C=67;t.CAPS_LOCK=20;t.CHANNEL_DOWN=16777221;t.CHANNEL_UP=16777221;t.COMMA=188;t.COMMAND=15;t.CONTROL=17;t.D=68;t.DELETE=46;t.DOWN=40;t.DVR=16777241;t.E=69;t.END=35;t.ENTER=13;t.EQUAL=187;t.ESCAPE=27;t.EXIT=16777237;t.F=70;t.F1=112;t.F10=121;t.F11=122;t.F12=123;t.F13=124;t.F14=125;t.F15=126;t.F2=113;t.F3=114;t.F4=115;t.F5=116;t.F6=117;t.F7=118;t.F8=119;t.F9=120;t.FAST_FORWARD=16777226;t.G=71;t.GREEN=16777217;t.GUIDE=16777236;t.H=72;t.HELP=16777245;t.HOME=36;t.I=73;t.INFO=16777235;t.INPUT=16777243;t.INSERT=45;t.J=74;t.K=75;t.KEYNAME_BEGIN="Begin";t.KEYNAME_BREAK="Break";t.KEYNAME_CLEARDISPLAY="ClrDsp";t.KEYNAME_CLEARLINE="ClrLn";t.KEYNAME_DELETE="Delete";t.KEYNAME_DELETECHAR="DelChr";t.KEYNAME_DELETELINE="DelLn";t.KEYNAME_DOWNARROW="Down";t.KEYNAME_END="End";t.KEYNAME_EXECUTE="Exec";t.KEYNAME_F1="F1";t.KEYNAME_F10="F10";t.KEYNAME_F11="F11";t.KEYNAME_F12="F12";t.KEYNAME_F13="F13";t.KEYNAME_F14="F14";t.KEYNAME_F15="F15";t.KEYNAME_F16="F16";t.KEYNAME_F17="F17";t.KEYNAME_F18="F18";t.KEYNAME_F19="F19";t.KEYNAME_F2="F2";t.KEYNAME_F20="F20";t.KEYNAME_F21="F21";t.KEYNAME_F22="F22";t.KEYNAME_F23="F23";t.KEYNAME_F24="F24";t.KEYNAME_F25="F25";t.KEYNAME_F26="F26";t.KEYNAME_F27="F27";t.KEYNAME_F28="F28";t.KEYNAME_F29="F29";t.KEYNAME_F3="F3";t.KEYNAME_F30="F30";t.KEYNAME_F31="F31";t.KEYNAME_F32="F32";t.KEYNAME_F33="F33";t.KEYNAME_F34="F34";t.KEYNAME_F35="F35";t.KEYNAME_F4="F4";t.KEYNAME_F5="F5";t.KEYNAME_F6="F6";t.KEYNAME_F7="F7";t.KEYNAME_F8="F8";t.KEYNAME_F9="F9";t.KEYNAME_FIND="Find";t.KEYNAME_HELP="Help";t.KEYNAME_HOME="Home";t.KEYNAME_INSERT="Insert";t.KEYNAME_INSERTCHAR="InsChr";t.KEYNAME_INSERTLINE="LnsLn";t.KEYNAME_LEFTARROW="Left";t.KEYNAME_MENU="Menu";t.KEYNAME_MODESWITCH="ModeSw";t.KEYNAME_NEXT="Next";t.KEYNAME_PAGEDOWN="PgDn";t.KEYNAME_PAGEUP="PgUp";t.KEYNAME_PAUSE="Pause";t.KEYNAME_PREV="Prev";t.KEYNAME_PRINT="Print";t.KEYNAME_PRINTSCREEN="PrntScrn";t.KEYNAME_REDO="Redo";t.KEYNAME_RESET="Reset";t.KEYNAME_RIGHTARROW="Right";t.KEYNAME_SCROLLLOCK="ScrlLck";t.KEYNAME_SELECT="Select";t.KEYNAME_STOP="Stop";t.KEYNAME_SYSREQ="SysReq";t.KEYNAME_SYSTEM="Sys";t.KEYNAME_UNDO="Undo";t.KEYNAME_UPARROW="Up";t.KEYNAME_USER="User";t.L=76;t.LAST=16777233;t.LEFT=37;t.LEFTBRACKET=219;t.LIVE=16777232;t.M=77;t.MASTER_SHELL=16777246;t.MENU=16777234;t.MINUS=189;t.N=78;t.NEXT=16777230;t.NUMBER_0=48;t.NUMBER_1=49;t.NUMBER_2=50;t.NUMBER_3=51;t.NUMBER_4=52;t.NUMBER_5=53;t.NUMBER_6=54;t.NUMBER_7=55;t.NUMBER_8=56;t.NUMBER_9=57;t.NUMPAD=21;t.NUMPAD_0=96;t.NUMPAD_1=97;t.NUMPAD_2=98;t.NUMPAD_3=99;t.NUMPAD_4=100;t.NUMPAD_5=101;t.NUMPAD_6=102;t.NUMPAD_7=103;t.NUMPAD_8=104;t.NUMPAD_9=105;t.NUMPAD_ADD=107;t.NUMPAD_DECIMAL=110;t.NUMPAD_DIVIDE=111;t.NUMPAD_ENTER=108;t.NUMPAD_MULTIPLY=106;t.NUMPAD_SUBTRACT=109;t.O=79;t.P=80;t.PAGE_DOWN=34;t.PAGE_UP=33;t.PAUSE=16777224;t.PERIOD=190;t.PLAY=16777223;t.PREVIOUS=16777231;t.Q=81;t.QUOTE=222;t.R=82;t.RECORD=16777222;t.RED=16777216;t.REWIND=16777227;t.RIGHT=39;t.RIGHTBRACKET=221;t.S=83;t.SEARCH=16777247;t.SEMICOLON=186;t.SETUP=16777244;t.SHIFT=16;t.SKIP_BACKWARD=16777229;t.SKIP_FORWARD=16777228;t.SLASH=191;t.SPACE=32;t.STOP=16777225;t.SUBTITLE=16777240;t.T=84;t.TAB=9;t.U=85;t.UP=38;t.V=86;t.VOD=16777242;t.W=87;t.X=88;t.Y=89;t.YELLOW=16777218;t.Z=90;return t}();r.Keyboard=i},{}],"awayjs-core/lib/ui":[function(t,e,r){"use strict";var i=t("./ui/Keyboard");r.Keyboard=i.Keyboard},{"./ui/Keyboard":"awayjs-core/lib/ui/Keyboard"}],"awayjs-core/lib/utils/BitmapImageUtils":[function(t,e,r){"use strict";var i=t("../utils/ColorUtils");var a=function(){function t(){}t._fillRect=function(t,e,r,a){if(r==0&&a){t.clearRect(e.x,e.y,e.width,e.height)}else{var s=i.ColorUtils.float32ColorToARGB(r);if(a)t.fillStyle="rgba("+s[1]+","+s[2]+","+s[3]+","+s[0]/255+")";else t.fillStyle="rgba("+s[1]+","+s[2]+","+s[3]+",1)";t.fillRect(e.x,e.y,e.width,e.height)}};t._copyPixels=function(t,e,r,i){t.drawImage(e,r.x,r.y,r.width,r.height,i.x,i.y,i.width,i.height)};t._draw=function(t,e,r,i,a,s,n){t.save();if(r!=null)t.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty);if(s!=null)t.drawImage(e,s.x,s.y,s.width,s.height);else t.drawImage(e,0,0);t.restore()};return t}();r.BitmapImageUtils=a},{"../utils/ColorUtils":"awayjs-core/lib/utils/ColorUtils"}],"awayjs-core/lib/utils/ByteArrayBase":[function(t,e,r){"use strict";var i=t("../errors/AbstractMethodError");var a=function(){function t(){this.position=0;this.length=0;this._mode=""}t.prototype.writeByte=function(t){throw"Virtual method"};t.prototype.readByte=function(){throw"Virtual method"};t.prototype.writeUnsignedByte=function(t){throw"Virtual method"};t.prototype.readUnsignedByte=function(){throw"Virtual method"};t.prototype.writeUnsignedShort=function(t){throw"Virtual method"};t.prototype.readUnsignedShort=function(){throw"Virtual method"};t.prototype.writeUnsignedInt=function(t){throw"Virtual method"};t.prototype.readUnsignedInt=function(){throw"Virtual method"};t.prototype.writeFloat=function(t){throw"Virtual method"};t.prototype.toFloatBits=function(t){throw"Virtual method"};t.prototype.readFloat=function(t){throw"Virtual method"};t.prototype.fromFloatBits=function(t){throw"Virtual method"};t.prototype.getBytesAvailable=function(){throw new i.AbstractMethodError("ByteArrayBase, getBytesAvailable() not implemented ")};t.prototype.toString=function(){return"[ByteArray] ( "+this._mode+" ) position="+this.position+" length="+this.length};t.prototype.compareEqual=function(t,e){if(e==undefined||e>this.length-this.position)e=this.length-this.position;if(e>t.length-t.position)e=t.length-t.position;var r=e;var i=true;while(i&&e>=4){e-=4;if(this.readUnsignedInt()!=t.readUnsignedInt())i=false}while(i&&e>=1){e--;if(this.readUnsignedByte()!=t.readUnsignedByte())i=false}var a;this.position-=a-e;t.position-=a-e;return i};t.prototype.writeBase64String=function(t){for(var e=0;e<t.length;e++){var r=t.charAt(e)}};t.prototype.dumpToConsole=function(){var t=this.position;this.position=0;var e=8;function r(t,e){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var i="";for(var a=0;a<e;a++){i=r[t>>(a<<2)&15]+i}return i}for(var i=0;i<this.length;i+=e){var a=r(i,4)+":";for(var s=0;s<e&&i+s<this.length;s++){a+=" "+r(this.readUnsignedByte(),2)}console.log(a)}this.position=t};t.prototype.readBase64String=function(e){if(e==undefined||e>this.length-this.position)e=this.length-this.position;if(!(e>0))return"";return t.internalGetBase64String(e,this.readUnsignedByte,this)};t.internalGetBase64String=function(e,r,i){var a="";var s,n,o,h,u,c,l;var p=t.Base64Key;while(e>=3){s=r.apply(i);n=r.apply(i);o=r.apply(i);h=s>>2;u=(s&3)<<4|n>>4;c=(n&15)<<2|o>>6;l=o&63;a+=p.charAt(h)+p.charAt(u)+p.charAt(c)+p.charAt(l);e-=3}if(e==2){s=r.apply(i);n=r.apply(i);h=s>>2;u=(s&3)<<4|n>>4;c=(n&15)<<2;a+=p.charAt(h)+p.charAt(u)+p.charAt(c)+"="}else if(e==1){s=r.apply(i);h=s>>2;u=(s&3)<<4;a+=p.charAt(h)+p.charAt(u)+"=="}return a};t.Base64Key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return t}();r.ByteArrayBase=a},{"../errors/AbstractMethodError":"awayjs-core/lib/errors/AbstractMethodError"}],"awayjs-core/lib/utils/ByteArrayBuffer":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../utils/ByteArrayBase");var s=function(t){i(e,t);function e(){t.call(this);this._bytes=[];this._mode="Array"}e.prototype.writeByte=function(t){var e=~~t;this._bytes[this.position++]=e;if(this.position>this.length){this.length=this.position}};e.prototype.readByte=function(){if(this.position>=this.length){throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length}return this._bytes[this.position++]};e.prototype.writeUnsignedByte=function(t){var e=~~t;this._bytes[this.position++]=e&255;if(this.position>this.length){this.length=this.position}};e.prototype.readUnsignedByte=function(){if(this.position>=this.length){throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length}return this._bytes[this.position++]};e.prototype.writeUnsignedShort=function(t){var e=~~t;this._bytes[this.position++]=e&255;this._bytes[this.position++]=e>>8&255;if(this.position>this.length){this.length=this.position}};e.prototype.readUnsignedShort=function(){if(this.position+2>this.length)throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length;var t=this._bytes[this.position]|this._bytes[this.position+1]<<8;this.position+=2;return t};e.prototype.writeUnsignedInt=function(t){var e=~~t;this._bytes[this.position++]=e&255;this._bytes[this.position++]=e>>>8&255;this._bytes[this.position++]=e>>>16&255;this._bytes[this.position++]=e>>>24&255;if(this.position>this.length){this.length=this.position}};e.prototype.readUnsignedInt=function(){if(this.position+4>this.length){throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length}var t=this._bytes[this.position]|this._bytes[this.position+1]<<8|this._bytes[this.position+2]<<16|this._bytes[this.position+3]<<24;this.position+=4;return t>>>0};e.prototype.writeFloat=function(t){this.writeUnsignedInt(this.toFloatBits(Number(t)))};e.prototype.toFloatBits=function(t){if(t==0){return 0}var e=0;if(t<0){t=-t;e=1}else{e=0}var r=Math.log(t)/Math.log(2);r=Math.floor(r);t=t*Math.pow(2,23-r);var i=Math.floor(t)-8388608;r=r+127;return e<<31>>>0|r<<23|i};e.prototype.readFloat=function(t){return this.fromFloatBits(this.readUnsignedInt())};e.prototype.fromFloatBits=function(t){if(t==0){return 0}var e=t>>>23&255;var r=t&8388607|8388608;var i=Math.pow(2,e-127-23)*r;if(t>>>31!=0){i=-i}return i};return e}(a.ByteArrayBase);r.ByteArrayBuffer=s},{"../utils/ByteArrayBase":"awayjs-core/lib/utils/ByteArrayBase"}],"awayjs-core/lib/utils/ByteArray":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../utils/ByteArrayBase");var s=function(t){i(e,t);function e(e){if(e===void 0){e=4}t.call(this);this._mode="Typed array";this.maxlength=Math.max(e+255&~255,4);this.arraybytes=new ArrayBuffer(this.maxlength);this.unalignedarraybytestemp=new ArrayBuffer(16)}e.prototype.ensureWriteableSpace=function(t){this.ensureSpace(t+this.position)};e.prototype.setArrayBuffer=function(t){this.ensureSpace(t.byteLength);this.length=t.byteLength;var e=new Int8Array(t);var r=new Int8Array(this.arraybytes,0,this.length);r.set(e);this.position=0};e.prototype.getBytesAvailable=function(){return this.length-this.position};e.prototype.ensureSpace=function(t){if(t>this.maxlength){var e=t+255&~255;var r=new ArrayBuffer(e);var i=new Uint8Array(this.arraybytes,0,this.length);var a=new Uint8Array(r,0,this.length);a.set(i);this.arraybytes=r;this.maxlength=e}};e.prototype.writeByte=function(t){this.ensureWriteableSpace(1);var e=new Int8Array(this.arraybytes);e[this.position++]=~~t;if(this.position>this.length){this.length=this.position}};e.prototype.readByte=function(){if(this.position>=this.length)throw"ByteArray out of bounds read. Positon="+this.position+", Length="+this.length;var t=new Int8Array(this.arraybytes);return t[this.position++]};e.prototype.readBytes=function(t,e,r){if(e===void 0){e=0}if(r===void 0){r=0}if(r==null)r=t.length;t.ensureWriteableSpace(e+r);var i=new Int8Array(t.arraybytes);var a=new Int8Array(this.arraybytes);i.set(a.subarray(this.position,this.position+r),e);this.position+=r;if(r+e>t.length)t.length+=r+e-t.length};e.prototype.writeUnsignedByte=function(t){this.ensureWriteableSpace(1);var e=new Uint8Array(this.arraybytes);e[this.position++]=~~t&255;if(this.position>this.length)this.length=this.position};e.prototype.readUnsignedByte=function(){if(this.position>=this.length)throw"ByteArray out of bounds read. Positon="+this.position+", Length="+this.length;var t=new Uint8Array(this.arraybytes);return t[this.position++]};e.prototype.writeUnsignedShort=function(t){this.ensureWriteableSpace(2);if((this.position&1)==0){var e=new Uint16Array(this.arraybytes);e[this.position>>1]=~~t&65535}else{var e=new Uint16Array(this.unalignedarraybytestemp,0,1);e[0]=~~t&65535;var r=new Uint8Array(this.arraybytes,this.position,2);var i=new Uint8Array(this.unalignedarraybytestemp,0,2);r.set(i)}this.position+=2;if(this.position>this.length)this.length=this.position};e.prototype.readUTFBytes=function(t){var e="";var r=this.position+t;var i=new DataView(this.arraybytes);while(this.position<r){var a=i.getUint8(this.position++);if(a<128){if(a==0)break;e+=String.fromCharCode(a)}else if(a<224){e+=String.fromCharCode((a&63)<<6|i.getUint8(this.position++)&127)}else if(a<240){var s=i.getUint8(this.position++);e+=String.fromCharCode((a&31)<<12|(s&127)<<6|i.getUint8(this.position++)&127)}else{var s=i.getUint8(this.position++);var n=i.getUint8(this.position++);e+=String.fromCharCode((a&15)<<18|(s&127)<<12|n<<6&127|i.getUint8(this.position++)&127)}}return e};e.prototype.readInt=function(){var t=new DataView(this.arraybytes);var e=t.getInt32(this.position,true);this.position+=4;return e};e.prototype.readShort=function(){var t=new DataView(this.arraybytes);var e=t.getInt16(this.position,true);this.position+=2;return e};e.prototype.readDouble=function(){var t=new DataView(this.arraybytes);var e=t.getFloat64(this.position,true);this.position+=8;return e};e.prototype.readUnsignedShort=function(){if(this.position>this.length+2)throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length;if((this.position&1)==0){var t=new Uint16Array(this.arraybytes);var e=this.position>>1;this.position+=2;return t[e]}else{var t=new Uint16Array(this.unalignedarraybytestemp,0,1);var r=new Uint8Array(this.arraybytes,this.position,2);var i=new Uint8Array(this.unalignedarraybytestemp,0,2);i.set(r);this.position+=2;return t[0]}};e.prototype.writeUnsignedInt=function(t){this.ensureWriteableSpace(4);if((this.position&3)==0){var e=new Uint32Array(this.arraybytes);e[this.position>>2]=~~t&4294967295}else{var e=new Uint32Array(this.unalignedarraybytestemp,0,1);e[0]=~~t&4294967295;var r=new Uint8Array(this.arraybytes,this.position,4);var i=new Uint8Array(this.unalignedarraybytestemp,0,4);r.set(i)}this.position+=4;if(this.position>this.length)this.length=this.position};e.prototype.readUnsignedInt=function(){if(this.position>this.length+4)throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length;if((this.position&3)==0){var t=new Uint32Array(this.arraybytes);var e=this.position>>2;this.position+=4;return t[e]}else{var t=new Uint32Array(this.unalignedarraybytestemp,0,1);var r=new Uint8Array(this.arraybytes,this.position,4);var i=new Uint8Array(this.unalignedarraybytestemp,0,4);i.set(r);this.position+=4;return t[0]}};e.prototype.writeFloat=function(t){this.ensureWriteableSpace(4);if((this.position&3)==0){var e=new Float32Array(this.arraybytes);e[this.position>>2]=t}else{var e=new Float32Array(this.unalignedarraybytestemp,0,1);e[0]=t;var r=new Uint8Array(this.arraybytes,this.position,4);var i=new Uint8Array(this.unalignedarraybytestemp,0,4);r.set(i)}this.position+=4;if(this.position>this.length)this.length=this.position};e.prototype.readFloat=function(){if(this.position>this.length+4)throw"ByteArray out of bounds read. Positon="+this.position+", Length="+this.length;if((this.position&3)==0){var t=new Float32Array(this.arraybytes);var e=this.position>>2;this.position+=4;return t[e]}else{var t=new Float32Array(this.unalignedarraybytestemp,0,1);var r=new Uint8Array(this.arraybytes,this.position,4);var i=new Uint8Array(this.unalignedarraybytestemp,0,4);i.set(r);this.position+=4;return t[0]}};return e}(a.ByteArrayBase);r.ByteArray=s},{"../utils/ByteArrayBase":"awayjs-core/lib/utils/ByteArrayBase"}],"awayjs-core/lib/utils/CSS":[function(t,e,r){"use strict";var i=function(){function t(){}t.setElementSize=function(t,e,r){if(!t)return;t.style.width=e+"px";t.style.height=r+"px";t["width"]=e;t["height"]=r};t.setElementWidth=function(t,e){if(!t)return;t.style.width=e+"px";t["width"]=e};t.setElementHeight=function(t,e){if(!t)return;t.style.height=e+"px";t["height"]=e};t.setElementX=function(t,e){if(!t)return;t.style.position="absolute";t.style.left=e+"px"};t.setElementY=function(t,e){if(!t)return;t.style.position="absolute";t.style.top=e+"px"};t.getElementVisibility=function(t){if(!t)return false;return t.style.visibility=="visible"};t.setElementVisibility=function(t,e){if(!t)return;if(e){t.style.visibility="visible"}else{t.style.visibility="hidden"}};t.setElementAlpha=function(t,e){if(t instanceof HTMLCanvasElement){var r=t.getContext("2d");r.globalAlpha=e}};t.setElementPosition=function(t,e,r,i){if(i===void 0){i=false}if(!t)return;if(i){t.style.position="absolute"}else{t.style.position="relative"}t.style.left=e+"px";t.style.top=r+"px"};return t}();r.CSS=i},{}],"awayjs-core/lib/utils/ColorUtils":[function(t,e,r){"use strict";var i=function(){function t(){}t.float32ColorToARGB=function(t){var e=(t&4278190080)>>>24;var r=(t&16711680)>>>16;var i=(t&65280)>>>8;var a=t&255;var s=[e,r,i,a];return s};t.ARGBtoFloat32=function(t,e,r,i){return t<<24|e<<16|r<<8|i};t.componentToHex=function(t){var e=t.toString(16);return e.length==1?"0"+e:e};t.RGBToHexString=function(e){return"#"+t.componentToHex(e[1])+t.componentToHex(e[2])+t.componentToHex(e[3])};t.ARGBToHexString=function(e){return"#"+t.componentToHex(e[0])+t.componentToHex(e[1])+t.componentToHex(e[2])+t.componentToHex(e[3])};return t}();r.ColorUtils=i},{}],"awayjs-core/lib/utils/Debug":[function(t,e,r){"use strict";var i=t("../errors/PartialImplementationError");var a=function(){function t(){}t.breakpoint=function(){t["break"]()};t.throwPIROnKeyWordOnly=function(e,r){if(r===void 0){r=true}if(!r)t.keyword=null;else t.keyword=e};t.throwPIR=function(e,r,a){t.logPIR("PartialImplementationError "+e,r,a);if(t.THROW_ERRORS){if(t.keyword){var s=e+r+a;if(s.indexOf(t.keyword)==-1)return}throw new i.PartialImplementationError(e+"."+r+": "+a)}};t.logPIR=function(e,r,i){if(i===void 0){i=""}if(t.LOG_PI_ERRORS)console.log(e+"."+r+": "+i)};t.log=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r-0]=arguments[r]}if(t.ENABLE_LOG)console.log(e)};t.THROW_ERRORS=true;t.ENABLE_LOG=true;t.LOG_PI_ERRORS=true;t.keyword=null;return t}();r.Debug=a},{"../errors/PartialImplementationError":"awayjs-core/lib/errors/PartialImplementationError"}],"awayjs-core/lib/utils/Extensions":[function(t,e,r){"use strict";var i=function(){function t(){}t.SIMD=Boolean(typeof SIMD!=="undefined");return t}();r.Extensions=i},{}],"awayjs-core/lib/utils/IArrayBufferViewClass":[function(t,e,r){"use strict"},{}],"awayjs-core/lib/utils/ImageUtils":[function(t,e,r){"use strict";var i=function(){function t(){}t.isImage2DValid=function(e){if(e==null)return true;return t.isDimensionValid(e.width,e.powerOfTwo)&&t.isDimensionValid(e.height,e.powerOfTwo)};t.isHTMLImageElementValid=function(e){if(e==null)return true;return t.isDimensionValid(e.width)&&t.isDimensionValid(e.height)};t.isDimensionValid=function(e,r){if(r===void 0){r=true}return e>=1&&e<=t.MAX_SIZE&&(!r||t.isPowerOfTwo(e))};t.isPowerOfTwo=function(t){return t?(t&-t)==t:false};t.getBestPowerOf2=function(e){var r=1;while(r<e)r<<=1;if(r>t.MAX_SIZE)r=t.MAX_SIZE;return r};t.MAX_SIZE=2048;return t}();r.ImageUtils=i;Object.defineProperty(r,"__esModule",{value:true});r.default=i},{}],"awayjs-core/lib/utils/MipmapGenerator":[function(t,e,r){"use strict";var i=t("../image/BitmapImage2D");var a=t("../geom/Matrix");var s=t("../geom/Rectangle");var n=function(){function t(){}t._generateMipMaps=function(e,r,i){if(i===void 0){i=false}var a=e.width;var s=e.height;var n=0;var o;t._rect.width=a;t._rect.height=s;while(a>=1||s>=1){o=r[n]=t._getMipmapHolder(r[n],t._rect.width,t._rect.height);if(i)o.fillRect(t._rect,0);t._matrix.a=t._rect.width/e.width;t._matrix.d=t._rect.height/e.height;if(document){o.draw(e,t._matrix)}else{if(e.constructor.toString().indexOf("BitmapImage2D")>-1){var h=e;h.lock();o.lock();this.downsampleImage(h.getImageData(),o.getImageData());o.unlock();h.unlock()}else if(e.constructor.toString().indexOf("CPUCanvas")>-1){this.downsampleImage(e.getImageData(),o.getImageData())}else{this.downsampleImage(e,o.getImageData())}}a>>=1;s>>=1;t._rect.width=a>1?a:1;t._rect.height=s>1?s:1;n++}};t._getMipmapHolder=function(e,r,a){if(e){if(e.width==r&&e.height==a)return e;t._freeMipMapHolder(e)}if(!t._mipMaps[r]){t._mipMaps[r]=[];t._mipMapUses[r]=[]}if(!t._mipMaps[r][a]){e=t._mipMaps[r][a]=new i.BitmapImage2D(r,a,true);t._mipMapUses[r][a]=1}else{t._mipMapUses[r][a]=t._mipMapUses[r][a]+1;e=t._mipMaps[r][a]}return e};t._freeMipMapHolder=function(e){var r=e.width;var i=e.height;if(--t._mipMapUses[r][i]==0){t._mipMaps[r][i].dispose();t._mipMaps[r][i]=null}};t.downsampleImage=function(t,e){var r=new h;var i=new o(r,t.width,e.width,4);var a=new o(r,t.height,e.height,4);var s=[];var n=0;var u=0;var c=0;var l=0;var p=0;var f=0;var y=0;var d=0;var _=0;var v;var g;var m=0;var b=0;var w=0;for(var D=0;D<t.height;D++){c=i.len;n=c/t.width;u=1/n;l=i.width;p=i.windowSize;for(m=0;m<c;m++){v=(.5+m)*u;g=Math.floor(v-l);f=0;y=0;d=0;_=0;for(var b=0;b<p;++b){w=(D*t.width+(g+b))*4;var A=t.data[w];var E=t.data[w+1];var x=t.data[w+2];var P=t.data[w+3];var j=i.valueAt(m,b);f+=j*A;y+=j*E;d+=j*x;_+=j*P}w=(D*e.width+m)*4;s[w]=f;s[w+1]=y;s[w+2]=d;s[w+3]=_}}for(var R=0;R<e.width;R++){c=a.len;n=c/t.height;u=1/n;l=a.width;p=a.windowSize;for(m=0;m<c;m++){v=(.5+m)*u;g=Math.floor(v-l);f=0;y=0;d=0;_=0;for(b=0;b<p;++b){w=((b+g)*e.width+R)*4;var A=s[w];var E=s[w+1];var x=s[w+2];var P=s[w+3];var j=a.valueAt(m,b);f+=j*A;y+=j*E;d+=j*x;_+=j*P}w=(m*e.width+R)*4;e.data[w]=f;e.data[w+1]=y;e.data[w+2]=d;e.data[w+3]=_}}return e};t._mipMaps=[];t._mipMapUses=[];t._matrix=new a.Matrix;t._rect=new s.Rectangle;return t}();r.MipmapGenerator=n;var o=function(){function t(t,e,r,i){var a=r/e;var s=1/a;if(a>1){i=1;a=1}this.len=r;this.width=t.width*s;this.windowSize=Math.ceil(this.width*2);this.data=[];for(var n=0;n<this.len;n++){var o=(.5+n)*s;var h=Math.floor(o-this.width);var u=0;for(var c=0;c<this.windowSize;c++){var l=t.sampleBox(h+c-o,a,i);this.data[n*this.windowSize+c]=l;u+=l}for(var c=0;c<this.windowSize;c++){this.data[n*this.windowSize+c]/=u}}}t.prototype.valueAt=function(t,e){return this.data[t*this.windowSize+e]};return t}();r.PolyphaseKernel=o;var h=function(){function t(){}Object.defineProperty(t.prototype,"width",{get:function(){return.5},enumerable:true,configurable:true});t.prototype.sampleBox=function(t,e,r){var i=0;var a=1/r;for(var s=0;s<r;s++){var n=(t+(s+.5)*a)*e;var o=this.evaluate(n);i+=o}return i*a};t.prototype.evaluate=function(t){if(Math.abs(t)<=this.width)return 1;else return 0};return t}();r.BoxFilter=h;Object.defineProperty(r,"__esModule",{value:true});r.default=n},{"../geom/Matrix":"awayjs-core/lib/geom/Matrix","../geom/Rectangle":"awayjs-core/lib/geom/Rectangle","../image/BitmapImage2D":"awayjs-core/lib/image/BitmapImage2D"}],"awayjs-core/lib/utils/RequestAnimationFrame":[function(t,e,r){"use strict";var i=t("../utils/getTimer");var a=function(){function t(t,e){var r=this;this._active=false;this._argsArray=new Array;this._getTimer=i.getTimer;this.setCallback(t,e);this._rafUpdateFunction=function(){if(r._active)r._tick()};this._argsArray.push(this._dt)}t.prototype.setCallback=function(t,e){this._callback=t;this._callbackContext=e};t.prototype.start=function(){this._prevTime=this._getTimer();this._active=true;if(window){if(window.requestAnimationFrame){window.requestAnimationFrame(this._rafUpdateFunction)}else{if(window["mozRequestAnimationFrame"])window.requestAnimationFrame=window["mozRequestAnimationFrame"];else if(window["webkitRequestAnimationFrame"])window.requestAnimationFrame=window["webkitRequestAnimationFrame"];else if(window["oRequestAnimationFrame"])window.requestAnimationFrame=window["oRequestAnimationFrame"]}}};t.prototype.stop=function(){this._active=false};Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:true,configurable:true});t.prototype._tick=function(){this._currentTime=this._getTimer();this._dt=this._currentTime-this._prevTime;this._argsArray[0]=this._dt;this._callback.apply(this._callbackContext,this._argsArray);window.requestAnimationFrame(this._rafUpdateFunction);this._prevTime=this._currentTime};return t}();r.RequestAnimationFrame=a},{"../utils/getTimer":"awayjs-core/lib/utils/getTimer"}],"awayjs-core/lib/utils/Timer":[function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var a=t("../errors/ErrorBase");var s=t("../events/EventDispatcher");var n=t("../events/TimerEvent");var o=function(t){i(e,t);function e(e,r){if(r===void 0){r=0}t.call(this);this._repeatCount=0;this._currentCount=0;this._running=false;this._delay=e;this._repeatCount=r;if(isNaN(e)||e<0)throw new a.ErrorBase("Delay is negative or not a number")}Object.defineProperty(e.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=t;if(this._running){this.stop();this.start()}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(t){this._repeatCount=t},enumerable:true,configurable:true});e.prototype.reset=function(){if(this._running)this.stop();this._currentCount=0};Object.defineProperty(e.prototype,"running",{get:function(){return this._running},enumerable:true,configurable:true});e.prototype.start=function(){var t=this;this._running=true;clearInterval(this._iid);this._iid=setInterval(function(){return t.tick()},this._delay)};e.prototype.stop=function(){this._running=false;clearInterval(this._iid)};e.prototype.tick=function(){this._currentCount++;if(this._repeatCount>0&&this._currentCount>=this._repeatCount){this.stop();this.dispatchEvent(new n.TimerEvent(n.TimerEvent.TIMER));this.dispatchEvent(new n.TimerEvent(n.TimerEvent.TIMER_COMPLETE))}else{this.dispatchEvent(new n.TimerEvent(n.TimerEvent.TIMER))}};return e}(s.EventDispatcher);r.Timer=o},{"../errors/ErrorBase":"awayjs-core/lib/errors/ErrorBase","../events/EventDispatcher":"awayjs-core/lib/events/EventDispatcher","../events/TimerEvent":"awayjs-core/lib/events/TimerEvent"}],"awayjs-core/lib/utils/XmlUtils":[function(t,e,r){"use strict";var i=function(){function t(){}t.getChildrenWithTag=function(t,e){var r=document.createDocumentFragment();if(t){var i=t.childNodes.length;for(var a=0;a<i;a++){var s=t.childNodes[a];if(s!=null){if(s.nodeName==e){r.appendChild(s)}}}}return r.childNodes};t.filterListByParam=function(t,e,r){var i=document.createDocumentFragment();if(t){var a=t.length;for(var s=0;s<a;s++){var n=t[s];if(n!=null){if(n.attributes.getNamedItem(e).value==r){i.appendChild(n)}}}}return i.childNodes};t.strToXml=function(t){var e=new DOMParser;var r=e.parseFromString(t,"text/xml");return r};t.nodeToString=function(t){if(!t)return"";var e=(new XMLSerializer).serializeToString(t);return e};t.readAttributeValue=function(t,e){var r=t.attributes;if(r==undefined){return""}var i=r.getNamedItem(e);if(!i){return""}return i.value};t.writeAttributeValue=function(t,e,r){var i=document.createAttribute(e);i.value=r;i=t.attributes.setNamedItem(i);console.log("XmlUltils - writeAttributeValue() - name: "+i.name+", value: "+i.value)};t.hasAttribute=function(t,e){var r=t.attributes;if(r==undefined){return false}var i=r.getNamedItem(e);return i!=null};return t}();r.XmlUtils=i;Object.defineProperty(r,"__esModule",{value:true});r.default=i},{}],"awayjs-core/lib/utils/getTimer":[function(t,e,r){"use strict";function i(){return Date.now()}r.getTimer=i},{}],"awayjs-core/lib/utils":[function(t,e,r){"use strict";var i=t("./utils/BitmapImageUtils");r.BitmapImageUtils=i.BitmapImageUtils;var a=t("./utils/ByteArray");
r.ByteArray=a.ByteArray;var s=t("./utils/ByteArrayBase");r.ByteArrayBase=s.ByteArrayBase;var n=t("./utils/ByteArrayBuffer");r.ByteArrayBuffer=n.ByteArrayBuffer;var o=t("./utils/ColorUtils");r.ColorUtils=o.ColorUtils;var h=t("./utils/CSS");r.CSS=h.CSS;var u=t("./utils/Debug");r.Debug=u.Debug;var c=t("./utils/Extensions");r.Extensions=c.Extensions;var l=t("./utils/getTimer");r.getTimer=l.getTimer;var p=t("./utils/ImageUtils");r.ImageUtils=p.ImageUtils;var f=t("./utils/MipmapGenerator");r.MipmapGenerator=f.MipmapGenerator;var y=t("./utils/RequestAnimationFrame");r.RequestAnimationFrame=y.RequestAnimationFrame;var d=t("./utils/Timer");r.Timer=d.Timer;var _=t("./utils/XmlUtils");r.XmlUtils=_.XmlUtils},{"./utils/BitmapImageUtils":"awayjs-core/lib/utils/BitmapImageUtils","./utils/ByteArray":"awayjs-core/lib/utils/ByteArray","./utils/ByteArrayBase":"awayjs-core/lib/utils/ByteArrayBase","./utils/ByteArrayBuffer":"awayjs-core/lib/utils/ByteArrayBuffer","./utils/CSS":"awayjs-core/lib/utils/CSS","./utils/ColorUtils":"awayjs-core/lib/utils/ColorUtils","./utils/Debug":"awayjs-core/lib/utils/Debug","./utils/Extensions":"awayjs-core/lib/utils/Extensions","./utils/ImageUtils":"awayjs-core/lib/utils/ImageUtils","./utils/MipmapGenerator":"awayjs-core/lib/utils/MipmapGenerator","./utils/RequestAnimationFrame":"awayjs-core/lib/utils/RequestAnimationFrame","./utils/Timer":"awayjs-core/lib/utils/Timer","./utils/XmlUtils":"awayjs-core/lib/utils/XmlUtils","./utils/getTimer":"awayjs-core/lib/utils/getTimer"}]},{},[1]);
//# sourceMappingURL=awayjs-core.min.js.map
