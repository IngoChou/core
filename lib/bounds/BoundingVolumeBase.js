var Box = require("awayjs-core/lib/geom/Box");
var AbstractMethodError = require("awayjs-core/lib/errors/AbstractMethodError");
var BoundingVolumeBase = (function () {
    function BoundingVolumeBase() {
        this._pAabbPoints = new Array();
        this._pAabbPointsDirty = true;
        this._aabb = new Box();
    }
    Object.defineProperty(BoundingVolumeBase.prototype, "aabb", {
        get: function () {
            return this._aabb;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(BoundingVolumeBase.prototype, "aabbPoints", {
        get: function () {
            if (this._pAabbPointsDirty)
                this.pUpdateAABBPoints();
            return this._pAabbPoints;
        },
        enumerable: true,
        configurable: true
    });
    BoundingVolumeBase.prototype.nullify = function () {
        this._aabb.x = this._aabb.y = this._aabb.z = 0;
        this._aabb.width = this._aabb.height = this._aabb.depth = 0;
        this._pAabbPointsDirty = true;
    };
    BoundingVolumeBase.prototype.fromVertices = function (vertices) {
        var i;
        var len = vertices.length;
        if (len == 0) {
            this.nullify();
            return;
        }
        var v;
        this.minX = this.maxX = vertices[i++];
        this.minY = this.maxY = vertices[i++];
        this.minZ = this.maxZ = vertices[i++];
        while (i < len) {
            v = vertices[i++];
            if (v < this.minX)
                this.minX = v;
            else if (v > this.maxX)
                this.maxX = v;
            v = vertices[i++];
            if (v < this.minY)
                this.minY = v;
            else if (v > this.maxY)
                this.maxY = v;
            v = vertices[i++];
            if (v < this.minZ)
                this.minZ = v;
            else if (v > this.maxZ)
                this.maxZ = v;
        }
        this.fromExtremes(this.minX, this.minY, this.minZ, this.maxX, this.maxY, this.maxZ);
    };
    BoundingVolumeBase.prototype.fromSphere = function (center, radius) {
        this.fromExtremes(center.x - radius, center.y - radius, center.z - radius, center.x + radius, center.y + radius, center.z + radius);
    };
    BoundingVolumeBase.prototype.fromExtremes = function (minX, minY, minZ, maxX, maxY, maxZ) {
        this._aabb.x = minX;
        this._aabb.y = maxY;
        this._aabb.z = minZ;
        this._aabb.width = maxX - minX;
        this._aabb.height = maxY - minY;
        this._aabb.depth = maxZ - minZ;
        this._pAabbPointsDirty = true;
    };
    BoundingVolumeBase.prototype.isInFrustum = function (planes, numPlanes) {
        throw new AbstractMethodError();
    };
    BoundingVolumeBase.prototype.overlaps = function (bounds) {
        return this._aabb.intersects(bounds.aabb);
    };
    BoundingVolumeBase.prototype.clone = function () {
        throw new AbstractMethodError();
    };
    BoundingVolumeBase.prototype.rayIntersection = function (position, direction, targetNormal) {
        return -1;
    };
    BoundingVolumeBase.prototype.containsPoint = function (position) {
        return false;
    };
    BoundingVolumeBase.prototype.pUpdateAABBPoints = function () {
        this.minX = this._aabb.x;
        this.minY = this._aabb.y - this._aabb.height;
        this.minZ = this._aabb.z;
        this.maxX = this._aabb.x + this._aabb.width;
        this.maxY = this._aabb.y;
        this.maxZ = this._aabb.z + this._aabb.depth;
        this._pAabbPoints[0] = this.minX;
        this._pAabbPoints[1] = this.minY;
        this._pAabbPoints[2] = this.minZ;
        this._pAabbPoints[3] = this.maxX;
        this._pAabbPoints[4] = this.minY;
        this._pAabbPoints[5] = this.minZ;
        this._pAabbPoints[6] = this.minX;
        this._pAabbPoints[7] = this.maxY;
        this._pAabbPoints[8] = this.minZ;
        this._pAabbPoints[9] = this.maxX;
        this._pAabbPoints[10] = this.maxY;
        this._pAabbPoints[11] = this.minZ;
        this._pAabbPoints[12] = this.minX;
        this._pAabbPoints[13] = this.minY;
        this._pAabbPoints[14] = this.maxZ;
        this._pAabbPoints[15] = this.maxX;
        this._pAabbPoints[16] = this.minY;
        this._pAabbPoints[17] = this.maxZ;
        this._pAabbPoints[18] = this.minX;
        this._pAabbPoints[19] = this.maxY;
        this._pAabbPoints[20] = this.maxZ;
        this._pAabbPoints[21] = this.maxX;
        this._pAabbPoints[22] = this.maxY;
        this._pAabbPoints[23] = this.maxZ;
        this._pAabbPointsDirty = false;
    };
    BoundingVolumeBase.prototype.classifyToPlane = function (plane) {
        throw new AbstractMethodError();
    };
    BoundingVolumeBase.prototype.transformFrom = function (bounds, matrix) {
        throw new AbstractMethodError();
    };
    return BoundingVolumeBase;
})();
module.exports = BoundingVolumeBase;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1jb3JlL2xpYi9ib3VuZHMvYm91bmRpbmd2b2x1bWViYXNlLnRzIl0sIm5hbWVzIjpbIkJvdW5kaW5nVm9sdW1lQmFzZSIsIkJvdW5kaW5nVm9sdW1lQmFzZS5jb25zdHJ1Y3RvciIsIkJvdW5kaW5nVm9sdW1lQmFzZS5hYWJiIiwiQm91bmRpbmdWb2x1bWVCYXNlLmFhYmJQb2ludHMiLCJCb3VuZGluZ1ZvbHVtZUJhc2UubnVsbGlmeSIsIkJvdW5kaW5nVm9sdW1lQmFzZS5mcm9tVmVydGljZXMiLCJCb3VuZGluZ1ZvbHVtZUJhc2UuZnJvbVNwaGVyZSIsIkJvdW5kaW5nVm9sdW1lQmFzZS5mcm9tRXh0cmVtZXMiLCJCb3VuZGluZ1ZvbHVtZUJhc2UuaXNJbkZydXN0dW0iLCJCb3VuZGluZ1ZvbHVtZUJhc2Uub3ZlcmxhcHMiLCJCb3VuZGluZ1ZvbHVtZUJhc2UuY2xvbmUiLCJCb3VuZGluZ1ZvbHVtZUJhc2UucmF5SW50ZXJzZWN0aW9uIiwiQm91bmRpbmdWb2x1bWVCYXNlLmNvbnRhaW5zUG9pbnQiLCJCb3VuZGluZ1ZvbHVtZUJhc2UucFVwZGF0ZUFBQkJQb2ludHMiLCJCb3VuZGluZ1ZvbHVtZUJhc2UuY2xhc3NpZnlUb1BsYW5lIiwiQm91bmRpbmdWb2x1bWVCYXNlLnRyYW5zZm9ybUZyb20iXSwibWFwcGluZ3MiOiJBQUFBLElBQU8sR0FBRyxXQUFpQiwwQkFBMEIsQ0FBQyxDQUFDO0FBSXZELElBQU8sbUJBQW1CLFdBQWEsNENBQTRDLENBQUMsQ0FBQztBQUVyRixJQUFNLGtCQUFrQjtJQWF2QkEsU0FiS0Esa0JBQWtCQTtRQUdoQkMsaUJBQVlBLEdBQWlCQSxJQUFJQSxLQUFLQSxFQUFVQSxDQUFDQTtRQUNqREEsc0JBQWlCQSxHQUFXQSxJQUFJQSxDQUFDQTtRQVd2Q0EsSUFBSUEsQ0FBQ0EsS0FBS0EsR0FBR0EsSUFBSUEsR0FBR0EsRUFBRUEsQ0FBQ0E7SUFDeEJBLENBQUNBO0lBRURELHNCQUFXQSxvQ0FBSUE7YUFBZkE7WUFFQ0UsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7UUFDbkJBLENBQUNBOzs7T0FBQUY7SUFFREEsc0JBQVdBLDBDQUFVQTthQUFyQkE7WUFFQ0csRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQTtnQkFDMUJBLElBQUlBLENBQUNBLGlCQUFpQkEsRUFBRUEsQ0FBQ0E7WUFFMUJBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBO1FBQzFCQSxDQUFDQTs7O09BQUFIO0lBRU1BLG9DQUFPQSxHQUFkQTtRQUVDSSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUMvQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsS0FBS0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDNURBLElBQUlBLENBQUNBLGlCQUFpQkEsR0FBR0EsSUFBSUEsQ0FBQ0E7SUFDL0JBLENBQUNBO0lBRU1KLHlDQUFZQSxHQUFuQkEsVUFBb0JBLFFBQXNCQTtRQUV6Q0ssSUFBSUEsQ0FBUUEsQ0FBQ0E7UUFDYkEsSUFBSUEsR0FBR0EsR0FBVUEsUUFBUUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7UUFFakNBLEVBQUVBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBQ2RBLElBQUlBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1lBQ2ZBLE1BQU1BLENBQUNBO1FBQ1JBLENBQUNBO1FBRURBLElBQUlBLENBQVFBLENBQUNBO1FBRWJBLElBQUlBLENBQUNBLElBQUlBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLEdBQUdBLFFBQVFBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1FBQ3RDQSxJQUFJQSxDQUFDQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxHQUFHQSxRQUFRQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQTtRQUN0Q0EsSUFBSUEsQ0FBQ0EsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsR0FBR0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7UUFFdENBLE9BQU9BLENBQUNBLEdBQUdBLEdBQUdBLEVBQUVBLENBQUNBO1lBQ2hCQSxDQUFDQSxHQUFHQSxRQUFRQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUNsQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7Z0JBQ2pCQSxJQUFJQSxDQUFDQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQTtZQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQTtnQkFDdENBLElBQUlBLENBQUNBLElBQUlBLEdBQUdBLENBQUNBLENBQUNBO1lBQ2ZBLENBQUNBLEdBQUdBLFFBQVFBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1lBQ2xCQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQTtnQkFDakJBLElBQUlBLENBQUNBLElBQUlBLEdBQUdBLENBQUNBLENBQUNBO1lBQUNBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLENBQUNBO2dCQUN0Q0EsSUFBSUEsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7WUFDZkEsQ0FBQ0EsR0FBR0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDbEJBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLElB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QSxHQUFHQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxNQUFNQSxDQUFDQTtRQUM3Q0EsSUFBSUEsQ0FBQ0EsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDekJBLElBQUlBLENBQUNBLElBQUlBLEdBQUdBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLEtBQUtBLENBQUNBO1FBQzVDQSxJQUFJQSxDQUFDQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUN6QkEsSUFBSUEsQ0FBQ0EsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsS0FBS0EsQ0FBQ0E7UUFFNUNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLENBQUNBO1FBQ2pDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQTtRQUNqQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFDakNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLENBQUNBO1FBQ2pDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQTtRQUNqQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFDakNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLENBQUNBO1FBQ2pDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQTtRQUNqQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFDakNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLENBQUNBO1FBQ2pDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQTtRQUNsQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFDbENBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLENBQUNBO1FBQ2xDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQTtRQUNsQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFDbENBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLENBQUNBO1FBQ2xDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQTtRQUNsQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFDbENBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLENBQUNBO1FBQ2xDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQTtRQUNsQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFDbENBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLENBQUNBO1FBQ2xDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQTtRQUNsQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFDbENBLElBQUlBLENBQUNBLGlCQUFpQkEsR0FBR0EsS0FBS0EsQ0FBQ0E7SUFDaENBLENBQUNBO0lBRU1iLDRDQUFlQSxHQUF0QkEsVUFBdUJBLEtBQWFBO1FBRW5DYyxNQUFNQSxJQUFJQSxtQkFBbUJBLEVBQUVBLENBQUNBO0lBQ2pDQSxDQUFDQTtJQUVNZCwwQ0FBYUEsR0FBcEJBLFVBQXFCQSxNQUF5QkEsRUFBRUEsTUFBZUE7UUFFOURlLE1BQU1BLElBQUlBLG1CQUFtQkEsRUFBRUEsQ0FBQ0E7SUFDakNBLENBQUNBO0lBQ0ZmLHlCQUFDQTtBQUFEQSxDQTlKQSxBQThKQ0EsSUFBQTtBQUVELEFBQTRCLGlCQUFuQixrQkFBa0IsQ0FBQyIsImZpbGUiOiJib3VuZHMvQm91bmRpbmdWb2x1bWVCYXNlLmpzIiwic291cmNlUm9vdCI6Ii4uLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCb3hcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9nZW9tL0JveFwiKTtcbmltcG9ydCBNYXRyaXgzRFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9nZW9tL01hdHJpeDNEXCIpO1xuaW1wb3J0IFBsYW5lM0RcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9QbGFuZTNEXCIpO1xuaW1wb3J0IFZlY3RvcjNEXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vVmVjdG9yM0RcIik7XG5pbXBvcnQgQWJzdHJhY3RNZXRob2RFcnJvclx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9lcnJvcnMvQWJzdHJhY3RNZXRob2RFcnJvclwiKTtcblxuY2xhc3MgQm91bmRpbmdWb2x1bWVCYXNlXG57XG5cdHB1YmxpYyBfYWFiYjpCb3g7XG5cdHB1YmxpYyBfcEFhYmJQb2ludHM6QXJyYXk8bnVtYmVyPiA9IG5ldyBBcnJheTxudW1iZXI+KCk7XG5cdHB1YmxpYyBfcEFhYmJQb2ludHNEaXJ0eTpib29sZWFuID0gdHJ1ZTtcblxuXHRwdWJsaWMgbWluWDpudW1iZXI7XG5cdHB1YmxpYyBtaW5ZOm51bWJlcjtcblx0cHVibGljIG1pblo6bnVtYmVyO1xuXHRwdWJsaWMgbWF4WDpudW1iZXI7XG5cdHB1YmxpYyBtYXhZOm51bWJlcjtcblx0cHVibGljIG1heFo6bnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKClcblx0e1xuXHRcdHRoaXMuX2FhYmIgPSBuZXcgQm94KCk7XG5cdH1cblxuXHRwdWJsaWMgZ2V0IGFhYmIoKTpCb3hcblx0e1xuXHRcdHJldHVybiB0aGlzLl9hYWJiO1xuXHR9XG5cblx0cHVibGljIGdldCBhYWJiUG9pbnRzKCk6QXJyYXk8bnVtYmVyPlxuXHR7XG5cdFx0aWYgKHRoaXMuX3BBYWJiUG9pbnRzRGlydHkpXG5cdFx0XHR0aGlzLnBVcGRhdGVBQUJCUG9pbnRzKCk7XG5cblx0XHRyZXR1cm4gdGhpcy5fcEFhYmJQb2ludHM7XG5cdH1cblxuXHRwdWJsaWMgbnVsbGlmeSgpXG5cdHtcblx0XHR0aGlzLl9hYWJiLnggPSB0aGlzLl9hYWJiLnkgPSB0aGlzLl9hYWJiLnogPSAwO1xuXHRcdHRoaXMuX2FhYmIud2lkdGggPSB0aGlzLl9hYWJiLmhlaWdodCA9IHRoaXMuX2FhYmIuZGVwdGggPSAwO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzRGlydHkgPSB0cnVlO1xuXHR9XG5cblx0cHVibGljIGZyb21WZXJ0aWNlcyh2ZXJ0aWNlczpBcnJheTxudW1iZXI+KVxuXHR7XG5cdFx0dmFyIGk6bnVtYmVyO1xuXHRcdHZhciBsZW46bnVtYmVyID0gdmVydGljZXMubGVuZ3RoO1xuXG5cdFx0aWYgKGxlbiA9PSAwKSB7XG5cdFx0XHR0aGlzLm51bGxpZnkoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgdjpudW1iZXI7XG5cblx0XHR0aGlzLm1pblggPSB0aGlzLm1heFggPSB2ZXJ0aWNlc1tpKytdO1xuXHRcdHRoaXMubWluWSA9IHRoaXMubWF4WSA9IHZlcnRpY2VzW2krK107XG5cdFx0dGhpcy5taW5aID0gdGhpcy5tYXhaID0gdmVydGljZXNbaSsrXTtcblxuXHRcdHdoaWxlIChpIDwgbGVuKSB7XG5cdFx0XHR2ID0gdmVydGljZXNbaSsrXTtcblx0XHRcdGlmICh2IDwgdGhpcy5taW5YKVxuXHRcdFx0XHR0aGlzLm1pblggPSB2OyBlbHNlIGlmICh2ID4gdGhpcy5tYXhYKVxuXHRcdFx0XHR0aGlzLm1heFggPSB2O1xuXHRcdFx0diA9IHZlcnRpY2VzW2krK107XG5cdFx0XHRpZiAodiA8IHRoaXMubWluWSlcblx0XHRcdFx0dGhpcy5taW5ZID0gdjsgZWxzZSBpZiAodiA+IHRoaXMubWF4WSlcblx0XHRcdFx0dGhpcy5tYXhZID0gdjtcblx0XHRcdHYgPSB2ZXJ0aWNlc1tpKytdO1xuXHRcdFx0aWYgKHYgPCB0aGlzLm1pblopXG5cdFx0XHRcdHRoaXMubWluWiA9IHY7IGVsc2UgaWYgKHYgPiB0aGlzLm1heFopXG5cdFx0XHRcdHRoaXMubWF4WiA9IHY7XG5cdFx0fVxuXG5cdFx0dGhpcy5mcm9tRXh0cmVtZXModGhpcy5taW5YLCB0aGlzLm1pblksIHRoaXMubWluWiwgdGhpcy5tYXhYLCB0aGlzLm1heFksIHRoaXMubWF4Wik7XG5cdH1cblxuXHRwdWJsaWMgZnJvbVNwaGVyZShjZW50ZXI6VmVjdG9yM0QsIHJhZGl1czpudW1iZXIpXG5cdHtcblx0XHR0aGlzLmZyb21FeHRyZW1lcyhjZW50ZXIueCAtIHJhZGl1cywgY2VudGVyLnkgLSByYWRpdXMsIGNlbnRlci56IC0gcmFkaXVzLCBjZW50ZXIueCArIHJhZGl1cywgY2VudGVyLnkgKyByYWRpdXMsIGNlbnRlci56ICsgcmFkaXVzKTtcblx0fVxuXG5cdHB1YmxpYyBmcm9tRXh0cmVtZXMobWluWDpudW1iZXIsIG1pblk6bnVtYmVyLCBtaW5aOm51bWJlciwgbWF4WDpudW1iZXIsIG1heFk6bnVtYmVyLCBtYXhaOm51bWJlcilcblx0e1xuXHRcdHRoaXMuX2FhYmIueCA9IG1pblg7XG5cdFx0dGhpcy5fYWFiYi55ID0gbWF4WTtcblx0XHR0aGlzLl9hYWJiLnogPSBtaW5aO1xuXHRcdHRoaXMuX2FhYmIud2lkdGggPSBtYXhYIC0gbWluWDtcblx0XHR0aGlzLl9hYWJiLmhlaWdodCA9IG1heFkgLSBtaW5ZO1xuXHRcdHRoaXMuX2FhYmIuZGVwdGggPSBtYXhaIC0gbWluWjtcblx0XHR0aGlzLl9wQWFiYlBvaW50c0RpcnR5ID0gdHJ1ZTtcblx0fVxuXG5cdHB1YmxpYyBpc0luRnJ1c3R1bShwbGFuZXM6QXJyYXk8UGxhbmUzRD4sIG51bVBsYW5lczpudW1iZXIpOmJvb2xlYW5cblx0e1xuXHRcdHRocm93IG5ldyBBYnN0cmFjdE1ldGhvZEVycm9yKCk7XG5cdH1cblxuXHRwdWJsaWMgb3ZlcmxhcHMoYm91bmRzOkJvdW5kaW5nVm9sdW1lQmFzZSk6Ym9vbGVhblxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX2FhYmIuaW50ZXJzZWN0cyhib3VuZHMuYWFiYik7XG5cdH1cblxuXHRwdWJsaWMgY2xvbmUoKTpCb3VuZGluZ1ZvbHVtZUJhc2Vcblx0e1xuXHRcdHRocm93IG5ldyBBYnN0cmFjdE1ldGhvZEVycm9yKCk7XG5cdH1cblxuXHRwdWJsaWMgcmF5SW50ZXJzZWN0aW9uKHBvc2l0aW9uOlZlY3RvcjNELCBkaXJlY3Rpb246VmVjdG9yM0QsIHRhcmdldE5vcm1hbDpWZWN0b3IzRCk6bnVtYmVyXG5cdHtcblx0XHRyZXR1cm4gLTE7XG5cdH1cblxuXHRwdWJsaWMgY29udGFpbnNQb2ludChwb3NpdGlvbjpWZWN0b3IzRCk6Ym9vbGVhblxuXHR7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cHVibGljIHBVcGRhdGVBQUJCUG9pbnRzKClcblx0e1xuXHRcdHRoaXMubWluWCA9IHRoaXMuX2FhYmIueDtcblx0XHR0aGlzLm1pblkgPSB0aGlzLl9hYWJiLnkgLSB0aGlzLl9hYWJiLmhlaWdodDtcblx0XHR0aGlzLm1pblogPSB0aGlzLl9hYWJiLno7XG5cdFx0dGhpcy5tYXhYID0gdGhpcy5fYWFiYi54ICsgdGhpcy5fYWFiYi53aWR0aDtcblx0XHR0aGlzLm1heFkgPSB0aGlzLl9hYWJiLnk7XG5cdFx0dGhpcy5tYXhaID0gdGhpcy5fYWFiYi56ICsgdGhpcy5fYWFiYi5kZXB0aDtcblxuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzBdID0gdGhpcy5taW5YO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzFdID0gdGhpcy5taW5ZO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzJdID0gdGhpcy5taW5aO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzNdID0gdGhpcy5tYXhYO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzRdID0gdGhpcy5taW5ZO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzVdID0gdGhpcy5taW5aO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzZdID0gdGhpcy5taW5YO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzddID0gdGhpcy5tYXhZO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzhdID0gdGhpcy5taW5aO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzldID0gdGhpcy5tYXhYO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzEwXSA9IHRoaXMubWF4WTtcblx0XHR0aGlzLl9wQWFiYlBvaW50c1sxMV0gPSB0aGlzLm1pblo7XG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbMTJdID0gdGhpcy5taW5YO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzEzXSA9IHRoaXMubWluWTtcblx0XHR0aGlzLl9wQWFiYlBvaW50c1sxNF0gPSB0aGlzLm1heFo7XG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbMTVdID0gdGhpcy5tYXhYO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzE2XSA9IHRoaXMubWluWTtcblx0XHR0aGlzLl9wQWFiYlBvaW50c1sxN10gPSB0aGlzLm1heFo7XG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbMThdID0gdGhpcy5taW5YO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzE5XSA9IHRoaXMubWF4WTtcblx0XHR0aGlzLl9wQWFiYlBvaW50c1syMF0gPSB0aGlzLm1heFo7XG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbMjFdID0gdGhpcy5tYXhYO1xuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzIyXSA9IHRoaXMubWF4WTtcblx0XHR0aGlzLl9wQWFiYlBvaW50c1syM10gPSB0aGlzLm1heFo7XG5cdFx0dGhpcy5fcEFhYmJQb2ludHNEaXJ0eSA9IGZhbHNlO1xuXHR9XG5cblx0cHVibGljIGNsYXNzaWZ5VG9QbGFuZShwbGFuZTpQbGFuZTNEKTpudW1iZXJcblx0e1xuXHRcdHRocm93IG5ldyBBYnN0cmFjdE1ldGhvZEVycm9yKCk7XG5cdH1cblxuXHRwdWJsaWMgdHJhbnNmb3JtRnJvbShib3VuZHM6Qm91bmRpbmdWb2x1bWVCYXNlLCBtYXRyaXg6TWF0cml4M0QpXG5cdHtcblx0XHR0aHJvdyBuZXcgQWJzdHJhY3RNZXRob2RFcnJvcigpO1xuXHR9XG59XG5cbmV4cG9ydCA9IEJvdW5kaW5nVm9sdW1lQmFzZTsiXX0=