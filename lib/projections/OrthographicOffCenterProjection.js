var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var Vector3D = require("awayjs-core/lib/geom/Vector3D");
var ProjectionBase = require("awayjs-core/lib/projections/ProjectionBase");
var OrthographicOffCenterProjection = (function (_super) {
    __extends(OrthographicOffCenterProjection, _super);
    function OrthographicOffCenterProjection(minX, maxX, minY, maxY) {
        _super.call(this);
        this._minX = minX;
        this._maxX = maxX;
        this._minY = minY;
        this._maxY = maxY;
    }
    Object.defineProperty(OrthographicOffCenterProjection.prototype, "minX", {
        get: function () {
            return this._minX;
        },
        set: function (value) {
            this._minX = value;
            this.pInvalidateMatrix();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(OrthographicOffCenterProjection.prototype, "maxX", {
        get: function () {
            return this._maxX;
        },
        set: function (value) {
            this._maxX = value;
            this.pInvalidateMatrix();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(OrthographicOffCenterProjection.prototype, "minY", {
        get: function () {
            return this._minY;
        },
        set: function (value) {
            this._minY = value;
            this.pInvalidateMatrix();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(OrthographicOffCenterProjection.prototype, "maxY", {
        get: function () {
            return this._maxY;
        },
        set: function (value) {
            this._maxY = value;
            this.pInvalidateMatrix();
        },
        enumerable: true,
        configurable: true
    });
    //@override
    OrthographicOffCenterProjection.prototype.unproject = function (nX, nY, sZ) {
        var v = new Vector3D(nX, -nY, sZ, 1.0);
        v = this.unprojectionMatrix.transformVector(v);
        //z is unaffected by transform
        v.z = sZ;
        return v;
    };
    //@override
    OrthographicOffCenterProjection.prototype.clone = function () {
        var clone = new OrthographicOffCenterProjection(this._minX, this._maxX, this._minY, this._maxY);
        clone._pNear = this._pNear;
        clone._pFar = this._pFar;
        clone._pAspectRatio = this._pAspectRatio;
        return clone;
    };
    //@override
    OrthographicOffCenterProjection.prototype.pUpdateMatrix = function () {
        var raw = [];
        var w = 1 / (this._maxX - this._minX);
        var h = 1 / (this._maxY - this._minY);
        var d = 1 / (this._pFar - this._pNear);
        raw[0] = 2 * w;
        raw[5] = 2 * h;
        raw[10] = d;
        raw[12] = -(this._maxX + this._minX) * w;
        raw[13] = -(this._maxY + this._minY) * h;
        raw[14] = -this._pNear * d;
        raw[15] = 1;
        raw[1] = raw[2] = raw[3] = raw[4] = raw[6] = raw[7] = raw[8] = raw[9] = raw[11] = 0;
        this._pMatrix.copyRawDataFrom(raw);
        this._pFrustumCorners[0] = this._pFrustumCorners[9] = this._pFrustumCorners[12] = this._pFrustumCorners[21] = this._minX;
        this._pFrustumCorners[3] = this._pFrustumCorners[6] = this._pFrustumCorners[15] = this._pFrustumCorners[18] = this._maxX;
        this._pFrustumCorners[1] = this._pFrustumCorners[4] = this._pFrustumCorners[13] = this._pFrustumCorners[16] = this._minY;
        this._pFrustumCorners[7] = this._pFrustumCorners[10] = this._pFrustumCorners[19] = this._pFrustumCorners[22] = this._maxY;
        this._pFrustumCorners[2] = this._pFrustumCorners[5] = this._pFrustumCorners[8] = this._pFrustumCorners[11] = this._pNear;
        this._pFrustumCorners[14] = this._pFrustumCorners[17] = this._pFrustumCorners[20] = this._pFrustumCorners[23] = this._pFar;
        this._pMatrixInvalid = false;
    };
    return OrthographicOffCenterProjection;
})(ProjectionBase);
module.exports = OrthographicOffCenterProjection;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1jb3JlL2xpYi9wcm9qZWN0aW9ucy9PcnRob2dyYXBoaWNPZmZDZW50ZXJQcm9qZWN0aW9uLnRzIl0sIm5hbWVzIjpbIk9ydGhvZ3JhcGhpY09mZkNlbnRlclByb2plY3Rpb24iLCJPcnRob2dyYXBoaWNPZmZDZW50ZXJQcm9qZWN0aW9uLmNvbnN0cnVjdG9yIiwiT3J0aG9ncmFwaGljT2ZmQ2VudGVyUHJvamVjdGlvbi5taW5YIiwiT3J0aG9ncmFwaGljT2ZmQ2VudGVyUHJvamVjdGlvbi5tYXhYIiwiT3J0aG9ncmFwaGljT2ZmQ2VudGVyUHJvamVjdGlvbi5taW5ZIiwiT3J0aG9ncmFwaGljT2ZmQ2VudGVyUHJvamVjdGlvbi5tYXhZIiwiT3J0aG9ncmFwaGljT2ZmQ2VudGVyUHJvamVjdGlvbi51bnByb2plY3QiLCJPcnRob2dyYXBoaWNPZmZDZW50ZXJQcm9qZWN0aW9uLmNsb25lIiwiT3J0aG9ncmFwaGljT2ZmQ2VudGVyUHJvamVjdGlvbi5wVXBkYXRlTWF0cml4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFPLFFBQVEsV0FBZSwrQkFBK0IsQ0FBQyxDQUFDO0FBQy9ELElBQU8sY0FBYyxXQUFhLDRDQUE0QyxDQUFDLENBQUM7QUFFaEYsSUFBTSwrQkFBK0I7SUFBU0EsVUFBeENBLCtCQUErQkEsVUFBdUJBO0lBUTNEQSxTQVJLQSwrQkFBK0JBLENBUXhCQSxJQUFXQSxFQUFFQSxJQUFXQSxFQUFFQSxJQUFXQSxFQUFFQSxJQUFXQTtRQUU3REMsaUJBQU9BLENBQUNBO1FBQ1JBLElBQUlBLENBQUNBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBO1FBQ2xCQSxJQUFJQSxDQUFDQSxLQUFLQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUNsQkEsSUFBSUEsQ0FBQ0EsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDbEJBLElBQUlBLENBQUNBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBO0lBQ25CQSxDQUFDQTtJQUVERCxzQkFBV0EsaURBQUlB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LElBQUlBLENBQUNBLEdBQVVBLENBQUNBLEdBQUNBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO1FBRTVDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxDQUFDQTtRQUNiQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxDQUFDQTtRQUNiQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNaQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxHQUFHQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxHQUFDQSxDQUFDQSxDQUFDQTtRQUN2Q0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDdkNBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLEdBQUNBLENBQUNBLENBQUNBO1FBQ3pCQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNaQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNwRkEsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFFbkNBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7UUFDekhBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7UUFDekhBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7UUFDekhBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7UUFDMUhBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7UUFDekhBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7UUFFM0hBLElBQUlBLENBQUNBLGVBQWVBLEdBQUdBLEtBQUtBLENBQUNBO0lBQzlCQSxDQUFDQTtJQUNGUixzQ0FBQ0E7QUFBREEsQ0E3R0EsQUE2R0NBLEVBN0c2QyxjQUFjLEVBNkczRDtBQUVELEFBQXlDLGlCQUFoQywrQkFBK0IsQ0FBQyIsImZpbGUiOiJwcm9qZWN0aW9ucy9PcnRob2dyYXBoaWNPZmZDZW50ZXJQcm9qZWN0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4uLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWZWN0b3IzRFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9WZWN0b3IzRFwiKTtcbmltcG9ydCBQcm9qZWN0aW9uQmFzZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9wcm9qZWN0aW9ucy9Qcm9qZWN0aW9uQmFzZVwiKTtcblxuY2xhc3MgT3J0aG9ncmFwaGljT2ZmQ2VudGVyUHJvamVjdGlvbiBleHRlbmRzIFByb2plY3Rpb25CYXNlXG57XG5cblx0cHJpdmF0ZSBfbWluWDpudW1iZXI7XG5cdHByaXZhdGUgX21heFg6bnVtYmVyO1xuXHRwcml2YXRlIF9taW5ZOm51bWJlcjtcblx0cHJpdmF0ZSBfbWF4WTpudW1iZXI7XG5cblx0Y29uc3RydWN0b3IobWluWDpudW1iZXIsIG1heFg6bnVtYmVyLCBtaW5ZOm51bWJlciwgbWF4WTpudW1iZXIpXG5cdHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuX21pblggPSBtaW5YO1xuXHRcdHRoaXMuX21heFggPSBtYXhYO1xuXHRcdHRoaXMuX21pblkgPSBtaW5ZO1xuXHRcdHRoaXMuX21heFkgPSBtYXhZO1xuXHR9XG5cblx0cHVibGljIGdldCBtaW5YKCk6bnVtYmVyXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fbWluWDtcblx0fVxuXG5cdHB1YmxpYyBzZXQgbWluWCh2YWx1ZTpudW1iZXIpXG5cdHtcblx0XHR0aGlzLl9taW5YID0gdmFsdWU7XG5cdFx0dGhpcy5wSW52YWxpZGF0ZU1hdHJpeCgpO1xuXHR9XG5cblx0cHVibGljIGdldCBtYXhYKCk6bnVtYmVyXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fbWF4WDtcblx0fVxuXG5cdHB1YmxpYyBzZXQgbWF4WCh2YWx1ZTpudW1iZXIpXG5cdHtcblx0XHR0aGlzLl9tYXhYID0gdmFsdWU7XG5cdFx0dGhpcy5wSW52YWxpZGF0ZU1hdHJpeCgpO1xuXHR9XG5cblx0cHVibGljIGdldCBtaW5ZKCk6bnVtYmVyXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fbWluWTtcblx0fVxuXG5cdHB1YmxpYyBzZXQgbWluWSh2YWx1ZTpudW1iZXIpXG5cdHtcblx0XHR0aGlzLl9taW5ZID0gdmFsdWU7XG5cdFx0dGhpcy5wSW52YWxpZGF0ZU1hdHJpeCgpO1xuXHR9XG5cblx0cHVibGljIGdldCBtYXhZKCk6bnVtYmVyXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fbWF4WTtcblx0fVxuXG5cdHB1YmxpYyBzZXQgbWF4WSh2YWx1ZTpudW1iZXIpXG5cdHtcblx0XHR0aGlzLl9tYXhZID0gdmFsdWU7XG5cdFx0dGhpcy5wSW52YWxpZGF0ZU1hdHJpeCgpO1xuXHR9XG5cblx0Ly9Ab3ZlcnJpZGVcblx0cHVibGljIHVucHJvamVjdChuWDpudW1iZXIsIG5ZOm51bWJlciwgc1o6bnVtYmVyKTpWZWN0b3IzRFxuXHR7XG5cdFx0dmFyIHY6VmVjdG9yM0QgPSBuZXcgVmVjdG9yM0QoblgsIC1uWSwgc1osIDEuMCk7XG5cdFx0diA9IHRoaXMudW5wcm9qZWN0aW9uTWF0cml4LnRyYW5zZm9ybVZlY3Rvcih2KTtcblx0XHQvL3ogaXMgdW5hZmZlY3RlZCBieSB0cmFuc2Zvcm1cblx0XHR2LnogPSBzWjtcblxuXHRcdHJldHVybiB2O1xuXHR9XG5cblx0Ly9Ab3ZlcnJpZGVcblx0cHVibGljIGNsb25lKCk6UHJvamVjdGlvbkJhc2Vcblx0e1xuXHRcdHZhciBjbG9uZTpPcnRob2dyYXBoaWNPZmZDZW50ZXJQcm9qZWN0aW9uID0gbmV3IE9ydGhvZ3JhcGhpY09mZkNlbnRlclByb2plY3Rpb24odGhpcy5fbWluWCwgdGhpcy5fbWF4WCwgdGhpcy5fbWluWSwgdGhpcy5fbWF4WSk7XG5cdFx0Y2xvbmUuX3BOZWFyID0gdGhpcy5fcE5lYXI7XG5cdFx0Y2xvbmUuX3BGYXIgPSB0aGlzLl9wRmFyO1xuXHRcdGNsb25lLl9wQXNwZWN0UmF0aW8gPSB0aGlzLl9wQXNwZWN0UmF0aW87XG5cdFx0cmV0dXJuIGNsb25lO1xuXHR9XG5cblx0Ly9Ab3ZlcnJpZGVcblx0cHVibGljIHBVcGRhdGVNYXRyaXgoKVxuXHR7XG5cdFx0dmFyIHJhdzpudW1iZXJbXSA9IFtdO1xuXHRcdHZhciB3Om51bWJlciA9IDEvKHRoaXMuX21heFggLSB0aGlzLl9taW5YKTtcblx0XHR2YXIgaDpudW1iZXIgPSAxLyh0aGlzLl9tYXhZIC0gdGhpcy5fbWluWSk7XG5cdFx0dmFyIGQ6bnVtYmVyID0gMS8odGhpcy5fcEZhciAtIHRoaXMuX3BOZWFyKTtcblxuXHRcdHJhd1swXSA9IDIqdztcblx0XHRyYXdbNV0gPSAyKmg7XG5cdFx0cmF3WzEwXSA9IGQ7XG5cdFx0cmF3WzEyXSA9IC0odGhpcy5fbWF4WCArIHRoaXMuX21pblgpKnc7XG5cdFx0cmF3WzEzXSA9IC0odGhpcy5fbWF4WSArIHRoaXMuX21pblkpKmg7XG5cdFx0cmF3WzE0XSA9IC10aGlzLl9wTmVhcipkO1xuXHRcdHJhd1sxNV0gPSAxO1xuXHRcdHJhd1sxXSA9IHJhd1syXSA9IHJhd1szXSA9IHJhd1s0XSA9IHJhd1s2XSA9IHJhd1s3XSA9IHJhd1s4XSA9IHJhd1s5XSA9IHJhd1sxMV0gPSAwO1xuXHRcdHRoaXMuX3BNYXRyaXguY29weVJhd0RhdGFGcm9tKHJhdyk7XG5cblx0XHR0aGlzLl9wRnJ1c3R1bUNvcm5lcnNbMF0gPSB0aGlzLl9wRnJ1c3R1bUNvcm5lcnNbOV0gPSB0aGlzLl9wRnJ1c3R1bUNvcm5lcnNbMTJdID0gdGhpcy5fcEZydXN0dW1Db3JuZXJzWzIxXSA9IHRoaXMuX21pblg7XG5cdFx0dGhpcy5fcEZydXN0dW1Db3JuZXJzWzNdID0gdGhpcy5fcEZydXN0dW1Db3JuZXJzWzZdID0gdGhpcy5fcEZydXN0dW1Db3JuZXJzWzE1XSA9IHRoaXMuX3BGcnVzdHVtQ29ybmVyc1sxOF0gPSB0aGlzLl9tYXhYO1xuXHRcdHRoaXMuX3BGcnVzdHVtQ29ybmVyc1sxXSA9IHRoaXMuX3BGcnVzdHVtQ29ybmVyc1s0XSA9IHRoaXMuX3BGcnVzdHVtQ29ybmVyc1sxM10gPSB0aGlzLl9wRnJ1c3R1bUNvcm5lcnNbMTZdID0gdGhpcy5fbWluWTtcblx0XHR0aGlzLl9wRnJ1c3R1bUNvcm5lcnNbN10gPSB0aGlzLl9wRnJ1c3R1bUNvcm5lcnNbMTBdID0gdGhpcy5fcEZydXN0dW1Db3JuZXJzWzE5XSA9IHRoaXMuX3BGcnVzdHVtQ29ybmVyc1syMl0gPSB0aGlzLl9tYXhZO1xuXHRcdHRoaXMuX3BGcnVzdHVtQ29ybmVyc1syXSA9IHRoaXMuX3BGcnVzdHVtQ29ybmVyc1s1XSA9IHRoaXMuX3BGcnVzdHVtQ29ybmVyc1s4XSA9IHRoaXMuX3BGcnVzdHVtQ29ybmVyc1sxMV0gPSB0aGlzLl9wTmVhcjtcblx0XHR0aGlzLl9wRnJ1c3R1bUNvcm5lcnNbMTRdID0gdGhpcy5fcEZydXN0dW1Db3JuZXJzWzE3XSA9IHRoaXMuX3BGcnVzdHVtQ29ybmVyc1syMF0gPSB0aGlzLl9wRnJ1c3R1bUNvcm5lcnNbMjNdID0gdGhpcy5fcEZhcjtcblxuXHRcdHRoaXMuX3BNYXRyaXhJbnZhbGlkID0gZmFsc2U7XG5cdH1cbn1cblxuZXhwb3J0ID0gT3J0aG9ncmFwaGljT2ZmQ2VudGVyUHJvamVjdGlvbjsiXX0=