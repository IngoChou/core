var Matrix3DUtils = require("awayjs-core/lib/geom/Matrix3DUtils");
var Orientation3D = require("awayjs-core/lib/geom/Orientation3D");
var Matrix3D = require("awayjs-core/lib/geom/Matrix3D");
var Vector3D = require("awayjs-core/lib/geom/Vector3D");
/**
 * A Quaternion object which can be used to represent rotations.
 */
var Quaternion = (function () {
    /**
     * Creates a new Quaternion object.
     * @param x The x value of the quaternion.
     * @param y The y value of the quaternion.
     * @param z The z value of the quaternion.
     * @param w The w value of the quaternion.
     */
    function Quaternion(x, y, z, w) {
        if (x === void 0) { x = 0; }
        if (y === void 0) { y = 0; }
        if (z === void 0) { z = 0; }
        if (w === void 0) { w = 1; }
        /**
         * The x value of the quaternion.
         */
        this.x = 0;
        /**
         * The y value of the quaternion.
         */
        this.y = 0;
        /**
         * The z value of the quaternion.
         */
        this.z = 0;
        /**
         * The w value of the quaternion.
         */
        this.w = 1;
        this.x = x;
        this.y = y;
        this.z = z;
        this.w = w;
    }
    Object.defineProperty(Quaternion.prototype, "magnitude", {
        /**
         * Returns the magnitude of the quaternion object.
         */
        get: function () {
            return Math.sqrt(this.w * this.w + this.x * this.x + this.y * this.y + this.z * this.z);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Fills the quaternion object with the result from a multiplication of two quaternion objects.
     *
     * @param    qa    The first quaternion in the multiplication.
     * @param    qb    The second quaternion in the multiplication.
     */
    Quaternion.prototype.multiply = function (qa, qb) {
        var w1 = qa.w, x1 = qa.x, y1 = qa.y, z1 = qa.z;
        var w2 = qb.w, x2 = qb.x, y2 = qb.y, z2 = qb.z;
        this.w = w1 * w2 - x1 * x2 - y1 * y2 - z1 * z2;
        this.x = w1 * x2 + x1 * w2 + y1 * z2 - z1 * y2;
        this.y = w1 * y2 - x1 * z2 + y1 * w2 + z1 * x2;
        this.z = w1 * z2 + x1 * y2 - y1 * x2 + z1 * w2;
    };
    Quaternion.prototype.multiplyVector = function (vector, target) {
        if (target === void 0) { target = null; }
        //target ||= new Quaternion();
        if (target === null) {
            target = new Quaternion();
        }
        var x2 = vector.x;
        var y2 = vector.y;
        var z2 = vector.z;
        target.w = -this.x * x2 - this.y * y2 - this.z * z2;
        target.x = this.w * x2 + this.y * z2 - this.z * y2;
        target.y = this.w * y2 - this.x * z2 + this.z * x2;
        target.z = this.w * z2 + this.x * y2 - this.y * x2;
        return target;
    };
    /**
     * Fills the quaternion object with values representing the given rotation around a vector.
     *
     * @param    axis    The axis around which to rotate
     * @param    angle    The angle in radians of the rotation.
     */
    Quaternion.prototype.fromAxisAngle = function (axis, angle) {
        var sin_a = Math.sin(angle / 2);
        var cos_a = Math.cos(angle / 2);
        this.x = axis.x * sin_a;
        this.y = axis.y * sin_a;
        this.z = axis.z * sin_a;
        this.w = cos_a;
        this.normalize();
    };
    /**
     * Spherically interpolates between two quaternions, providing an interpolation between rotations with constant angle change rate.
     * @param qa The first quaternion to interpolate.
     * @param qb The second quaternion to interpolate.
     * @param t The interpolation weight, a value between 0 and 1.
     */
    Quaternion.prototype.slerp = function (qa, qb, t) {
        var w1 = qa.w, x1 = qa.x, y1 = qa.y, z1 = qa.z;
        var w2 = qb.w, x2 = qb.x, y2 = qb.y, z2 = qb.z;
        var dot = w1 * w2 + x1 * x2 + y1 * y2 + z1 * z2;
        // shortest direction
        if (dot < 0) {
            dot = -dot;
            w2 = -w2;
            x2 = -x2;
            y2 = -y2;
            z2 = -z2;
        }
        if (dot < 0.95) {
            // interpolate angle linearly
            var angle = Math.acos(dot);
            var s = 1 / Math.sin(angle);
            var s1 = Math.sin(angle * (1 - t)) * s;
            var s2 = Math.sin(angle * t) * s;
            this.w = w1 * s1 + w2 * s2;
            this.x = x1 * s1 + x2 * s2;
            this.y = y1 * s1 + y2 * s2;
            this.z = z1 * s1 + z2 * s2;
        }
        else {
            // nearly identical angle, interpolate linearly
            this.w = w1 + t * (w2 - w1);
            this.x = x1 + t * (x2 - x1);
            this.y = y1 + t * (y2 - y1);
            this.z = z1 + t * (z2 - z1);
            var len = 1.0 / Math.sqrt(this.w * this.w + this.x * this.x + this.y * this.y + this.z * this.z);
            this.w *= len;
            this.x *= len;
            this.y *= len;
            this.z *= len;
        }
    };
    /**
     * Linearly interpolates between two quaternions.
     * @param qa The first quaternion to interpolate.
     * @param qb The second quaternion to interpolate.
     * @param t The interpolation weight, a value between 0 and 1.
     */
    Quaternion.prototype.lerp = function (qa, qb, t) {
        var w1 = qa.w, x1 = qa.x, y1 = qa.y, z1 = qa.z;
        var w2 = qb.w, x2 = qb.x, y2 = qb.y, z2 = qb.z;
        var len;
        // shortest direction
        if (w1 * w2 + x1 * x2 + y1 * y2 + z1 * z2 < 0) {
            w2 = -w2;
            x2 = -x2;
            y2 = -y2;
            z2 = -z2;
        }
        this.w = w1 + t * (w2 - w1);
        this.x = x1 + t * (x2 - x1);
        this.y = y1 + t * (y2 - y1);
        this.z = z1 + t * (z2 - z1);
        len = 1.0 / Math.sqrt(this.w * this.w + this.x * this.x + this.y * this.y + this.z * this.z);
        this.w *= len;
        this.x *= len;
        this.y *= len;
        this.z *= len;
    };
    /**
     * Fills the quaternion object with values representing the given euler rotation.
     *
     * @param    ax        The angle in radians of the rotation around the ax axis.
     * @param    ay        The angle in radians of the rotation around the ay axis.
     * @param    az        The angle in radians of the rotation around the az axis.
     */
    Quaternion.prototype.fromEulerAngles = function (ax, ay, az) {
        var halfX = ax * .5, halfY = ay * .5, halfZ = az * .5;
        var cosX = Math.cos(halfX), sinX = Math.sin(halfX);
        var cosY = Math.cos(halfY), sinY = Math.sin(halfY);
        var cosZ = Math.cos(halfZ), sinZ = Math.sin(halfZ);
        this.w = cosX * cosY * cosZ + sinX * sinY * sinZ;
        this.x = sinX * cosY * cosZ - cosX * sinY * sinZ;
        this.y = cosX * sinY * cosZ + sinX * cosY * sinZ;
        this.z = cosX * cosY * sinZ - sinX * sinY * cosZ;
    };
    /**
     * Fills a target Vector3D object with the Euler angles that form the rotation represented by this quaternion.
     * @param target An optional Vector3D object to contain the Euler angles. If not provided, a new object is created.
     * @return The Vector3D containing the Euler angles.
     */
    Quaternion.prototype.toEulerAngles = function (target) {
        if (target === void 0) { target = null; }
        //target ||= new Vector3D();
        if (target === null) {
            target = new Vector3D();
        }
        target.x = Math.atan2(2 * (this.w * this.x + this.y * this.z), 1 - 2 * (this.x * this.x + this.y * this.y));
        target.y = Math.asin(2 * (this.w * this.y - this.z * this.x));
        target.z = Math.atan2(2 * (this.w * this.z + this.x * this.y), 1 - 2 * (this.y * this.y + this.z * this.z));
        return target;
    };
    /**
     * Normalises the quaternion object.
     */
    Quaternion.prototype.normalize = function (val) {
        if (val === void 0) { val = 1; }
        var mag = val / Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
        this.x *= mag;
        this.y *= mag;
        this.z *= mag;
        this.w *= mag;
    };
    /**
     * Used to trace the values of a quaternion.
     *
     * @return A string representation of the quaternion object.
     */
    Quaternion.prototype.toString = function () {
        return "{x:" + this.x + " y:" + this.y + " z:" + this.z + " w:" + this.w + "}";
    };
    /**
     * Converts the quaternion to a Matrix3D object representing an equivalent rotation.
     * @param target An optional Matrix3D container to store the transformation in. If not provided, a new object is created.
     * @return A Matrix3D object representing an equivalent rotation.
     */
    Quaternion.prototype.toMatrix3D = function (target) {
        if (target === void 0) { target = null; }
        var rawData = Matrix3DUtils.RAW_DATA_CONTAINER;
        var xy2 = 2.0 * this.x * this.y, xz2 = 2.0 * this.x * this.z, xw2 = 2.0 * this.x * this.w;
        var yz2 = 2.0 * this.y * this.z, yw2 = 2.0 * this.y * this.w, zw2 = 2.0 * this.z * this.w;
        var xx = this.x * this.x, yy = this.y * this.y, zz = this.z * this.z, ww = this.w * this.w;
        rawData[0] = xx - yy - zz + ww;
        rawData[4] = xy2 - zw2;
        rawData[8] = xz2 + yw2;
        rawData[12] = 0;
        rawData[1] = xy2 + zw2;
        rawData[5] = -xx + yy - zz + ww;
        rawData[9] = yz2 - xw2;
        rawData[13] = 0;
        rawData[2] = xz2 - yw2;
        rawData[6] = yz2 + xw2;
        rawData[10] = -xx - yy + zz + ww;
        rawData[14] = 0;
        rawData[3] = 0.0;
        rawData[7] = 0.0;
        rawData[11] = 0;
        rawData[15] = 1;
        if (!target)
            return new Matrix3D(rawData);
        target.copyRawDataFrom(rawData);
        return target;
    };
    /**
     * Extracts a quaternion rotation matrix out of a given Matrix3D object.
     * @param matrix The Matrix3D out of which the rotation will be extracted.
     */
    Quaternion.prototype.fromMatrix = function (matrix) {
        var v = matrix.decompose(Orientation3D.QUATERNION)[1];
        this.x = v.x;
        this.y = v.y;
        this.z = v.z;
        this.w = v.w;
    };
    /**
     * Converts the quaternion to a Vector.&lt;Number&gt; matrix representation of a rotation equivalent to this quaternion.
     * @param target The Vector.&lt;Number&gt; to contain the raw matrix data.
     * @param exclude4thRow If true, the last row will be omitted, and a 4x3 matrix will be generated instead of a 4x4.
     */
    Quaternion.prototype.toRawData = function (target, exclude4thRow) {
        if (exclude4thRow === void 0) { exclude4thRow = false; }
        var xy2 = 2.0 * this.x * this.y, xz2 = 2.0 * this.x * this.z, xw2 = 2.0 * this.x * this.w;
        var yz2 = 2.0 * this.y * this.z, yw2 = 2.0 * this.y * this.w, zw2 = 2.0 * this.z * this.w;
        var xx = this.x * this.x, yy = this.y * this.y, zz = this.z * this.z, ww = this.w * this.w;
        target[0] = xx - yy - zz + ww;
        target[1] = xy2 - zw2;
        target[2] = xz2 + yw2;
        target[4] = xy2 + zw2;
        target[5] = -xx + yy - zz + ww;
        target[6] = yz2 - xw2;
        target[8] = xz2 - yw2;
        target[9] = yz2 + xw2;
        target[10] = -xx - yy + zz + ww;
        target[3] = target[7] = target[11] = 0;
        if (!exclude4thRow) {
            target[12] = target[13] = target[14] = 0;
            target[15] = 1;
        }
    };
    /**
     * Clones the quaternion.
     * @return An exact duplicate of the current Quaternion.
     */
    Quaternion.prototype.clone = function () {
        return new Quaternion(this.x, this.y, this.z, this.w);
    };
    /**
     * Rotates a point.
     * @param vector The Vector3D object to be rotated.
     * @param target An optional Vector3D object that will contain the rotated coordinates. If not provided, a new object will be created.
     * @return A Vector3D object containing the rotated point.
     */
    Quaternion.prototype.rotatePoint = function (vector, target) {
        if (target === void 0) { target = null; }
        var x1, y1, z1, w1;
        var x2 = vector.x, y2 = vector.y, z2 = vector.z;
        //target ||= new Vector3D();
        if (target === null) {
            target = new Vector3D();
        }
        // p*q'
        w1 = -this.x * x2 - this.y * y2 - this.z * z2;
        x1 = this.w * x2 + this.y * z2 - this.z * y2;
        y1 = this.w * y2 - this.x * z2 + this.z * x2;
        z1 = this.w * z2 + this.x * y2 - this.y * x2;
        target.x = -w1 * this.x + x1 * this.w - y1 * this.z + z1 * this.y;
        target.y = -w1 * this.y + x1 * this.z + y1 * this.w - z1 * this.x;
        target.z = -w1 * this.z - x1 * this.y + y1 * this.x + z1 * this.w;
        return target;
    };
    /**
     * Copies the data from a quaternion into this instance.
     * @param q The quaternion to copy from.
     */
    Quaternion.prototype.copyFrom = function (q) {
        this.x = q.x;
        this.y = q.y;
        this.z = q.z;
        this.w = q.w;
    };
    return Quaternion;
})();
module.exports = Quaternion;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1jb3JlL2xpYi9nZW9tL3F1YXRlcm5pb24udHMiXSwibmFtZXMiOlsiUXVhdGVybmlvbiIsIlF1YXRlcm5pb24uY29uc3RydWN0b3IiLCJRdWF0ZXJuaW9uLm1hZ25pdHVkZSIsIlF1YXRlcm5pb24ubXVsdGlwbHkiLCJRdWF0ZXJuaW9uLm11bHRpcGx5VmVjdG9yIiwiUXVhdGVybmlvbi5mcm9tQXhpc0FuZ2xlIiwiUXVhdGVybmlvbi5zbGVycCIsIlF1YXRlcm5pb24ubGVycCIsIlF1YXRlcm5pb24uZnJvbUV1bGVyQW5nbGVzIiwiUXVhdGVybmlvbi50b0V1bGVyQW5nbGVzIiwiUXVhdGVybmlvbi5ub3JtYWxpemUiLCJRdWF0ZXJuaW9uLnRvU3RyaW5nIiwiUXVhdGVybmlvbi50b01hdHJpeDNEIiwiUXVhdGVybmlvbi5mcm9tTWF0cml4IiwiUXVhdGVybmlvbi50b1Jhd0RhdGEiLCJRdWF0ZXJuaW9uLmNsb25lIiwiUXVhdGVybmlvbi5yb3RhdGVQb2ludCIsIlF1YXRlcm5pb24uY29weUZyb20iXSwibWFwcGluZ3MiOiJBQUFBLElBQU8sYUFBYSxXQUFZLG9DQUFvQyxDQUFDLENBQUM7QUFDdEUsSUFBTyxhQUFhLFdBQVksb0NBQW9DLENBQUMsQ0FBQztBQUN0RSxJQUFPLFFBQVEsV0FBYywrQkFBK0IsQ0FBQyxDQUFDO0FBQzlELElBQU8sUUFBUSxXQUFjLCtCQUErQixDQUFDLENBQUM7QUFFOUQsQUFHQTs7R0FERztJQUNHLFVBQVU7SUFzQmZBOzs7Ozs7T0FNR0E7SUFDSEEsU0E3QktBLFVBQVVBLENBNkJIQSxDQUFZQSxFQUFFQSxDQUFZQSxFQUFFQSxDQUFZQSxFQUFFQSxDQUFZQTtRQUF0REMsaUJBQVlBLEdBQVpBLEtBQVlBO1FBQUVBLGlCQUFZQSxHQUFaQSxLQUFZQTtRQUFFQSxpQkFBWUEsR0FBWkEsS0FBWUE7UUFBRUEsaUJBQVlBLEdBQVpBLEtBQVlBO1FBM0JsRUE7O1dBRUdBO1FBQ0lBLE1BQUNBLEdBQVVBLENBQUNBLENBQUNBO1FBRXBCQTs7V0FFR0E7UUFDSUEsTUFBQ0EsR0FBVUEsQ0FBQ0EsQ0FBQ0E7UUFFcEJBOztXQUVHQTtRQUNJQSxNQUFDQSxHQUFVQSxDQUFDQSxDQUFDQTtRQUVwQkE7O1dBRUdBO1FBQ0lBLE1BQUNBLEdBQVVBLENBQUNBLENBQUNBO1FBV25CQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNYQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNYQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNYQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtJQUNaQSxDQUFDQTtJQUtERCxzQkFBV0EsaUNBQVNBO1FBSHBCQTs7V0FFR0E7YUFDSEE7WUFFQ0UsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDakZBLENBQUNBOzs7T0FBQUY7SUFFREE7Ozs7O09BS0dBO0lBQ0lBLDZCQUFRQSxHQUFmQSxVQUFnQkEsRUFBYUEsRUFBRUEsRUFBYUE7UUFFM0NHLElBQUlBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1FBQzNFQSxJQUFJQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUUzRUEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsQ0FBQ0E7UUFDdkNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLENBQUNBO1FBQ3ZDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxDQUFDQTtRQUN2Q0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsQ0FBQ0E7SUFDeENBLENBQUNBO0lBRU1ILG1DQUFjQSxHQUFyQkEsVUFBc0JBLE1BQWVBLEVBQUVBLE1BQXdCQTtRQUF4Qkksc0JBQXdCQSxHQUF4QkEsYUFBd0JBO1FBRTlEQSxBQUNBQSw4QkFEOEJBO1FBQzlCQSxFQUFFQSxDQUFDQSxDQUFDQSxNQUFNQSxLQUFLQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNyQkEsTUFBTUEsR0FBR0EsSUFBSUEsVUFBVUEsRUFBRUEsQ0FBQ0E7UUFFM0JBLENBQUNBO1FBR0RBLElBQUlBLEVBQUVBLEdBQVVBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO1FBQ3pCQSxJQUFJQSxFQUFFQSxHQUFVQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUN6QkEsSUFBSUEsRUFBRUEsR0FBVUEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFekJBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLENBQUNBO1FBQzlDQSxNQUFNQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxDQUFDQTtRQUM3Q0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsQ0FBQ0E7UUFDN0NBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLENBQUNBO1FBRTdDQSxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQTtJQUNmQSxDQUFDQTtJQUVESjs7Ozs7T0FLR0E7SUFDSUEsa0NBQWFBLEdBQXBCQSxVQUFxQkEsSUFBYUEsRUFBRUEsS0FBWUE7UUFFL0NLLElBQUlBLEtBQUtBLEdBQVVBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLEdBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQ3JDQSxJQUFJQSxLQUFLQSxHQUFVQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxHQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUVyQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsS0FBS0EsQ0FBQ0E7UUFDdEJBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEtBQUtBLENBQUNBO1FBQ3RCQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxLQUFLQSxDQUFDQTtRQUN0QkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsS0FBS0EsQ0FBQ0E7UUFFZkEsSUFBSUEsQ0FBQ0EsU0FBU0EsRUFBRUEsQ0FBQ0E7SUFDbEJBLENBQUNBO0lBRURMOzs7OztPQUtHQTtJQUNJQSwwQkFBS0EsR0FBWkEsVUFBYUEsRUFBYUEsRUFBRUEsRUFBYUEsRUFBRUEsQ0FBUUE7UUFFbERNLElBQUlBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1FBQzNFQSxJQUFJQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUMzRUEsSUFBSUEsR0FBR0EsR0FBVUEsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsQ0FBQ0E7UUFFL0NBLEFBQ0FBLHFCQURxQkE7UUFDckJBLEVBQUVBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBQ2JBLEdBQUdBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBO1lBQ1hBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1lBQ1RBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1lBQ1RBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1lBQ1RBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1FBQ1ZBLENBQUNBO1FBRURBLEVBQUVBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1lBQ2hCQSxBQUNBQSw2QkFENkJBO2dCQUN6QkEsS0FBS0EsR0FBVUEsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7WUFDbENBLElBQUlBLENBQUNBLEdBQVVBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBO1lBQ2pDQSxJQUFJQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxHQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxDQUFDQTtZQUMxQ0EsSUFBSUEsRUFBRUEsR0FBVUEsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsR0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDcENBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLENBQUNBO1lBQ3ZCQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxDQUFDQTtZQUN2QkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsQ0FBQ0E7WUFDdkJBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLENBQUNBO1FBQ3hCQSxDQUFDQTtRQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtZQUNQQSxBQUNBQSwrQ0FEK0NBO1lBQy9DQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUMxQkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBR0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDMUJBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBLENBQUNBO1lBQzFCQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUMxQkEsSUFBSUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDOUZBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLEdBQUdBLENBQUNBO1lBQ2RBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLEdBQUdBLENBQUNBO1lBQ2RBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLEdBQUdBLENBQUNBO1lBQ2RBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLEdBQUdBLENBQUNBO1FBQ2ZBLENBQUNBO0lBQ0ZBLENBQUNBO0lBRUROOzs7OztPQUtHQTtJQUNJQSx5QkFBSUEsR0FBWEEsVUFBWUEsRUFBYUEsRUFBRUEsRUFBYUEsRUFBRUEsQ0FBUUE7UUFFakRPLElBQUlBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1FBQzNFQSxJQUFJQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUMzRUEsSUFBSUEsR0FBVUEsQ0FBQ0E7UUFFZkEsQUFDQUEscUJBRHFCQTtRQUNyQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDdkNBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1lBQ1RBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1lBQ1RBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1lBQ1RBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1FBQ1ZBLENBQUNBO1FBRURBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBLENBQUNBO1FBQzFCQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQSxDQUFDQTtRQUMxQkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBR0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7UUFDMUJBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBLENBQUNBO1FBRTFCQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNuRkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7UUFDZEEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7UUFDZEEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7UUFDZEEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7SUFDZkEsQ0FBQ0E7SUFFRFA7Ozs7OztPQU1HQTtJQUNJQSxvQ0FBZUEsR0FBdEJBLFVBQXVCQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQTtRQUVyRFEsSUFBSUEsS0FBS0EsR0FBVUEsRUFBRUEsR0FBQ0EsRUFBRUEsRUFBRUEsS0FBS0EsR0FBVUEsRUFBRUEsR0FBQ0EsRUFBRUEsRUFBRUEsS0FBS0EsR0FBVUEsRUFBRUEsR0FBQ0EsRUFBRUEsQ0FBQ0E7UUFDckVBLElBQUlBLElBQUlBLEdBQVVBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLEVBQUVBLElBQUlBLEdBQVVBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBO1FBQ2pFQSxJQUFJQSxJQUFJQSxHQUFVQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxDQUFDQSxFQUFFQSxJQUFJQSxHQUFVQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQTtRQUNqRUEsSUFBSUEsSUFBSUEsR0FBVUEsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsRUFBRUEsSUFBSUEsR0FBVUEsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0E7UUFFakVBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLEdBQUNBLElBQUlBLEdBQUNBLElBQUlBLEdBQUdBLElBQUlBLEdBQUNBLElBQUlBLEdBQUNBLElBQUlBLENBQUNBO1FBQ3pDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxHQUFDQSxJQUFJQSxHQUFDQSxJQUFJQSxHQUFHQSxJQUFJQSxHQUFDQSxJQUFJQSxHQUFDQSxJQUFJQSxDQUFDQTtRQUN6Q0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsR0FBQ0EsSUFBSUEsR0FBQ0EsSUFBSUEsR0FBR0EsSUFBSUEsR0FBQ0EsSUFBSUEsR0FBQ0EsSUFBSUEsQ0FBQ0E7UUFDekNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLEdBQUNBLElBQUlBLEdBQUNBLElBQUlBLEdBQUdBLElBQUlBLEdBQUNBLElBQUlBLEdBQUNBLElBQUlBLENBQUNBO0lBQzFDQSxDQUFDQTtJQUVEUjs7OztPQUlHQTtJQUNJQSxrQ0FBYUEsR0FBcEJBLFVBQXFCQSxNQUFzQkE7UUFBdEJTLHNCQUFzQkEsR0FBdEJBLGFBQXNCQTtRQUcxQ0EsQUFDQUEsNEJBRDRCQTtRQUM1QkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsTUFBTUEsS0FBS0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFFckJBLE1BQU1BLEdBQUdBLElBQUlBLFFBQVFBLEVBQUVBLENBQUNBO1FBRXpCQSxDQUFDQTtRQUVEQSxNQUFNQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNoR0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDeERBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLEdBQUNBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBRWhHQSxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQTtJQUNmQSxDQUFDQTtJQUVEVDs7T0FFR0E7SUFDSUEsOEJBQVNBLEdBQWhCQSxVQUFpQkEsR0FBY0E7UUFBZFUsbUJBQWNBLEdBQWRBLE9BQWNBO1FBRTlCQSxJQUFJQSxHQUFHQSxHQUFVQSxHQUFHQSxHQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUU5RkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7UUFDZEEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7UUFDZEEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7UUFDZEEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7SUFDZkEsQ0FBQ0E7SUFFRFY7Ozs7T0FJR0E7SUFDSUEsNkJBQVFBLEdBQWZBO1FBRUNXLE1BQU1BLENBQUNBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBO0lBQ2hGQSxDQUFDQTtJQUVEWDs7OztPQUlHQTtJQUNJQSwrQkFBVUEsR0FBakJBLFVBQWtCQSxNQUFzQkE7UUFBdEJZLHNCQUFzQkEsR0FBdEJBLGFBQXNCQTtRQUV2Q0EsSUFBSUEsT0FBT0EsR0FBWUEsYUFBYUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQTtRQUN4REEsSUFBSUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDbkdBLElBQUlBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1FBQ25HQSxJQUFJQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUUvR0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7UUFDL0JBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUdBLENBQUNBO1FBQ3ZCQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFHQSxDQUFDQTtRQUN2QkEsT0FBT0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDaEJBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUdBLENBQUNBO1FBQ3ZCQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtRQUNoQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDdkJBLE9BQU9BLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO1FBQ2hCQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFHQSxDQUFDQTtRQUN2QkEsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDdkJBLE9BQU9BLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO1FBQ2pDQSxPQUFPQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNoQkEsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDakJBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBO1FBQ2pCQSxPQUFPQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNoQkEsT0FBT0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFFaEJBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBO1lBQ1hBLE1BQU1BLENBQUNBLElBQUlBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO1FBRTlCQSxNQUFNQSxDQUFDQSxlQUFlQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQTtRQUVoQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7SUFDZkEsQ0FBQ0E7SUFFRFo7OztPQUdHQTtJQUNJQSwrQkFBVUEsR0FBakJBLFVBQWtCQSxNQUFlQTtRQUVoQ2EsSUFBSUEsQ0FBQ0EsR0FBWUEsTUFBTUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsYUFBYUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDL0RBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQ2JBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQ2JBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQ2JBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO0lBQ2RBLENBQUNBO0lBRURiOzs7O09BSUdBO0lBQ0lBLDhCQUFTQSxHQUFoQkEsVUFBaUJBLE1BQWVBLEVBQUVBLGFBQTZCQTtRQUE3QmMsNkJBQTZCQSxHQUE3QkEscUJBQTZCQTtRQUU5REEsSUFBSUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDbkdBLElBQUlBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1FBQ25HQSxJQUFJQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUUvR0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7UUFDOUJBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUdBLENBQUNBO1FBQ3RCQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFHQSxDQUFDQTtRQUN0QkEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDdEJBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO1FBQy9CQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFHQSxDQUFDQTtRQUN0QkEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDdEJBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUdBLENBQUNBO1FBQ3RCQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtRQUNoQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsTUFBTUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFFdkNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLGFBQWFBLENBQUNBLENBQUNBLENBQUNBO1lBQ3BCQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtZQUN6Q0EsTUFBTUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDaEJBLENBQUNBO0lBQ0ZBLENBQUNBO0lBRURkOzs7T0FHR0E7SUFDSUEsMEJBQUtBLEdBQVpBO1FBRUNlLE1BQU1BLENBQUNBLElBQUlBLFVBQVVBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO0lBQ3ZEQSxDQUFDQTtJQUVEZjs7Ozs7T0FLR0E7SUFDSUEsZ0NBQVdBLEdBQWxCQSxVQUFtQkEsTUFBZUEsRUFBRUEsTUFBc0JBO1FBQXRCZ0Isc0JBQXNCQSxHQUF0QkEsYUFBc0JBO1FBRXpEQSxJQUFJQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxDQUFDQTtRQUMvQ0EsSUFBSUEsRUFBRUEsR0FBVUEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsR0FBVUEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsR0FBVUEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFckVBLEFBQ0FBLDRCQUQ0QkE7UUFDNUJBLEVBQUVBLENBQUNBLENBQUNBLE1BQU1BLEtBQUtBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1lBRXJCQSxNQUFNQSxHQUFHQSxJQUFJQSxRQUFRQSxFQUFFQSxDQUFDQTtRQUV6QkEsQ0FBQ0E7UUFFREEsQUFDQUEsT0FET0E7UUFDUEEsRUFBRUEsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsQ0FBQ0E7UUFDeENBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLENBQUNBO1FBQ3ZDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxDQUFDQTtRQUN2Q0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsQ0FBQ0E7UUFFdkNBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1FBQzFEQSxNQUFNQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUMxREEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFMURBLE1BQU1BLENBQUNBLE1BQU1BLENBQUNBO0lBQ2ZBLENBQUNBO0lBRURoQjs7O09BR0dBO0lBQ0lBLDZCQUFRQSxHQUFmQSxVQUFnQkEsQ0FBWUE7UUFFM0JpQixJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNiQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNiQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNiQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUNkQSxDQUFDQTtJQUNGakIsaUJBQUNBO0FBQURBLENBclhBLEFBcVhDQSxJQUFBO0FBRUQsQUFBb0IsaUJBQVgsVUFBVSxDQUFDIiwiZmlsZSI6Imdlb20vUXVhdGVybmlvbi5qcyIsInNvdXJjZVJvb3QiOiIuLi8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTWF0cml4M0RVdGlsc1x0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9NYXRyaXgzRFV0aWxzXCIpO1xuaW1wb3J0IE9yaWVudGF0aW9uM0RcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vT3JpZW50YXRpb24zRFwiKTtcbmltcG9ydCBNYXRyaXgzRFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vTWF0cml4M0RcIik7XG5pbXBvcnQgVmVjdG9yM0RcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9nZW9tL1ZlY3RvcjNEXCIpO1xuXG4vKipcbiAqIEEgUXVhdGVybmlvbiBvYmplY3Qgd2hpY2ggY2FuIGJlIHVzZWQgdG8gcmVwcmVzZW50IHJvdGF0aW9ucy5cbiAqL1xuY2xhc3MgUXVhdGVybmlvblxue1xuXHQvKipcblx0ICogVGhlIHggdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uXG5cdCAqL1xuXHRwdWJsaWMgeDpudW1iZXIgPSAwO1xuXG5cdC8qKlxuXHQgKiBUaGUgeSB2YWx1ZSBvZiB0aGUgcXVhdGVybmlvbi5cblx0ICovXG5cdHB1YmxpYyB5Om51bWJlciA9IDA7XG5cblx0LyoqXG5cdCAqIFRoZSB6IHZhbHVlIG9mIHRoZSBxdWF0ZXJuaW9uLlxuXHQgKi9cblx0cHVibGljIHo6bnVtYmVyID0gMDtcblxuXHQvKipcblx0ICogVGhlIHcgdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uXG5cdCAqL1xuXHRwdWJsaWMgdzpudW1iZXIgPSAxO1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgbmV3IFF1YXRlcm5pb24gb2JqZWN0LlxuXHQgKiBAcGFyYW0geCBUaGUgeCB2YWx1ZSBvZiB0aGUgcXVhdGVybmlvbi5cblx0ICogQHBhcmFtIHkgVGhlIHkgdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uXG5cdCAqIEBwYXJhbSB6IFRoZSB6IHZhbHVlIG9mIHRoZSBxdWF0ZXJuaW9uLlxuXHQgKiBAcGFyYW0gdyBUaGUgdyB2YWx1ZSBvZiB0aGUgcXVhdGVybmlvbi5cblx0ICovXG5cdGNvbnN0cnVjdG9yKHg6bnVtYmVyID0gMCwgeTpudW1iZXIgPSAwLCB6Om51bWJlciA9IDAsIHc6bnVtYmVyID0gMSlcblx0e1xuXHRcdHRoaXMueCA9IHg7XG5cdFx0dGhpcy55ID0geTtcblx0XHR0aGlzLnogPSB6O1xuXHRcdHRoaXMudyA9IHc7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgbWFnbml0dWRlIG9mIHRoZSBxdWF0ZXJuaW9uIG9iamVjdC5cblx0ICovXG5cdHB1YmxpYyBnZXQgbWFnbml0dWRlKCk6bnVtYmVyXG5cdHtcblx0XHRyZXR1cm4gTWF0aC5zcXJ0KHRoaXMudyp0aGlzLncgKyB0aGlzLngqdGhpcy54ICsgdGhpcy55KnRoaXMueSArIHRoaXMueip0aGlzLnopO1xuXHR9XG5cblx0LyoqXG5cdCAqIEZpbGxzIHRoZSBxdWF0ZXJuaW9uIG9iamVjdCB3aXRoIHRoZSByZXN1bHQgZnJvbSBhIG11bHRpcGxpY2F0aW9uIG9mIHR3byBxdWF0ZXJuaW9uIG9iamVjdHMuXG5cdCAqXG5cdCAqIEBwYXJhbSAgICBxYSAgICBUaGUgZmlyc3QgcXVhdGVybmlvbiBpbiB0aGUgbXVsdGlwbGljYXRpb24uXG5cdCAqIEBwYXJhbSAgICBxYiAgICBUaGUgc2Vjb25kIHF1YXRlcm5pb24gaW4gdGhlIG11bHRpcGxpY2F0aW9uLlxuXHQgKi9cblx0cHVibGljIG11bHRpcGx5KHFhOlF1YXRlcm5pb24sIHFiOlF1YXRlcm5pb24pXG5cdHtcblx0XHR2YXIgdzE6bnVtYmVyID0gcWEudywgeDE6bnVtYmVyID0gcWEueCwgeTE6bnVtYmVyID0gcWEueSwgejE6bnVtYmVyID0gcWEuejtcblx0XHR2YXIgdzI6bnVtYmVyID0gcWIudywgeDI6bnVtYmVyID0gcWIueCwgeTI6bnVtYmVyID0gcWIueSwgejI6bnVtYmVyID0gcWIuejtcblxuXHRcdHRoaXMudyA9IHcxKncyIC0geDEqeDIgLSB5MSp5MiAtIHoxKnoyO1xuXHRcdHRoaXMueCA9IHcxKngyICsgeDEqdzIgKyB5MSp6MiAtIHoxKnkyO1xuXHRcdHRoaXMueSA9IHcxKnkyIC0geDEqejIgKyB5MSp3MiArIHoxKngyO1xuXHRcdHRoaXMueiA9IHcxKnoyICsgeDEqeTIgLSB5MSp4MiArIHoxKncyO1xuXHR9XG5cblx0cHVibGljIG11bHRpcGx5VmVjdG9yKHZlY3RvcjpWZWN0b3IzRCwgdGFyZ2V0OlF1YXRlcm5pb24gPSBudWxsKTpRdWF0ZXJuaW9uXG5cdHtcblx0XHQvL3RhcmdldCB8fD0gbmV3IFF1YXRlcm5pb24oKTtcblx0XHRpZiAodGFyZ2V0ID09PSBudWxsKSB7XG5cdFx0XHR0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpO1xuXG5cdFx0fVxuXG5cblx0XHR2YXIgeDI6bnVtYmVyID0gdmVjdG9yLng7XG5cdFx0dmFyIHkyOm51bWJlciA9IHZlY3Rvci55O1xuXHRcdHZhciB6MjpudW1iZXIgPSB2ZWN0b3IuejtcblxuXHRcdHRhcmdldC53ID0gLXRoaXMueCp4MiAtIHRoaXMueSp5MiAtIHRoaXMueip6Mjtcblx0XHR0YXJnZXQueCA9IHRoaXMudyp4MiArIHRoaXMueSp6MiAtIHRoaXMueip5Mjtcblx0XHR0YXJnZXQueSA9IHRoaXMudyp5MiAtIHRoaXMueCp6MiArIHRoaXMueip4Mjtcblx0XHR0YXJnZXQueiA9IHRoaXMudyp6MiArIHRoaXMueCp5MiAtIHRoaXMueSp4MjtcblxuXHRcdHJldHVybiB0YXJnZXQ7XG5cdH1cblxuXHQvKipcblx0ICogRmlsbHMgdGhlIHF1YXRlcm5pb24gb2JqZWN0IHdpdGggdmFsdWVzIHJlcHJlc2VudGluZyB0aGUgZ2l2ZW4gcm90YXRpb24gYXJvdW5kIGEgdmVjdG9yLlxuXHQgKlxuXHQgKiBAcGFyYW0gICAgYXhpcyAgICBUaGUgYXhpcyBhcm91bmQgd2hpY2ggdG8gcm90YXRlXG5cdCAqIEBwYXJhbSAgICBhbmdsZSAgICBUaGUgYW5nbGUgaW4gcmFkaWFucyBvZiB0aGUgcm90YXRpb24uXG5cdCAqL1xuXHRwdWJsaWMgZnJvbUF4aXNBbmdsZShheGlzOlZlY3RvcjNELCBhbmdsZTpudW1iZXIpXG5cdHtcblx0XHR2YXIgc2luX2E6bnVtYmVyID0gTWF0aC5zaW4oYW5nbGUvMik7XG5cdFx0dmFyIGNvc19hOm51bWJlciA9IE1hdGguY29zKGFuZ2xlLzIpO1xuXG5cdFx0dGhpcy54ID0gYXhpcy54KnNpbl9hO1xuXHRcdHRoaXMueSA9IGF4aXMueSpzaW5fYTtcblx0XHR0aGlzLnogPSBheGlzLnoqc2luX2E7XG5cdFx0dGhpcy53ID0gY29zX2E7XG5cblx0XHR0aGlzLm5vcm1hbGl6ZSgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNwaGVyaWNhbGx5IGludGVycG9sYXRlcyBiZXR3ZWVuIHR3byBxdWF0ZXJuaW9ucywgcHJvdmlkaW5nIGFuIGludGVycG9sYXRpb24gYmV0d2VlbiByb3RhdGlvbnMgd2l0aCBjb25zdGFudCBhbmdsZSBjaGFuZ2UgcmF0ZS5cblx0ICogQHBhcmFtIHFhIFRoZSBmaXJzdCBxdWF0ZXJuaW9uIHRvIGludGVycG9sYXRlLlxuXHQgKiBAcGFyYW0gcWIgVGhlIHNlY29uZCBxdWF0ZXJuaW9uIHRvIGludGVycG9sYXRlLlxuXHQgKiBAcGFyYW0gdCBUaGUgaW50ZXJwb2xhdGlvbiB3ZWlnaHQsIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLlxuXHQgKi9cblx0cHVibGljIHNsZXJwKHFhOlF1YXRlcm5pb24sIHFiOlF1YXRlcm5pb24sIHQ6bnVtYmVyKVxuXHR7XG5cdFx0dmFyIHcxOm51bWJlciA9IHFhLncsIHgxOm51bWJlciA9IHFhLngsIHkxOm51bWJlciA9IHFhLnksIHoxOm51bWJlciA9IHFhLno7XG5cdFx0dmFyIHcyOm51bWJlciA9IHFiLncsIHgyOm51bWJlciA9IHFiLngsIHkyOm51bWJlciA9IHFiLnksIHoyOm51bWJlciA9IHFiLno7XG5cdFx0dmFyIGRvdDpudW1iZXIgPSB3MSp3MiArIHgxKngyICsgeTEqeTIgKyB6MSp6MjtcblxuXHRcdC8vIHNob3J0ZXN0IGRpcmVjdGlvblxuXHRcdGlmIChkb3QgPCAwKSB7XG5cdFx0XHRkb3QgPSAtZG90O1xuXHRcdFx0dzIgPSAtdzI7XG5cdFx0XHR4MiA9IC14Mjtcblx0XHRcdHkyID0gLXkyO1xuXHRcdFx0ejIgPSAtejI7XG5cdFx0fVxuXG5cdFx0aWYgKGRvdCA8IDAuOTUpIHtcblx0XHRcdC8vIGludGVycG9sYXRlIGFuZ2xlIGxpbmVhcmx5XG5cdFx0XHR2YXIgYW5nbGU6bnVtYmVyID0gTWF0aC5hY29zKGRvdCk7XG5cdFx0XHR2YXIgczpudW1iZXIgPSAxL01hdGguc2luKGFuZ2xlKTtcblx0XHRcdHZhciBzMTpudW1iZXIgPSBNYXRoLnNpbihhbmdsZSooMSAtIHQpKSpzO1xuXHRcdFx0dmFyIHMyOm51bWJlciA9IE1hdGguc2luKGFuZ2xlKnQpKnM7XG5cdFx0XHR0aGlzLncgPSB3MSpzMSArIHcyKnMyO1xuXHRcdFx0dGhpcy54ID0geDEqczEgKyB4MipzMjtcblx0XHRcdHRoaXMueSA9IHkxKnMxICsgeTIqczI7XG5cdFx0XHR0aGlzLnogPSB6MSpzMSArIHoyKnMyO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBuZWFybHkgaWRlbnRpY2FsIGFuZ2xlLCBpbnRlcnBvbGF0ZSBsaW5lYXJseVxuXHRcdFx0dGhpcy53ID0gdzEgKyB0Kih3MiAtIHcxKTtcblx0XHRcdHRoaXMueCA9IHgxICsgdCooeDIgLSB4MSk7XG5cdFx0XHR0aGlzLnkgPSB5MSArIHQqKHkyIC0geTEpO1xuXHRcdFx0dGhpcy56ID0gejEgKyB0Kih6MiAtIHoxKTtcblx0XHRcdHZhciBsZW46bnVtYmVyID0gMS4wL01hdGguc3FydCh0aGlzLncqdGhpcy53ICsgdGhpcy54KnRoaXMueCArIHRoaXMueSp0aGlzLnkgKyB0aGlzLnoqdGhpcy56KTtcblx0XHRcdHRoaXMudyAqPSBsZW47XG5cdFx0XHR0aGlzLnggKj0gbGVuO1xuXHRcdFx0dGhpcy55ICo9IGxlbjtcblx0XHRcdHRoaXMueiAqPSBsZW47XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIExpbmVhcmx5IGludGVycG9sYXRlcyBiZXR3ZWVuIHR3byBxdWF0ZXJuaW9ucy5cblx0ICogQHBhcmFtIHFhIFRoZSBmaXJzdCBxdWF0ZXJuaW9uIHRvIGludGVycG9sYXRlLlxuXHQgKiBAcGFyYW0gcWIgVGhlIHNlY29uZCBxdWF0ZXJuaW9uIHRvIGludGVycG9sYXRlLlxuXHQgKiBAcGFyYW0gdCBUaGUgaW50ZXJwb2xhdGlvbiB3ZWlnaHQsIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLlxuXHQgKi9cblx0cHVibGljIGxlcnAocWE6UXVhdGVybmlvbiwgcWI6UXVhdGVybmlvbiwgdDpudW1iZXIpXG5cdHtcblx0XHR2YXIgdzE6bnVtYmVyID0gcWEudywgeDE6bnVtYmVyID0gcWEueCwgeTE6bnVtYmVyID0gcWEueSwgejE6bnVtYmVyID0gcWEuejtcblx0XHR2YXIgdzI6bnVtYmVyID0gcWIudywgeDI6bnVtYmVyID0gcWIueCwgeTI6bnVtYmVyID0gcWIueSwgejI6bnVtYmVyID0gcWIuejtcblx0XHR2YXIgbGVuOm51bWJlcjtcblxuXHRcdC8vIHNob3J0ZXN0IGRpcmVjdGlvblxuXHRcdGlmICh3MSp3MiArIHgxKngyICsgeTEqeTIgKyB6MSp6MiA8IDApIHtcblx0XHRcdHcyID0gLXcyO1xuXHRcdFx0eDIgPSAteDI7XG5cdFx0XHR5MiA9IC15Mjtcblx0XHRcdHoyID0gLXoyO1xuXHRcdH1cblxuXHRcdHRoaXMudyA9IHcxICsgdCoodzIgLSB3MSk7XG5cdFx0dGhpcy54ID0geDEgKyB0Kih4MiAtIHgxKTtcblx0XHR0aGlzLnkgPSB5MSArIHQqKHkyIC0geTEpO1xuXHRcdHRoaXMueiA9IHoxICsgdCooejIgLSB6MSk7XG5cblx0XHRsZW4gPSAxLjAvTWF0aC5zcXJ0KHRoaXMudyp0aGlzLncgKyB0aGlzLngqdGhpcy54ICsgdGhpcy55KnRoaXMueSArIHRoaXMueip0aGlzLnopO1xuXHRcdHRoaXMudyAqPSBsZW47XG5cdFx0dGhpcy54ICo9IGxlbjtcblx0XHR0aGlzLnkgKj0gbGVuO1xuXHRcdHRoaXMueiAqPSBsZW47XG5cdH1cblxuXHQvKipcblx0ICogRmlsbHMgdGhlIHF1YXRlcm5pb24gb2JqZWN0IHdpdGggdmFsdWVzIHJlcHJlc2VudGluZyB0aGUgZ2l2ZW4gZXVsZXIgcm90YXRpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSAgICBheCAgICAgICAgVGhlIGFuZ2xlIGluIHJhZGlhbnMgb2YgdGhlIHJvdGF0aW9uIGFyb3VuZCB0aGUgYXggYXhpcy5cblx0ICogQHBhcmFtICAgIGF5ICAgICAgICBUaGUgYW5nbGUgaW4gcmFkaWFucyBvZiB0aGUgcm90YXRpb24gYXJvdW5kIHRoZSBheSBheGlzLlxuXHQgKiBAcGFyYW0gICAgYXogICAgICAgIFRoZSBhbmdsZSBpbiByYWRpYW5zIG9mIHRoZSByb3RhdGlvbiBhcm91bmQgdGhlIGF6IGF4aXMuXG5cdCAqL1xuXHRwdWJsaWMgZnJvbUV1bGVyQW5nbGVzKGF4Om51bWJlciwgYXk6bnVtYmVyLCBhejpudW1iZXIpXG5cdHtcblx0XHR2YXIgaGFsZlg6bnVtYmVyID0gYXgqLjUsIGhhbGZZOm51bWJlciA9IGF5Ki41LCBoYWxmWjpudW1iZXIgPSBheiouNTtcblx0XHR2YXIgY29zWDpudW1iZXIgPSBNYXRoLmNvcyhoYWxmWCksIHNpblg6bnVtYmVyID0gTWF0aC5zaW4oaGFsZlgpO1xuXHRcdHZhciBjb3NZOm51bWJlciA9IE1hdGguY29zKGhhbGZZKSwgc2luWTpudW1iZXIgPSBNYXRoLnNpbihoYWxmWSk7XG5cdFx0dmFyIGNvc1o6bnVtYmVyID0gTWF0aC5jb3MoaGFsZlopLCBzaW5aOm51bWJlciA9IE1hdGguc2luKGhhbGZaKTtcblxuXHRcdHRoaXMudyA9IGNvc1gqY29zWSpjb3NaICsgc2luWCpzaW5ZKnNpblo7XG5cdFx0dGhpcy54ID0gc2luWCpjb3NZKmNvc1ogLSBjb3NYKnNpblkqc2luWjtcblx0XHR0aGlzLnkgPSBjb3NYKnNpblkqY29zWiArIHNpblgqY29zWSpzaW5aO1xuXHRcdHRoaXMueiA9IGNvc1gqY29zWSpzaW5aIC0gc2luWCpzaW5ZKmNvc1o7XG5cdH1cblxuXHQvKipcblx0ICogRmlsbHMgYSB0YXJnZXQgVmVjdG9yM0Qgb2JqZWN0IHdpdGggdGhlIEV1bGVyIGFuZ2xlcyB0aGF0IGZvcm0gdGhlIHJvdGF0aW9uIHJlcHJlc2VudGVkIGJ5IHRoaXMgcXVhdGVybmlvbi5cblx0ICogQHBhcmFtIHRhcmdldCBBbiBvcHRpb25hbCBWZWN0b3IzRCBvYmplY3QgdG8gY29udGFpbiB0aGUgRXVsZXIgYW5nbGVzLiBJZiBub3QgcHJvdmlkZWQsIGEgbmV3IG9iamVjdCBpcyBjcmVhdGVkLlxuXHQgKiBAcmV0dXJuIFRoZSBWZWN0b3IzRCBjb250YWluaW5nIHRoZSBFdWxlciBhbmdsZXMuXG5cdCAqL1xuXHRwdWJsaWMgdG9FdWxlckFuZ2xlcyh0YXJnZXQ6VmVjdG9yM0QgPSBudWxsKTpWZWN0b3IzRFxuXHR7XG5cblx0XHQvL3RhcmdldCB8fD0gbmV3IFZlY3RvcjNEKCk7XG5cdFx0aWYgKHRhcmdldCA9PT0gbnVsbCkge1xuXG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yM0QoKTtcblxuXHRcdH1cblxuXHRcdHRhcmdldC54ID0gTWF0aC5hdGFuMigyKih0aGlzLncqdGhpcy54ICsgdGhpcy55KnRoaXMueiksIDEgLSAyKih0aGlzLngqdGhpcy54ICsgdGhpcy55KnRoaXMueSkpO1xuXHRcdHRhcmdldC55ID0gTWF0aC5hc2luKDIqKHRoaXMudyp0aGlzLnkgLSB0aGlzLnoqdGhpcy54KSk7XG5cdFx0dGFyZ2V0LnogPSBNYXRoLmF0YW4yKDIqKHRoaXMudyp0aGlzLnogKyB0aGlzLngqdGhpcy55KSwgMSAtIDIqKHRoaXMueSp0aGlzLnkgKyB0aGlzLnoqdGhpcy56KSk7XG5cblx0XHRyZXR1cm4gdGFyZ2V0O1xuXHR9XG5cblx0LyoqXG5cdCAqIE5vcm1hbGlzZXMgdGhlIHF1YXRlcm5pb24gb2JqZWN0LlxuXHQgKi9cblx0cHVibGljIG5vcm1hbGl6ZSh2YWw6bnVtYmVyID0gMSlcblx0e1xuXHRcdHZhciBtYWc6bnVtYmVyID0gdmFsL01hdGguc3FydCh0aGlzLngqdGhpcy54ICsgdGhpcy55KnRoaXMueSArIHRoaXMueip0aGlzLnogKyB0aGlzLncqdGhpcy53KTtcblxuXHRcdHRoaXMueCAqPSBtYWc7XG5cdFx0dGhpcy55ICo9IG1hZztcblx0XHR0aGlzLnogKj0gbWFnO1xuXHRcdHRoaXMudyAqPSBtYWc7XG5cdH1cblxuXHQvKipcblx0ICogVXNlZCB0byB0cmFjZSB0aGUgdmFsdWVzIG9mIGEgcXVhdGVybmlvbi5cblx0ICpcblx0ICogQHJldHVybiBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcXVhdGVybmlvbiBvYmplY3QuXG5cdCAqL1xuXHRwdWJsaWMgdG9TdHJpbmcoKTpzdHJpbmdcblx0e1xuXHRcdHJldHVybiBcInt4OlwiICsgdGhpcy54ICsgXCIgeTpcIiArIHRoaXMueSArIFwiIHo6XCIgKyB0aGlzLnogKyBcIiB3OlwiICsgdGhpcy53ICsgXCJ9XCI7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgdGhlIHF1YXRlcm5pb24gdG8gYSBNYXRyaXgzRCBvYmplY3QgcmVwcmVzZW50aW5nIGFuIGVxdWl2YWxlbnQgcm90YXRpb24uXG5cdCAqIEBwYXJhbSB0YXJnZXQgQW4gb3B0aW9uYWwgTWF0cml4M0QgY29udGFpbmVyIHRvIHN0b3JlIHRoZSB0cmFuc2Zvcm1hdGlvbiBpbi4gSWYgbm90IHByb3ZpZGVkLCBhIG5ldyBvYmplY3QgaXMgY3JlYXRlZC5cblx0ICogQHJldHVybiBBIE1hdHJpeDNEIG9iamVjdCByZXByZXNlbnRpbmcgYW4gZXF1aXZhbGVudCByb3RhdGlvbi5cblx0ICovXG5cdHB1YmxpYyB0b01hdHJpeDNEKHRhcmdldDpNYXRyaXgzRCA9IG51bGwpOk1hdHJpeDNEXG5cdHtcblx0XHR2YXIgcmF3RGF0YTpudW1iZXJbXSA9IE1hdHJpeDNEVXRpbHMuUkFXX0RBVEFfQ09OVEFJTkVSO1xuXHRcdHZhciB4eTI6bnVtYmVyID0gMi4wKnRoaXMueCp0aGlzLnksIHh6MjpudW1iZXIgPSAyLjAqdGhpcy54KnRoaXMueiwgeHcyOm51bWJlciA9IDIuMCp0aGlzLngqdGhpcy53O1xuXHRcdHZhciB5ejI6bnVtYmVyID0gMi4wKnRoaXMueSp0aGlzLnosIHl3MjpudW1iZXIgPSAyLjAqdGhpcy55KnRoaXMudywgencyOm51bWJlciA9IDIuMCp0aGlzLnoqdGhpcy53O1xuXHRcdHZhciB4eDpudW1iZXIgPSB0aGlzLngqdGhpcy54LCB5eTpudW1iZXIgPSB0aGlzLnkqdGhpcy55LCB6ejpudW1iZXIgPSB0aGlzLnoqdGhpcy56LCB3dzpudW1iZXIgPSB0aGlzLncqdGhpcy53O1xuXG5cdFx0cmF3RGF0YVswXSA9IHh4IC0geXkgLSB6eiArIHd3O1xuXHRcdHJhd0RhdGFbNF0gPSB4eTIgLSB6dzI7XG5cdFx0cmF3RGF0YVs4XSA9IHh6MiArIHl3Mjtcblx0XHRyYXdEYXRhWzEyXSA9IDA7XG5cdFx0cmF3RGF0YVsxXSA9IHh5MiArIHp3Mjtcblx0XHRyYXdEYXRhWzVdID0gLXh4ICsgeXkgLSB6eiArIHd3O1xuXHRcdHJhd0RhdGFbOV0gPSB5ejIgLSB4dzI7XG5cdFx0cmF3RGF0YVsxM10gPSAwO1xuXHRcdHJhd0RhdGFbMl0gPSB4ejIgLSB5dzI7XG5cdFx0cmF3RGF0YVs2XSA9IHl6MiArIHh3Mjtcblx0XHRyYXdEYXRhWzEwXSA9IC14eCAtIHl5ICsgenogKyB3dztcblx0XHRyYXdEYXRhWzE0XSA9IDA7XG5cdFx0cmF3RGF0YVszXSA9IDAuMDtcblx0XHRyYXdEYXRhWzddID0gMC4wO1xuXHRcdHJhd0RhdGFbMTFdID0gMDtcblx0XHRyYXdEYXRhWzE1XSA9IDE7XG5cblx0XHRpZiAoIXRhcmdldClcblx0XHRcdHJldHVybiBuZXcgTWF0cml4M0QocmF3RGF0YSk7XG5cblx0XHR0YXJnZXQuY29weVJhd0RhdGFGcm9tKHJhd0RhdGEpO1xuXG5cdFx0cmV0dXJuIHRhcmdldDtcblx0fVxuXG5cdC8qKlxuXHQgKiBFeHRyYWN0cyBhIHF1YXRlcm5pb24gcm90YXRpb24gbWF0cml4IG91dCBvZiBhIGdpdmVuIE1hdHJpeDNEIG9iamVjdC5cblx0ICogQHBhcmFtIG1hdHJpeCBUaGUgTWF0cml4M0Qgb3V0IG9mIHdoaWNoIHRoZSByb3RhdGlvbiB3aWxsIGJlIGV4dHJhY3RlZC5cblx0ICovXG5cdHB1YmxpYyBmcm9tTWF0cml4KG1hdHJpeDpNYXRyaXgzRClcblx0e1xuXHRcdHZhciB2OlZlY3RvcjNEID0gbWF0cml4LmRlY29tcG9zZShPcmllbnRhdGlvbjNELlFVQVRFUk5JT04pWzFdO1xuXHRcdHRoaXMueCA9IHYueDtcblx0XHR0aGlzLnkgPSB2Lnk7XG5cdFx0dGhpcy56ID0gdi56O1xuXHRcdHRoaXMudyA9IHYudztcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyB0aGUgcXVhdGVybmlvbiB0byBhIFZlY3Rvci4mbHQ7TnVtYmVyJmd0OyBtYXRyaXggcmVwcmVzZW50YXRpb24gb2YgYSByb3RhdGlvbiBlcXVpdmFsZW50IHRvIHRoaXMgcXVhdGVybmlvbi5cblx0ICogQHBhcmFtIHRhcmdldCBUaGUgVmVjdG9yLiZsdDtOdW1iZXImZ3Q7IHRvIGNvbnRhaW4gdGhlIHJhdyBtYXRyaXggZGF0YS5cblx0ICogQHBhcmFtIGV4Y2x1ZGU0dGhSb3cgSWYgdHJ1ZSwgdGhlIGxhc3Qgcm93IHdpbGwgYmUgb21pdHRlZCwgYW5kIGEgNHgzIG1hdHJpeCB3aWxsIGJlIGdlbmVyYXRlZCBpbnN0ZWFkIG9mIGEgNHg0LlxuXHQgKi9cblx0cHVibGljIHRvUmF3RGF0YSh0YXJnZXQ6bnVtYmVyW10sIGV4Y2x1ZGU0dGhSb3c6Ym9vbGVhbiA9IGZhbHNlKVxuXHR7XG5cdFx0dmFyIHh5MjpudW1iZXIgPSAyLjAqdGhpcy54KnRoaXMueSwgeHoyOm51bWJlciA9IDIuMCp0aGlzLngqdGhpcy56LCB4dzI6bnVtYmVyID0gMi4wKnRoaXMueCp0aGlzLnc7XG5cdFx0dmFyIHl6MjpudW1iZXIgPSAyLjAqdGhpcy55KnRoaXMueiwgeXcyOm51bWJlciA9IDIuMCp0aGlzLnkqdGhpcy53LCB6dzI6bnVtYmVyID0gMi4wKnRoaXMueip0aGlzLnc7XG5cdFx0dmFyIHh4Om51bWJlciA9IHRoaXMueCp0aGlzLngsIHl5Om51bWJlciA9IHRoaXMueSp0aGlzLnksIHp6Om51bWJlciA9IHRoaXMueip0aGlzLnosIHd3Om51bWJlciA9IHRoaXMudyp0aGlzLnc7XG5cblx0XHR0YXJnZXRbMF0gPSB4eCAtIHl5IC0genogKyB3dztcblx0XHR0YXJnZXRbMV0gPSB4eTIgLSB6dzI7XG5cdFx0dGFyZ2V0WzJdID0geHoyICsgeXcyO1xuXHRcdHRhcmdldFs0XSA9IHh5MiArIHp3Mjtcblx0XHR0YXJnZXRbNV0gPSAteHggKyB5eSAtIHp6ICsgd3c7XG5cdFx0dGFyZ2V0WzZdID0geXoyIC0geHcyO1xuXHRcdHRhcmdldFs4XSA9IHh6MiAtIHl3Mjtcblx0XHR0YXJnZXRbOV0gPSB5ejIgKyB4dzI7XG5cdFx0dGFyZ2V0WzEwXSA9IC14eCAtIHl5ICsgenogKyB3dztcblx0XHR0YXJnZXRbM10gPSB0YXJnZXRbN10gPSB0YXJnZXRbMTFdID0gMDtcblxuXHRcdGlmICghZXhjbHVkZTR0aFJvdykge1xuXHRcdFx0dGFyZ2V0WzEyXSA9IHRhcmdldFsxM10gPSB0YXJnZXRbMTRdID0gMDtcblx0XHRcdHRhcmdldFsxNV0gPSAxO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBDbG9uZXMgdGhlIHF1YXRlcm5pb24uXG5cdCAqIEByZXR1cm4gQW4gZXhhY3QgZHVwbGljYXRlIG9mIHRoZSBjdXJyZW50IFF1YXRlcm5pb24uXG5cdCAqL1xuXHRwdWJsaWMgY2xvbmUoKTpRdWF0ZXJuaW9uXG5cdHtcblx0XHRyZXR1cm4gbmV3IFF1YXRlcm5pb24odGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSb3RhdGVzIGEgcG9pbnQuXG5cdCAqIEBwYXJhbSB2ZWN0b3IgVGhlIFZlY3RvcjNEIG9iamVjdCB0byBiZSByb3RhdGVkLlxuXHQgKiBAcGFyYW0gdGFyZ2V0IEFuIG9wdGlvbmFsIFZlY3RvcjNEIG9iamVjdCB0aGF0IHdpbGwgY29udGFpbiB0aGUgcm90YXRlZCBjb29yZGluYXRlcy4gSWYgbm90IHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2lsbCBiZSBjcmVhdGVkLlxuXHQgKiBAcmV0dXJuIEEgVmVjdG9yM0Qgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHJvdGF0ZWQgcG9pbnQuXG5cdCAqL1xuXHRwdWJsaWMgcm90YXRlUG9pbnQodmVjdG9yOlZlY3RvcjNELCB0YXJnZXQ6VmVjdG9yM0QgPSBudWxsKTpWZWN0b3IzRFxuXHR7XG5cdFx0dmFyIHgxOm51bWJlciwgeTE6bnVtYmVyLCB6MTpudW1iZXIsIHcxOm51bWJlcjtcblx0XHR2YXIgeDI6bnVtYmVyID0gdmVjdG9yLngsIHkyOm51bWJlciA9IHZlY3Rvci55LCB6MjpudW1iZXIgPSB2ZWN0b3IuejtcblxuXHRcdC8vdGFyZ2V0IHx8PSBuZXcgVmVjdG9yM0QoKTtcblx0XHRpZiAodGFyZ2V0ID09PSBudWxsKSB7XG5cblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzRCgpO1xuXG5cdFx0fVxuXG5cdFx0Ly8gcCpxJ1xuXHRcdHcxID0gLXRoaXMueCp4MiAtIHRoaXMueSp5MiAtIHRoaXMueip6Mjtcblx0XHR4MSA9IHRoaXMudyp4MiArIHRoaXMueSp6MiAtIHRoaXMueip5Mjtcblx0XHR5MSA9IHRoaXMudyp5MiAtIHRoaXMueCp6MiArIHRoaXMueip4Mjtcblx0XHR6MSA9IHRoaXMudyp6MiArIHRoaXMueCp5MiAtIHRoaXMueSp4MjtcblxuXHRcdHRhcmdldC54ID0gLXcxKnRoaXMueCArIHgxKnRoaXMudyAtIHkxKnRoaXMueiArIHoxKnRoaXMueTtcblx0XHR0YXJnZXQueSA9IC13MSp0aGlzLnkgKyB4MSp0aGlzLnogKyB5MSp0aGlzLncgLSB6MSp0aGlzLng7XG5cdFx0dGFyZ2V0LnogPSAtdzEqdGhpcy56IC0geDEqdGhpcy55ICsgeTEqdGhpcy54ICsgejEqdGhpcy53O1xuXG5cdFx0cmV0dXJuIHRhcmdldDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb3BpZXMgdGhlIGRhdGEgZnJvbSBhIHF1YXRlcm5pb24gaW50byB0aGlzIGluc3RhbmNlLlxuXHQgKiBAcGFyYW0gcSBUaGUgcXVhdGVybmlvbiB0byBjb3B5IGZyb20uXG5cdCAqL1xuXHRwdWJsaWMgY29weUZyb20ocTpRdWF0ZXJuaW9uKVxuXHR7XG5cdFx0dGhpcy54ID0gcS54O1xuXHRcdHRoaXMueSA9IHEueTtcblx0XHR0aGlzLnogPSBxLno7XG5cdFx0dGhpcy53ID0gcS53O1xuXHR9XG59XG5cbmV4cG9ydCA9IFF1YXRlcm5pb247Il19