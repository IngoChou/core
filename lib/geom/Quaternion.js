var Matrix3DUtils = require("awayjs-core/lib/geom/Matrix3DUtils");
var Orientation3D = require("awayjs-core/lib/geom/Orientation3D");
var Matrix3D = require("awayjs-core/lib/geom/Matrix3D");
var Vector3D = require("awayjs-core/lib/geom/Vector3D");
/**
 * A Quaternion object which can be used to represent rotations.
 */
var Quaternion = (function () {
    /**
     * Creates a new Quaternion object.
     * @param x The x value of the quaternion.
     * @param y The y value of the quaternion.
     * @param z The z value of the quaternion.
     * @param w The w value of the quaternion.
     */
    function Quaternion(x, y, z, w) {
        if (x === void 0) { x = 0; }
        if (y === void 0) { y = 0; }
        if (z === void 0) { z = 0; }
        if (w === void 0) { w = 1; }
        /**
         * The x value of the quaternion.
         */
        this.x = 0;
        /**
         * The y value of the quaternion.
         */
        this.y = 0;
        /**
         * The z value of the quaternion.
         */
        this.z = 0;
        /**
         * The w value of the quaternion.
         */
        this.w = 1;
        this.x = x;
        this.y = y;
        this.z = z;
        this.w = w;
    }
    Object.defineProperty(Quaternion.prototype, "magnitude", {
        /**
         * Returns the magnitude of the quaternion object.
         */
        get: function () {
            return Math.sqrt(this.w * this.w + this.x * this.x + this.y * this.y + this.z * this.z);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Fills the quaternion object with the result from a multiplication of two quaternion objects.
     *
     * @param    qa    The first quaternion in the multiplication.
     * @param    qb    The second quaternion in the multiplication.
     */
    Quaternion.prototype.multiply = function (qa, qb) {
        var w1 = qa.w, x1 = qa.x, y1 = qa.y, z1 = qa.z;
        var w2 = qb.w, x2 = qb.x, y2 = qb.y, z2 = qb.z;
        this.w = w1 * w2 - x1 * x2 - y1 * y2 - z1 * z2;
        this.x = w1 * x2 + x1 * w2 + y1 * z2 - z1 * y2;
        this.y = w1 * y2 - x1 * z2 + y1 * w2 + z1 * x2;
        this.z = w1 * z2 + x1 * y2 - y1 * x2 + z1 * w2;
    };
    Quaternion.prototype.multiplyVector = function (vector, target) {
        if (target === void 0) { target = null; }
        //target ||= new Quaternion();
        if (target === null) {
            target = new Quaternion();
        }
        var x2 = vector.x;
        var y2 = vector.y;
        var z2 = vector.z;
        target.w = -this.x * x2 - this.y * y2 - this.z * z2;
        target.x = this.w * x2 + this.y * z2 - this.z * y2;
        target.y = this.w * y2 - this.x * z2 + this.z * x2;
        target.z = this.w * z2 + this.x * y2 - this.y * x2;
        return target;
    };
    /**
     * Fills the quaternion object with values representing the given rotation around a vector.
     *
     * @param    axis    The axis around which to rotate
     * @param    angle    The angle in radians of the rotation.
     */
    Quaternion.prototype.fromAxisAngle = function (axis, angle) {
        var sin_a = Math.sin(angle / 2);
        var cos_a = Math.cos(angle / 2);
        this.x = axis.x * sin_a;
        this.y = axis.y * sin_a;
        this.z = axis.z * sin_a;
        this.w = cos_a;
        this.normalize();
    };
    /**
     * Spherically interpolates between two quaternions, providing an interpolation between rotations with constant angle change rate.
     * @param qa The first quaternion to interpolate.
     * @param qb The second quaternion to interpolate.
     * @param t The interpolation weight, a value between 0 and 1.
     */
    Quaternion.prototype.slerp = function (qa, qb, t) {
        var w1 = qa.w, x1 = qa.x, y1 = qa.y, z1 = qa.z;
        var w2 = qb.w, x2 = qb.x, y2 = qb.y, z2 = qb.z;
        var dot = w1 * w2 + x1 * x2 + y1 * y2 + z1 * z2;
        // shortest direction
        if (dot < 0) {
            dot = -dot;
            w2 = -w2;
            x2 = -x2;
            y2 = -y2;
            z2 = -z2;
        }
        if (dot < 0.95) {
            // interpolate angle linearly
            var angle = Math.acos(dot);
            var s = 1 / Math.sin(angle);
            var s1 = Math.sin(angle * (1 - t)) * s;
            var s2 = Math.sin(angle * t) * s;
            this.w = w1 * s1 + w2 * s2;
            this.x = x1 * s1 + x2 * s2;
            this.y = y1 * s1 + y2 * s2;
            this.z = z1 * s1 + z2 * s2;
        }
        else {
            // nearly identical angle, interpolate linearly
            this.w = w1 + t * (w2 - w1);
            this.x = x1 + t * (x2 - x1);
            this.y = y1 + t * (y2 - y1);
            this.z = z1 + t * (z2 - z1);
            var len = 1.0 / Math.sqrt(this.w * this.w + this.x * this.x + this.y * this.y + this.z * this.z);
            this.w *= len;
            this.x *= len;
            this.y *= len;
            this.z *= len;
        }
    };
    /**
     * Linearly interpolates between two quaternions.
     * @param qa The first quaternion to interpolate.
     * @param qb The second quaternion to interpolate.
     * @param t The interpolation weight, a value between 0 and 1.
     */
    Quaternion.prototype.lerp = function (qa, qb, t) {
        var w1 = qa.w, x1 = qa.x, y1 = qa.y, z1 = qa.z;
        var w2 = qb.w, x2 = qb.x, y2 = qb.y, z2 = qb.z;
        var len;
        // shortest direction
        if (w1 * w2 + x1 * x2 + y1 * y2 + z1 * z2 < 0) {
            w2 = -w2;
            x2 = -x2;
            y2 = -y2;
            z2 = -z2;
        }
        this.w = w1 + t * (w2 - w1);
        this.x = x1 + t * (x2 - x1);
        this.y = y1 + t * (y2 - y1);
        this.z = z1 + t * (z2 - z1);
        len = 1.0 / Math.sqrt(this.w * this.w + this.x * this.x + this.y * this.y + this.z * this.z);
        this.w *= len;
        this.x *= len;
        this.y *= len;
        this.z *= len;
    };
    /**
     * Fills the quaternion object with values representing the given euler rotation.
     *
     * @param    ax        The angle in radians of the rotation around the ax axis.
     * @param    ay        The angle in radians of the rotation around the ay axis.
     * @param    az        The angle in radians of the rotation around the az axis.
     */
    Quaternion.prototype.fromEulerAngles = function (ax, ay, az) {
        var halfX = ax * .5, halfY = ay * .5, halfZ = az * .5;
        var cosX = Math.cos(halfX), sinX = Math.sin(halfX);
        var cosY = Math.cos(halfY), sinY = Math.sin(halfY);
        var cosZ = Math.cos(halfZ), sinZ = Math.sin(halfZ);
        this.w = cosX * cosY * cosZ + sinX * sinY * sinZ;
        this.x = sinX * cosY * cosZ - cosX * sinY * sinZ;
        this.y = cosX * sinY * cosZ + sinX * cosY * sinZ;
        this.z = cosX * cosY * sinZ - sinX * sinY * cosZ;
    };
    /**
     * Fills a target Vector3D object with the Euler angles that form the rotation represented by this quaternion.
     * @param target An optional Vector3D object to contain the Euler angles. If not provided, a new object is created.
     * @return The Vector3D containing the Euler angles.
     */
    Quaternion.prototype.toEulerAngles = function (target) {
        if (target === void 0) { target = null; }
        //target ||= new Vector3D();
        if (target === null) {
            target = new Vector3D();
        }
        target.x = Math.atan2(2 * (this.w * this.x + this.y * this.z), 1 - 2 * (this.x * this.x + this.y * this.y));
        target.y = Math.asin(2 * (this.w * this.y - this.z * this.x));
        target.z = Math.atan2(2 * (this.w * this.z + this.x * this.y), 1 - 2 * (this.y * this.y + this.z * this.z));
        return target;
    };
    /**
     * Normalises the quaternion object.
     */
    Quaternion.prototype.normalize = function (val) {
        if (val === void 0) { val = 1; }
        var mag = val / Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
        this.x *= mag;
        this.y *= mag;
        this.z *= mag;
        this.w *= mag;
    };
    /**
     * Used to trace the values of a quaternion.
     *
     * @return A string representation of the quaternion object.
     */
    Quaternion.prototype.toString = function () {
        return "{x:" + this.x + " y:" + this.y + " z:" + this.z + " w:" + this.w + "}";
    };
    /**
     * Converts the quaternion to a Matrix3D object representing an equivalent rotation.
     * @param target An optional Matrix3D container to store the transformation in. If not provided, a new object is created.
     * @return A Matrix3D object representing an equivalent rotation.
     */
    Quaternion.prototype.toMatrix3D = function (target) {
        if (target === void 0) { target = null; }
        var rawData = Matrix3DUtils.RAW_DATA_CONTAINER;
        var xy2 = 2.0 * this.x * this.y, xz2 = 2.0 * this.x * this.z, xw2 = 2.0 * this.x * this.w;
        var yz2 = 2.0 * this.y * this.z, yw2 = 2.0 * this.y * this.w, zw2 = 2.0 * this.z * this.w;
        var xx = this.x * this.x, yy = this.y * this.y, zz = this.z * this.z, ww = this.w * this.w;
        rawData[0] = xx - yy - zz + ww;
        rawData[4] = xy2 - zw2;
        rawData[8] = xz2 + yw2;
        rawData[12] = 0;
        rawData[1] = xy2 + zw2;
        rawData[5] = -xx + yy - zz + ww;
        rawData[9] = yz2 - xw2;
        rawData[13] = 0;
        rawData[2] = xz2 - yw2;
        rawData[6] = yz2 + xw2;
        rawData[10] = -xx - yy + zz + ww;
        rawData[14] = 0;
        rawData[3] = 0.0;
        rawData[7] = 0.0;
        rawData[11] = 0;
        rawData[15] = 1;
        if (!target)
            return new Matrix3D(rawData);
        target.copyRawDataFrom(rawData);
        return target;
    };
    /**
     * Extracts a quaternion rotation matrix out of a given Matrix3D object.
     * @param matrix The Matrix3D out of which the rotation will be extracted.
     */
    Quaternion.prototype.fromMatrix = function (matrix) {
        var v = matrix.decompose(Orientation3D.QUATERNION)[1];
        this.x = v.x;
        this.y = v.y;
        this.z = v.z;
        this.w = v.w;
    };
    /**
     * Converts the quaternion to a Vector.&lt;Number&gt; matrix representation of a rotation equivalent to this quaternion.
     * @param target The Vector.&lt;Number&gt; to contain the raw matrix data.
     * @param exclude4thRow If true, the last row will be omitted, and a 4x3 matrix will be generated instead of a 4x4.
     */
    Quaternion.prototype.toRawData = function (target, exclude4thRow) {
        if (exclude4thRow === void 0) { exclude4thRow = false; }
        var xy2 = 2.0 * this.x * this.y, xz2 = 2.0 * this.x * this.z, xw2 = 2.0 * this.x * this.w;
        var yz2 = 2.0 * this.y * this.z, yw2 = 2.0 * this.y * this.w, zw2 = 2.0 * this.z * this.w;
        var xx = this.x * this.x, yy = this.y * this.y, zz = this.z * this.z, ww = this.w * this.w;
        target[0] = xx - yy - zz + ww;
        target[1] = xy2 - zw2;
        target[2] = xz2 + yw2;
        target[4] = xy2 + zw2;
        target[5] = -xx + yy - zz + ww;
        target[6] = yz2 - xw2;
        target[8] = xz2 - yw2;
        target[9] = yz2 + xw2;
        target[10] = -xx - yy + zz + ww;
        target[3] = target[7] = target[11] = 0;
        if (!exclude4thRow) {
            target[12] = target[13] = target[14] = 0;
            target[15] = 1;
        }
    };
    /**
     * Clones the quaternion.
     * @return An exact duplicate of the current Quaternion.
     */
    Quaternion.prototype.clone = function () {
        return new Quaternion(this.x, this.y, this.z, this.w);
    };
    /**
     * Rotates a point.
     * @param vector The Vector3D object to be rotated.
     * @param target An optional Vector3D object that will contain the rotated coordinates. If not provided, a new object will be created.
     * @return A Vector3D object containing the rotated point.
     */
    Quaternion.prototype.rotatePoint = function (vector, target) {
        if (target === void 0) { target = null; }
        var x1, y1, z1, w1;
        var x2 = vector.x, y2 = vector.y, z2 = vector.z;
        //target ||= new Vector3D();
        if (target === null) {
            target = new Vector3D();
        }
        // p*q'
        w1 = -this.x * x2 - this.y * y2 - this.z * z2;
        x1 = this.w * x2 + this.y * z2 - this.z * y2;
        y1 = this.w * y2 - this.x * z2 + this.z * x2;
        z1 = this.w * z2 + this.x * y2 - this.y * x2;
        target.x = -w1 * this.x + x1 * this.w - y1 * this.z + z1 * this.y;
        target.y = -w1 * this.y + x1 * this.z + y1 * this.w - z1 * this.x;
        target.z = -w1 * this.z - x1 * this.y + y1 * this.x + z1 * this.w;
        return target;
    };
    /**
     * Copies the data from a quaternion into this instance.
     * @param q The quaternion to copy from.
     */
    Quaternion.prototype.copyFrom = function (q) {
        this.x = q.x;
        this.y = q.y;
        this.z = q.z;
        this.w = q.w;
    };
    return Quaternion;
})();
module.exports = Quaternion;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1jb3JlL2xpYi9nZW9tL1F1YXRlcm5pb24udHMiXSwibmFtZXMiOlsiUXVhdGVybmlvbiIsIlF1YXRlcm5pb24uY29uc3RydWN0b3IiLCJRdWF0ZXJuaW9uLm1hZ25pdHVkZSIsIlF1YXRlcm5pb24ubXVsdGlwbHkiLCJRdWF0ZXJuaW9uLm11bHRpcGx5VmVjdG9yIiwiUXVhdGVybmlvbi5mcm9tQXhpc0FuZ2xlIiwiUXVhdGVybmlvbi5zbGVycCIsIlF1YXRlcm5pb24ubGVycCIsIlF1YXRlcm5pb24uZnJvbUV1bGVyQW5nbGVzIiwiUXVhdGVybmlvbi50b0V1bGVyQW5nbGVzIiwiUXVhdGVybmlvbi5ub3JtYWxpemUiLCJRdWF0ZXJuaW9uLnRvU3RyaW5nIiwiUXVhdGVybmlvbi50b01hdHJpeDNEIiwiUXVhdGVybmlvbi5mcm9tTWF0cml4IiwiUXVhdGVybmlvbi50b1Jhd0RhdGEiLCJRdWF0ZXJuaW9uLmNsb25lIiwiUXVhdGVybmlvbi5yb3RhdGVQb2ludCIsIlF1YXRlcm5pb24uY29weUZyb20iXSwibWFwcGluZ3MiOiJBQUFBLElBQU8sYUFBYSxXQUFZLG9DQUFvQyxDQUFDLENBQUM7QUFDdEUsSUFBTyxhQUFhLFdBQVksb0NBQW9DLENBQUMsQ0FBQztBQUN0RSxJQUFPLFFBQVEsV0FBYywrQkFBK0IsQ0FBQyxDQUFDO0FBQzlELElBQU8sUUFBUSxXQUFjLCtCQUErQixDQUFDLENBQUM7QUFFOUQsQUFHQTs7R0FERztJQUNHLFVBQVU7SUFzQmZBOzs7Ozs7T0FNR0E7SUFDSEEsU0E3QktBLFVBQVVBLENBNkJIQSxDQUFZQSxFQUFFQSxDQUFZQSxFQUFFQSxDQUFZQSxFQUFFQSxDQUFZQTtRQUF0REMsaUJBQVlBLEdBQVpBLEtBQVlBO1FBQUVBLGlCQUFZQSxHQUFaQSxLQUFZQTtRQUFFQSxpQkFBWUEsR0FBWkEsS0FBWUE7UUFBRUEsaUJBQVlBLEdBQVpBLEtBQVlBO1FBM0JsRUE7O1dBRUdBO1FBQ0lBLE1BQUNBLEdBQVVBLENBQUNBLENBQUNBO1FBRXBCQTs7V0FFR0E7UUFDSUEsTUFBQ0EsR0FBVUEsQ0FBQ0EsQ0FBQ0E7UUFFcEJBOztXQUVHQTtRQUNJQSxNQUFDQSxHQUFVQSxDQUFDQSxDQUFDQTtRQUVwQkE7O1dBRUdBO1FBQ0lBLE1BQUNBLEdBQVVBLENBQUNBLENBQUNBO1FBV25CQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNYQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNYQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNYQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtJQUNaQSxDQUFDQTtJQUtERCxzQkFBV0EsaUNBQVNBO1FBSHBCQTs7V0FFR0E7YUFDSEE7WUFFQ0UsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDakZBLENBQUNBOzs7T0FBQUY7SUFFREE7Ozs7O09BS0dBO0lBQ0lBLDZCQUFRQSxHQUFmQSxVQUFnQkEsRUFBYUEsRUFBRUEsRUFBYUE7UUFFM0NHLElBQUlBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1FBQzNFQSxJQUFJQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUUzRUEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsQ0FBQ0E7UUFDdkNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLENBQUNBO1FBQ3ZDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxDQUFDQTtRQUN2Q0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsQ0FBQ0E7SUFDeENBLENBQUNBO0lBRU1ILG1DQUFjQSxHQUFyQkEsVUFBc0JBLE1BQWVBLEVBQUVBLE1BQXdCQTtRQUF4Qkksc0JBQXdCQSxHQUF4QkEsYUFBd0JBO1FBRTlEQSxBQUNBQSw4QkFEOEJBO1FBQzlCQSxFQUFFQSxDQUFDQSxDQUFDQSxNQUFNQSxLQUFLQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNyQkEsTUFBTUEsR0FBR0EsSUFBSUEsVUFBVUEsRUFBRUEsQ0FBQ0E7UUFFM0JBLENBQUNBO1FBR0RBLElBQUlBLEVBQUVBLEdBQVVBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO1FBQ3pCQSxJQUFJQSxFQUFFQSxHQUFVQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUN6QkEsSUFBSUEsRUFBRUEsR0FBVUEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFekJBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLENBQUNBO1FBQzlDQSxNQUFNQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxDQUFDQTtRQUM3Q0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsQ0FBQ0E7UUFDN0NBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLENBQUNBO1FBRTdDQSxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQTtJQUNmQSxDQUFDQTtJQUVESjs7Ozs7T0FLR0E7SUFDSUEsa0NBQWFBLEdBQXBCQSxVQUFxQkEsSUFBYUEsRUFBRUEsS0FBWUE7UUFFL0NLLElBQUlBLEtBQUtBLEdBQVVBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLEdBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQ3JDQSxJQUFJQSxLQUFLQSxHQUFVQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxHQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUVyQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsS0FBS0EsQ0FBQ0E7UUFDdEJBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEtBQUtBLENBQUNBO1FBQ3RCQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxLQUFLQSxDQUFDQTtRQUN0QkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsS0FBS0EsQ0FBQ0E7UUFFZkEsSUFBSUEsQ0FBQ0EsU0FBU0EsRUFBRUEsQ0FBQ0E7SUFDbEJBLENBQUNBO0lBRURMOzs7OztPQUtHQTtJQUNJQSwwQkFBS0EsR0FBWkEsVUFBYUEsRUFBYUEsRUFBRUEsRUFBYUEsRUFBRUEsQ0FBUUE7UUFFbERNLElBQUlBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1FBQzNFQSxJQUFJQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUMzRUEsSUFBSUEsR0FBR0EsR0FBVUEsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsQ0FBQ0E7UUFFL0NBLEFBQ0FBLHFCQURxQkE7UUFDckJBLEVBQUVBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBQ2JBLEdBQUdBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBO1lBQ1hBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1lBQ1RBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1lBQ1RBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1lBQ1RBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1FBQ1ZBLENBQUNBO1FBRURBLEVBQUVBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1lBQ2hCQSxBQUNBQSw2QkFENkJBO2dCQUN6QkEsS0FBS0EsR0FBVUEsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7WUFDbENBLElBQUlBLENBQUNBLEdBQVVBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBO1lBQ2pDQSxJQUFJQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxHQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxDQUFDQTtZQUMxQ0EsSUFBSUEsRUFBRUEsR0FBVUEsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsR0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDcENBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLENBQUNBO1lBQ3ZCQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxDQUFDQTtZQUN2QkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsQ0FBQ0E7WUFDdkJBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLENBQUNBO1FBQ3hCQSxDQUFDQTtRQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtZQUNQQSxBQUNBQSwrQ0FEK0NBO1lBQy9DQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUMxQkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBR0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDMUJBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBLENBQUNBO1lBQzFCQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUMxQkEsSUFBSUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDOUZBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLEdBQUdBLENBQUNBO1lBQ2RBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLEdBQUdBLENBQUNBO1lBQ2RBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLEdBQUdBLENBQUNBO1lBQ2RBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLEdBQUdBLENBQUNBO1FBQ2ZBLENBQUNBO0lBQ0ZBLENBQUNBO0lBRUROOzs7OztPQUtHQTtJQUNJQSx5QkFBSUEsR0FBWEEsVUFBWUEsRUFBYUEsRUFBRUEsRUFBYUEsRUFBRUEsQ0FBUUE7UUFFakRPLElBQUlBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1FBQzNFQSxJQUFJQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUMzRUEsSUFBSUEsR0FBVUEsQ0FBQ0E7UUFFZkEsQUFDQUEscUJBRHFCQTtRQUNyQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDdkNBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1lBQ1RBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1lBQ1RBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1lBQ1RBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO1FBQ1ZBLENBQUNBO1FBRURBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBLENBQUNBO1FBQzFCQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQSxDQUFDQTtRQUMxQkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBR0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7UUFDMUJBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBLENBQUNBO1FBRTFCQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNuRkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7UUFDZEEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7UUFDZEEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7UUFDZEEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7SUFDZkEsQ0FBQ0E7SUFFRFA7Ozs7OztPQU1HQTtJQUNJQSxvQ0FBZUEsR0FBdEJBLFVBQXVCQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQTtRQUVyRFEsSUFBSUEsS0FBS0EsR0FBVUEsRUFBRUEsR0FBQ0EsRUFBRUEsRUFBRUEsS0FBS0EsR0FBVUEsRUFBRUEsR0FBQ0EsRUFBRUEsRUFBRUEsS0FBS0EsR0FBVUEsRUFBRUEsR0FBQ0EsRUFBRUEsQ0FBQ0E7UUFDckVBLElBQUlBLElBQUlBLEdBQVVBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLEVBQUVBLElBQUlBLEdBQVVBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBO1FBQ2pFQSxJQUFJQSxJQUFJQSxHQUFVQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxDQUFDQSxFQUFFQSxJQUFJQSxHQUFVQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQTtRQUNqRUEsSUFBSUEsSUFBSUEsR0FBVUEsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsRUFBRUEsSUFBSUEsR0FBVUEsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0E7UUFFakVBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLEdBQUNBLElBQUlBLEdBQUNBLElBQUlBLEdBQUdBLElBQUlBLEdBQUNBLElBQUlBLEdBQUNBLElBQUlBLENBQUNBO1FBQ3pDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxHQUFDQSxJQUFJQSxHQUFDQSxJQUFJQSxHQUFHQSxJQUFJQSxHQUFDQSxJQUFJQSxHQUFDQSxJQUFJQSxDQUFDQTtRQUN6Q0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsR0FBQ0EsSUFBSUEsR0FBQ0EsSUFBSUEsR0FBR0EsSUFBSUEsR0FBQ0EsSUFBSUEsR0FBQ0EsSUFBSUEsQ0FBQ0E7UUFDekNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLEdBQUNBLElBQUlBLEdBQUNBLElBQUlBLEdBQUdBLElBQUlBLEdBQUNBLElBQUlBLEdBQUNBLElBQUlBLENBQUNBO0lBQzFDQSxDQUFDQTtJQUVEUjs7OztPQUlHQTtJQUNJQSxrQ0FBYUEsR0FBcEJBLFVBQXFCQSxNQUFzQkE7UUFBdEJTLHNCQUFzQkEsR0FBdEJBLGFBQXNCQTtRQUcxQ0EsQUFDQUEsNEJBRDRCQTtRQUM1QkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsTUFBTUEsS0FBS0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFFckJBLE1BQU1BLEdBQUdBLElBQUlBLFFBQVFBLEVBQUVBLENBQUNBO1FBRXpCQSxDQUFDQTtRQUVEQSxNQUFNQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNoR0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDeERBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLEdBQUNBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBRWhHQSxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQTtJQUNmQSxDQUFDQTtJQUVEVDs7T0FFR0E7SUFDSUEsOEJBQVNBLEdBQWhCQSxVQUFpQkEsR0FBY0E7UUFBZFUsbUJBQWNBLEdBQWRBLE9BQWNBO1FBRTlCQSxJQUFJQSxHQUFHQSxHQUFVQSxHQUFHQSxHQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUU5RkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7UUFDZEEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7UUFDZEEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7UUFDZEEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0E7SUFDZkEsQ0FBQ0E7SUFFRFY7Ozs7T0FJR0E7SUFDSUEsNkJBQVFBLEdBQWZBO1FBRUNXLE1BQU1BLENBQUNBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBO0lBQ2hGQSxDQUFDQTtJQUVEWDs7OztPQUlHQTtJQUNJQSwrQkFBVUEsR0FBakJBLFVBQWtCQSxNQUFzQkE7UUFBdEJZLHNCQUFzQkEsR0FBdEJBLGFBQXNCQTtRQUV2Q0EsSUFBSUEsT0FBT0EsR0FBWUEsYUFBYUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQTtRQUN4REEsSUFBSUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDbkdBLElBQUlBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1FBQ25HQSxJQUFJQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUUvR0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7UUFDL0JBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUdBLENBQUNBO1FBQ3ZCQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFHQSxDQUFDQTtRQUN2QkEsT0FBT0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDaEJBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUdBLENBQUNBO1FBQ3ZCQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtRQUNoQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDdkJBLE9BQU9BLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO1FBQ2hCQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFHQSxDQUFDQTtRQUN2QkEsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDdkJBLE9BQU9BLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO1FBQ2pDQSxPQUFPQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNoQkEsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDakJBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBO1FBQ2pCQSxPQUFPQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNoQkEsT0FBT0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFFaEJBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBO1lBQ1hBLE1BQU1BLENBQUNBLElBQUlBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO1FBRTlCQSxNQUFNQSxDQUFDQSxlQUFlQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQTtRQUVoQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7SUFDZkEsQ0FBQ0E7SUFFRFo7OztPQUdHQTtJQUNJQSwrQkFBVUEsR0FBakJBLFVBQWtCQSxNQUFlQTtRQUVoQ2EsSUFBSUEsQ0FBQ0EsR0FBWUEsTUFBTUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsYUFBYUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDL0RBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQ2JBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQ2JBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQ2JBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO0lBQ2RBLENBQUNBO0lBRURiOzs7O09BSUdBO0lBQ0lBLDhCQUFTQSxHQUFoQkEsVUFBaUJBLE1BQWVBLEVBQUVBLGFBQTZCQTtRQUE3QmMsNkJBQTZCQSxHQUE3QkEscUJBQTZCQTtRQUU5REEsSUFBSUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDbkdBLElBQUlBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1FBQ25HQSxJQUFJQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUUvR0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7UUFDOUJBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUdBLENBQUNBO1FBQ3RCQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFHQSxDQUFDQTtRQUN0QkEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDdEJBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO1FBQy9CQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFHQSxDQUFDQTtRQUN0QkEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDdEJBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUdBLENBQUNBO1FBQ3RCQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtRQUNoQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsTUFBTUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFFdkNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLGFBQWFBLENBQUNBLENBQUNBLENBQUNBO1lBQ3BCQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtZQUN6Q0EsTUFBTUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDaEJBLENBQUNBO0lBQ0ZBLENBQUNBO0lBRURkOzs7T0FHR0E7SUFDSUEsMEJBQUtBLEdBQVpBO1FBRUNlLE1BQU1BLENBQUNBLElBQUlBLFVBQVVBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO0lBQ3ZEQSxDQUFDQTtJQUVEZjs7Ozs7T0FLR0E7SUFDSUEsZ0NBQVdBLEdBQWxCQSxVQUFtQkEsTUFBZUEsRUFBRUEsTUFBc0JBO1FBQXRCZ0Isc0JBQXNCQSxHQUF0QkEsYUFBc0JBO1FBRXpEQSxJQUFJQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxDQUFDQTtRQUMvQ0EsSUFBSUEsRUFBRUEsR0FBVUEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsR0FBVUEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsR0FBVUEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFckVBLEFBQ0FBLDRCQUQ0QkE7UUFDNUJBLEVBQUVBLENBQUNBLENBQUNBLE1BQU1BLEtBQUtBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1lBRXJCQSxNQUFNQSxHQUFHQSxJQUFJQSxRQUFRQSxFQUFFQSxDQUFDQTtRQUV6QkEsQ0FBQ0E7UUFFREEsQUFDQUEsT0FET0E7UUFDUEEsRUFBRUEsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsQ0FBQ0E7UUFDeENBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLENBQUNBO1FBQ3ZDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxDQUFDQTtRQUN2Q0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsQ0FBQ0E7UUFFdkNBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1FBQzFEQSxNQUFNQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUMxREEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFMURBLE1BQU1BLENBQUNBLE1BQU1BLENBQUNBO0lBQ2ZBLENBQUNBO0lBRURoQjs7O09BR0dBO0lBQ0lBLDZCQUFRQSxHQUFmQSxVQUFnQkEsQ0FBWUE7UUFFM0JpQixJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNiQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNiQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNiQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUNkQSxDQUFDQTtJQUNGakIsaUJBQUNBO0FBQURBLENBclhBLEFBcVhDQSxJQUFBO0FBRUQsQUFBb0IsaUJBQVgsVUFBVSxDQUFDIiwiZmlsZSI6Imdlb20vUXVhdGVybmlvbi5qcyIsInNvdXJjZVJvb3QiOiIuLi8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTWF0cml4M0RVdGlsc1x0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9NYXRyaXgzRFV0aWxzXCIpO1xyXG5pbXBvcnQgT3JpZW50YXRpb24zRFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9PcmllbnRhdGlvbjNEXCIpO1xyXG5pbXBvcnQgTWF0cml4M0RcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9nZW9tL01hdHJpeDNEXCIpO1xyXG5pbXBvcnQgVmVjdG9yM0RcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9nZW9tL1ZlY3RvcjNEXCIpO1xyXG5cclxuLyoqXHJcbiAqIEEgUXVhdGVybmlvbiBvYmplY3Qgd2hpY2ggY2FuIGJlIHVzZWQgdG8gcmVwcmVzZW50IHJvdGF0aW9ucy5cclxuICovXHJcbmNsYXNzIFF1YXRlcm5pb25cclxue1xyXG5cdC8qKlxyXG5cdCAqIFRoZSB4IHZhbHVlIG9mIHRoZSBxdWF0ZXJuaW9uLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyB4Om51bWJlciA9IDA7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSB5IHZhbHVlIG9mIHRoZSBxdWF0ZXJuaW9uLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyB5Om51bWJlciA9IDA7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSB6IHZhbHVlIG9mIHRoZSBxdWF0ZXJuaW9uLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyB6Om51bWJlciA9IDA7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSB3IHZhbHVlIG9mIHRoZSBxdWF0ZXJuaW9uLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyB3Om51bWJlciA9IDE7XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZXMgYSBuZXcgUXVhdGVybmlvbiBvYmplY3QuXHJcblx0ICogQHBhcmFtIHggVGhlIHggdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uXHJcblx0ICogQHBhcmFtIHkgVGhlIHkgdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uXHJcblx0ICogQHBhcmFtIHogVGhlIHogdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uXHJcblx0ICogQHBhcmFtIHcgVGhlIHcgdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uXHJcblx0ICovXHJcblx0Y29uc3RydWN0b3IoeDpudW1iZXIgPSAwLCB5Om51bWJlciA9IDAsIHo6bnVtYmVyID0gMCwgdzpudW1iZXIgPSAxKVxyXG5cdHtcclxuXHRcdHRoaXMueCA9IHg7XHJcblx0XHR0aGlzLnkgPSB5O1xyXG5cdFx0dGhpcy56ID0gejtcclxuXHRcdHRoaXMudyA9IHc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIHRoZSBtYWduaXR1ZGUgb2YgdGhlIHF1YXRlcm5pb24gb2JqZWN0LlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBnZXQgbWFnbml0dWRlKCk6bnVtYmVyXHJcblx0e1xyXG5cdFx0cmV0dXJuIE1hdGguc3FydCh0aGlzLncqdGhpcy53ICsgdGhpcy54KnRoaXMueCArIHRoaXMueSp0aGlzLnkgKyB0aGlzLnoqdGhpcy56KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbGxzIHRoZSBxdWF0ZXJuaW9uIG9iamVjdCB3aXRoIHRoZSByZXN1bHQgZnJvbSBhIG11bHRpcGxpY2F0aW9uIG9mIHR3byBxdWF0ZXJuaW9uIG9iamVjdHMuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gICAgcWEgICAgVGhlIGZpcnN0IHF1YXRlcm5pb24gaW4gdGhlIG11bHRpcGxpY2F0aW9uLlxyXG5cdCAqIEBwYXJhbSAgICBxYiAgICBUaGUgc2Vjb25kIHF1YXRlcm5pb24gaW4gdGhlIG11bHRpcGxpY2F0aW9uLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBtdWx0aXBseShxYTpRdWF0ZXJuaW9uLCBxYjpRdWF0ZXJuaW9uKVxyXG5cdHtcclxuXHRcdHZhciB3MTpudW1iZXIgPSBxYS53LCB4MTpudW1iZXIgPSBxYS54LCB5MTpudW1iZXIgPSBxYS55LCB6MTpudW1iZXIgPSBxYS56O1xyXG5cdFx0dmFyIHcyOm51bWJlciA9IHFiLncsIHgyOm51bWJlciA9IHFiLngsIHkyOm51bWJlciA9IHFiLnksIHoyOm51bWJlciA9IHFiLno7XHJcblxyXG5cdFx0dGhpcy53ID0gdzEqdzIgLSB4MSp4MiAtIHkxKnkyIC0gejEqejI7XHJcblx0XHR0aGlzLnggPSB3MSp4MiArIHgxKncyICsgeTEqejIgLSB6MSp5MjtcclxuXHRcdHRoaXMueSA9IHcxKnkyIC0geDEqejIgKyB5MSp3MiArIHoxKngyO1xyXG5cdFx0dGhpcy56ID0gdzEqejIgKyB4MSp5MiAtIHkxKngyICsgejEqdzI7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgbXVsdGlwbHlWZWN0b3IodmVjdG9yOlZlY3RvcjNELCB0YXJnZXQ6UXVhdGVybmlvbiA9IG51bGwpOlF1YXRlcm5pb25cclxuXHR7XHJcblx0XHQvL3RhcmdldCB8fD0gbmV3IFF1YXRlcm5pb24oKTtcclxuXHRcdGlmICh0YXJnZXQgPT09IG51bGwpIHtcclxuXHRcdFx0dGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKTtcclxuXHJcblx0XHR9XHJcblxyXG5cclxuXHRcdHZhciB4MjpudW1iZXIgPSB2ZWN0b3IueDtcclxuXHRcdHZhciB5MjpudW1iZXIgPSB2ZWN0b3IueTtcclxuXHRcdHZhciB6MjpudW1iZXIgPSB2ZWN0b3IuejtcclxuXHJcblx0XHR0YXJnZXQudyA9IC10aGlzLngqeDIgLSB0aGlzLnkqeTIgLSB0aGlzLnoqejI7XHJcblx0XHR0YXJnZXQueCA9IHRoaXMudyp4MiArIHRoaXMueSp6MiAtIHRoaXMueip5MjtcclxuXHRcdHRhcmdldC55ID0gdGhpcy53KnkyIC0gdGhpcy54KnoyICsgdGhpcy56KngyO1xyXG5cdFx0dGFyZ2V0LnogPSB0aGlzLncqejIgKyB0aGlzLngqeTIgLSB0aGlzLnkqeDI7XHJcblxyXG5cdFx0cmV0dXJuIHRhcmdldDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbGxzIHRoZSBxdWF0ZXJuaW9uIG9iamVjdCB3aXRoIHZhbHVlcyByZXByZXNlbnRpbmcgdGhlIGdpdmVuIHJvdGF0aW9uIGFyb3VuZCBhIHZlY3Rvci5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSAgICBheGlzICAgIFRoZSBheGlzIGFyb3VuZCB3aGljaCB0byByb3RhdGVcclxuXHQgKiBAcGFyYW0gICAgYW5nbGUgICAgVGhlIGFuZ2xlIGluIHJhZGlhbnMgb2YgdGhlIHJvdGF0aW9uLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBmcm9tQXhpc0FuZ2xlKGF4aXM6VmVjdG9yM0QsIGFuZ2xlOm51bWJlcilcclxuXHR7XHJcblx0XHR2YXIgc2luX2E6bnVtYmVyID0gTWF0aC5zaW4oYW5nbGUvMik7XHJcblx0XHR2YXIgY29zX2E6bnVtYmVyID0gTWF0aC5jb3MoYW5nbGUvMik7XHJcblxyXG5cdFx0dGhpcy54ID0gYXhpcy54KnNpbl9hO1xyXG5cdFx0dGhpcy55ID0gYXhpcy55KnNpbl9hO1xyXG5cdFx0dGhpcy56ID0gYXhpcy56KnNpbl9hO1xyXG5cdFx0dGhpcy53ID0gY29zX2E7XHJcblxyXG5cdFx0dGhpcy5ub3JtYWxpemUoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNwaGVyaWNhbGx5IGludGVycG9sYXRlcyBiZXR3ZWVuIHR3byBxdWF0ZXJuaW9ucywgcHJvdmlkaW5nIGFuIGludGVycG9sYXRpb24gYmV0d2VlbiByb3RhdGlvbnMgd2l0aCBjb25zdGFudCBhbmdsZSBjaGFuZ2UgcmF0ZS5cclxuXHQgKiBAcGFyYW0gcWEgVGhlIGZpcnN0IHF1YXRlcm5pb24gdG8gaW50ZXJwb2xhdGUuXHJcblx0ICogQHBhcmFtIHFiIFRoZSBzZWNvbmQgcXVhdGVybmlvbiB0byBpbnRlcnBvbGF0ZS5cclxuXHQgKiBAcGFyYW0gdCBUaGUgaW50ZXJwb2xhdGlvbiB3ZWlnaHQsIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzbGVycChxYTpRdWF0ZXJuaW9uLCBxYjpRdWF0ZXJuaW9uLCB0Om51bWJlcilcclxuXHR7XHJcblx0XHR2YXIgdzE6bnVtYmVyID0gcWEudywgeDE6bnVtYmVyID0gcWEueCwgeTE6bnVtYmVyID0gcWEueSwgejE6bnVtYmVyID0gcWEuejtcclxuXHRcdHZhciB3MjpudW1iZXIgPSBxYi53LCB4MjpudW1iZXIgPSBxYi54LCB5MjpudW1iZXIgPSBxYi55LCB6MjpudW1iZXIgPSBxYi56O1xyXG5cdFx0dmFyIGRvdDpudW1iZXIgPSB3MSp3MiArIHgxKngyICsgeTEqeTIgKyB6MSp6MjtcclxuXHJcblx0XHQvLyBzaG9ydGVzdCBkaXJlY3Rpb25cclxuXHRcdGlmIChkb3QgPCAwKSB7XHJcblx0XHRcdGRvdCA9IC1kb3Q7XHJcblx0XHRcdHcyID0gLXcyO1xyXG5cdFx0XHR4MiA9IC14MjtcclxuXHRcdFx0eTIgPSAteTI7XHJcblx0XHRcdHoyID0gLXoyO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChkb3QgPCAwLjk1KSB7XHJcblx0XHRcdC8vIGludGVycG9sYXRlIGFuZ2xlIGxpbmVhcmx5XHJcblx0XHRcdHZhciBhbmdsZTpudW1iZXIgPSBNYXRoLmFjb3MoZG90KTtcclxuXHRcdFx0dmFyIHM6bnVtYmVyID0gMS9NYXRoLnNpbihhbmdsZSk7XHJcblx0XHRcdHZhciBzMTpudW1iZXIgPSBNYXRoLnNpbihhbmdsZSooMSAtIHQpKSpzO1xyXG5cdFx0XHR2YXIgczI6bnVtYmVyID0gTWF0aC5zaW4oYW5nbGUqdCkqcztcclxuXHRcdFx0dGhpcy53ID0gdzEqczEgKyB3MipzMjtcclxuXHRcdFx0dGhpcy54ID0geDEqczEgKyB4MipzMjtcclxuXHRcdFx0dGhpcy55ID0geTEqczEgKyB5MipzMjtcclxuXHRcdFx0dGhpcy56ID0gejEqczEgKyB6MipzMjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIG5lYXJseSBpZGVudGljYWwgYW5nbGUsIGludGVycG9sYXRlIGxpbmVhcmx5XHJcblx0XHRcdHRoaXMudyA9IHcxICsgdCoodzIgLSB3MSk7XHJcblx0XHRcdHRoaXMueCA9IHgxICsgdCooeDIgLSB4MSk7XHJcblx0XHRcdHRoaXMueSA9IHkxICsgdCooeTIgLSB5MSk7XHJcblx0XHRcdHRoaXMueiA9IHoxICsgdCooejIgLSB6MSk7XHJcblx0XHRcdHZhciBsZW46bnVtYmVyID0gMS4wL01hdGguc3FydCh0aGlzLncqdGhpcy53ICsgdGhpcy54KnRoaXMueCArIHRoaXMueSp0aGlzLnkgKyB0aGlzLnoqdGhpcy56KTtcclxuXHRcdFx0dGhpcy53ICo9IGxlbjtcclxuXHRcdFx0dGhpcy54ICo9IGxlbjtcclxuXHRcdFx0dGhpcy55ICo9IGxlbjtcclxuXHRcdFx0dGhpcy56ICo9IGxlbjtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExpbmVhcmx5IGludGVycG9sYXRlcyBiZXR3ZWVuIHR3byBxdWF0ZXJuaW9ucy5cclxuXHQgKiBAcGFyYW0gcWEgVGhlIGZpcnN0IHF1YXRlcm5pb24gdG8gaW50ZXJwb2xhdGUuXHJcblx0ICogQHBhcmFtIHFiIFRoZSBzZWNvbmQgcXVhdGVybmlvbiB0byBpbnRlcnBvbGF0ZS5cclxuXHQgKiBAcGFyYW0gdCBUaGUgaW50ZXJwb2xhdGlvbiB3ZWlnaHQsIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBsZXJwKHFhOlF1YXRlcm5pb24sIHFiOlF1YXRlcm5pb24sIHQ6bnVtYmVyKVxyXG5cdHtcclxuXHRcdHZhciB3MTpudW1iZXIgPSBxYS53LCB4MTpudW1iZXIgPSBxYS54LCB5MTpudW1iZXIgPSBxYS55LCB6MTpudW1iZXIgPSBxYS56O1xyXG5cdFx0dmFyIHcyOm51bWJlciA9IHFiLncsIHgyOm51bWJlciA9IHFiLngsIHkyOm51bWJlciA9IHFiLnksIHoyOm51bWJlciA9IHFiLno7XHJcblx0XHR2YXIgbGVuOm51bWJlcjtcclxuXHJcblx0XHQvLyBzaG9ydGVzdCBkaXJlY3Rpb25cclxuXHRcdGlmICh3MSp3MiArIHgxKngyICsgeTEqeTIgKyB6MSp6MiA8IDApIHtcclxuXHRcdFx0dzIgPSAtdzI7XHJcblx0XHRcdHgyID0gLXgyO1xyXG5cdFx0XHR5MiA9IC15MjtcclxuXHRcdFx0ejIgPSAtejI7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy53ID0gdzEgKyB0Kih3MiAtIHcxKTtcclxuXHRcdHRoaXMueCA9IHgxICsgdCooeDIgLSB4MSk7XHJcblx0XHR0aGlzLnkgPSB5MSArIHQqKHkyIC0geTEpO1xyXG5cdFx0dGhpcy56ID0gejEgKyB0Kih6MiAtIHoxKTtcclxuXHJcblx0XHRsZW4gPSAxLjAvTWF0aC5zcXJ0KHRoaXMudyp0aGlzLncgKyB0aGlzLngqdGhpcy54ICsgdGhpcy55KnRoaXMueSArIHRoaXMueip0aGlzLnopO1xyXG5cdFx0dGhpcy53ICo9IGxlbjtcclxuXHRcdHRoaXMueCAqPSBsZW47XHJcblx0XHR0aGlzLnkgKj0gbGVuO1xyXG5cdFx0dGhpcy56ICo9IGxlbjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbGxzIHRoZSBxdWF0ZXJuaW9uIG9iamVjdCB3aXRoIHZhbHVlcyByZXByZXNlbnRpbmcgdGhlIGdpdmVuIGV1bGVyIHJvdGF0aW9uLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtICAgIGF4ICAgICAgICBUaGUgYW5nbGUgaW4gcmFkaWFucyBvZiB0aGUgcm90YXRpb24gYXJvdW5kIHRoZSBheCBheGlzLlxyXG5cdCAqIEBwYXJhbSAgICBheSAgICAgICAgVGhlIGFuZ2xlIGluIHJhZGlhbnMgb2YgdGhlIHJvdGF0aW9uIGFyb3VuZCB0aGUgYXkgYXhpcy5cclxuXHQgKiBAcGFyYW0gICAgYXogICAgICAgIFRoZSBhbmdsZSBpbiByYWRpYW5zIG9mIHRoZSByb3RhdGlvbiBhcm91bmQgdGhlIGF6IGF4aXMuXHJcblx0ICovXHJcblx0cHVibGljIGZyb21FdWxlckFuZ2xlcyhheDpudW1iZXIsIGF5Om51bWJlciwgYXo6bnVtYmVyKVxyXG5cdHtcclxuXHRcdHZhciBoYWxmWDpudW1iZXIgPSBheCouNSwgaGFsZlk6bnVtYmVyID0gYXkqLjUsIGhhbGZaOm51bWJlciA9IGF6Ki41O1xyXG5cdFx0dmFyIGNvc1g6bnVtYmVyID0gTWF0aC5jb3MoaGFsZlgpLCBzaW5YOm51bWJlciA9IE1hdGguc2luKGhhbGZYKTtcclxuXHRcdHZhciBjb3NZOm51bWJlciA9IE1hdGguY29zKGhhbGZZKSwgc2luWTpudW1iZXIgPSBNYXRoLnNpbihoYWxmWSk7XHJcblx0XHR2YXIgY29zWjpudW1iZXIgPSBNYXRoLmNvcyhoYWxmWiksIHNpblo6bnVtYmVyID0gTWF0aC5zaW4oaGFsZlopO1xyXG5cclxuXHRcdHRoaXMudyA9IGNvc1gqY29zWSpjb3NaICsgc2luWCpzaW5ZKnNpblo7XHJcblx0XHR0aGlzLnggPSBzaW5YKmNvc1kqY29zWiAtIGNvc1gqc2luWSpzaW5aO1xyXG5cdFx0dGhpcy55ID0gY29zWCpzaW5ZKmNvc1ogKyBzaW5YKmNvc1kqc2luWjtcclxuXHRcdHRoaXMueiA9IGNvc1gqY29zWSpzaW5aIC0gc2luWCpzaW5ZKmNvc1o7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGaWxscyBhIHRhcmdldCBWZWN0b3IzRCBvYmplY3Qgd2l0aCB0aGUgRXVsZXIgYW5nbGVzIHRoYXQgZm9ybSB0aGUgcm90YXRpb24gcmVwcmVzZW50ZWQgYnkgdGhpcyBxdWF0ZXJuaW9uLlxyXG5cdCAqIEBwYXJhbSB0YXJnZXQgQW4gb3B0aW9uYWwgVmVjdG9yM0Qgb2JqZWN0IHRvIGNvbnRhaW4gdGhlIEV1bGVyIGFuZ2xlcy4gSWYgbm90IHByb3ZpZGVkLCBhIG5ldyBvYmplY3QgaXMgY3JlYXRlZC5cclxuXHQgKiBAcmV0dXJuIFRoZSBWZWN0b3IzRCBjb250YWluaW5nIHRoZSBFdWxlciBhbmdsZXMuXHJcblx0ICovXHJcblx0cHVibGljIHRvRXVsZXJBbmdsZXModGFyZ2V0OlZlY3RvcjNEID0gbnVsbCk6VmVjdG9yM0RcclxuXHR7XHJcblxyXG5cdFx0Ly90YXJnZXQgfHw9IG5ldyBWZWN0b3IzRCgpO1xyXG5cdFx0aWYgKHRhcmdldCA9PT0gbnVsbCkge1xyXG5cclxuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjNEKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHRhcmdldC54ID0gTWF0aC5hdGFuMigyKih0aGlzLncqdGhpcy54ICsgdGhpcy55KnRoaXMueiksIDEgLSAyKih0aGlzLngqdGhpcy54ICsgdGhpcy55KnRoaXMueSkpO1xyXG5cdFx0dGFyZ2V0LnkgPSBNYXRoLmFzaW4oMioodGhpcy53KnRoaXMueSAtIHRoaXMueip0aGlzLngpKTtcclxuXHRcdHRhcmdldC56ID0gTWF0aC5hdGFuMigyKih0aGlzLncqdGhpcy56ICsgdGhpcy54KnRoaXMueSksIDEgLSAyKih0aGlzLnkqdGhpcy55ICsgdGhpcy56KnRoaXMueikpO1xyXG5cclxuXHRcdHJldHVybiB0YXJnZXQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBOb3JtYWxpc2VzIHRoZSBxdWF0ZXJuaW9uIG9iamVjdC5cclxuXHQgKi9cclxuXHRwdWJsaWMgbm9ybWFsaXplKHZhbDpudW1iZXIgPSAxKVxyXG5cdHtcclxuXHRcdHZhciBtYWc6bnVtYmVyID0gdmFsL01hdGguc3FydCh0aGlzLngqdGhpcy54ICsgdGhpcy55KnRoaXMueSArIHRoaXMueip0aGlzLnogKyB0aGlzLncqdGhpcy53KTtcclxuXHJcblx0XHR0aGlzLnggKj0gbWFnO1xyXG5cdFx0dGhpcy55ICo9IG1hZztcclxuXHRcdHRoaXMueiAqPSBtYWc7XHJcblx0XHR0aGlzLncgKj0gbWFnO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVXNlZCB0byB0cmFjZSB0aGUgdmFsdWVzIG9mIGEgcXVhdGVybmlvbi5cclxuXHQgKlxyXG5cdCAqIEByZXR1cm4gQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHF1YXRlcm5pb24gb2JqZWN0LlxyXG5cdCAqL1xyXG5cdHB1YmxpYyB0b1N0cmluZygpOnN0cmluZ1xyXG5cdHtcclxuXHRcdHJldHVybiBcInt4OlwiICsgdGhpcy54ICsgXCIgeTpcIiArIHRoaXMueSArIFwiIHo6XCIgKyB0aGlzLnogKyBcIiB3OlwiICsgdGhpcy53ICsgXCJ9XCI7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0cyB0aGUgcXVhdGVybmlvbiB0byBhIE1hdHJpeDNEIG9iamVjdCByZXByZXNlbnRpbmcgYW4gZXF1aXZhbGVudCByb3RhdGlvbi5cclxuXHQgKiBAcGFyYW0gdGFyZ2V0IEFuIG9wdGlvbmFsIE1hdHJpeDNEIGNvbnRhaW5lciB0byBzdG9yZSB0aGUgdHJhbnNmb3JtYXRpb24gaW4uIElmIG5vdCBwcm92aWRlZCwgYSBuZXcgb2JqZWN0IGlzIGNyZWF0ZWQuXHJcblx0ICogQHJldHVybiBBIE1hdHJpeDNEIG9iamVjdCByZXByZXNlbnRpbmcgYW4gZXF1aXZhbGVudCByb3RhdGlvbi5cclxuXHQgKi9cclxuXHRwdWJsaWMgdG9NYXRyaXgzRCh0YXJnZXQ6TWF0cml4M0QgPSBudWxsKTpNYXRyaXgzRFxyXG5cdHtcclxuXHRcdHZhciByYXdEYXRhOm51bWJlcltdID0gTWF0cml4M0RVdGlscy5SQVdfREFUQV9DT05UQUlORVI7XHJcblx0XHR2YXIgeHkyOm51bWJlciA9IDIuMCp0aGlzLngqdGhpcy55LCB4ejI6bnVtYmVyID0gMi4wKnRoaXMueCp0aGlzLnosIHh3MjpudW1iZXIgPSAyLjAqdGhpcy54KnRoaXMudztcclxuXHRcdHZhciB5ejI6bnVtYmVyID0gMi4wKnRoaXMueSp0aGlzLnosIHl3MjpudW1iZXIgPSAyLjAqdGhpcy55KnRoaXMudywgencyOm51bWJlciA9IDIuMCp0aGlzLnoqdGhpcy53O1xyXG5cdFx0dmFyIHh4Om51bWJlciA9IHRoaXMueCp0aGlzLngsIHl5Om51bWJlciA9IHRoaXMueSp0aGlzLnksIHp6Om51bWJlciA9IHRoaXMueip0aGlzLnosIHd3Om51bWJlciA9IHRoaXMudyp0aGlzLnc7XHJcblxyXG5cdFx0cmF3RGF0YVswXSA9IHh4IC0geXkgLSB6eiArIHd3O1xyXG5cdFx0cmF3RGF0YVs0XSA9IHh5MiAtIHp3MjtcclxuXHRcdHJhd0RhdGFbOF0gPSB4ejIgKyB5dzI7XHJcblx0XHRyYXdEYXRhWzEyXSA9IDA7XHJcblx0XHRyYXdEYXRhWzFdID0geHkyICsgencyO1xyXG5cdFx0cmF3RGF0YVs1XSA9IC14eCArIHl5IC0genogKyB3dztcclxuXHRcdHJhd0RhdGFbOV0gPSB5ejIgLSB4dzI7XHJcblx0XHRyYXdEYXRhWzEzXSA9IDA7XHJcblx0XHRyYXdEYXRhWzJdID0geHoyIC0geXcyO1xyXG5cdFx0cmF3RGF0YVs2XSA9IHl6MiArIHh3MjtcclxuXHRcdHJhd0RhdGFbMTBdID0gLXh4IC0geXkgKyB6eiArIHd3O1xyXG5cdFx0cmF3RGF0YVsxNF0gPSAwO1xyXG5cdFx0cmF3RGF0YVszXSA9IDAuMDtcclxuXHRcdHJhd0RhdGFbN10gPSAwLjA7XHJcblx0XHRyYXdEYXRhWzExXSA9IDA7XHJcblx0XHRyYXdEYXRhWzE1XSA9IDE7XHJcblxyXG5cdFx0aWYgKCF0YXJnZXQpXHJcblx0XHRcdHJldHVybiBuZXcgTWF0cml4M0QocmF3RGF0YSk7XHJcblxyXG5cdFx0dGFyZ2V0LmNvcHlSYXdEYXRhRnJvbShyYXdEYXRhKTtcclxuXHJcblx0XHRyZXR1cm4gdGFyZ2V0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXh0cmFjdHMgYSBxdWF0ZXJuaW9uIHJvdGF0aW9uIG1hdHJpeCBvdXQgb2YgYSBnaXZlbiBNYXRyaXgzRCBvYmplY3QuXHJcblx0ICogQHBhcmFtIG1hdHJpeCBUaGUgTWF0cml4M0Qgb3V0IG9mIHdoaWNoIHRoZSByb3RhdGlvbiB3aWxsIGJlIGV4dHJhY3RlZC5cclxuXHQgKi9cclxuXHRwdWJsaWMgZnJvbU1hdHJpeChtYXRyaXg6TWF0cml4M0QpXHJcblx0e1xyXG5cdFx0dmFyIHY6VmVjdG9yM0QgPSBtYXRyaXguZGVjb21wb3NlKE9yaWVudGF0aW9uM0QuUVVBVEVSTklPTilbMV07XHJcblx0XHR0aGlzLnggPSB2Lng7XHJcblx0XHR0aGlzLnkgPSB2Lnk7XHJcblx0XHR0aGlzLnogPSB2Lno7XHJcblx0XHR0aGlzLncgPSB2Lnc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0cyB0aGUgcXVhdGVybmlvbiB0byBhIFZlY3Rvci4mbHQ7TnVtYmVyJmd0OyBtYXRyaXggcmVwcmVzZW50YXRpb24gb2YgYSByb3RhdGlvbiBlcXVpdmFsZW50IHRvIHRoaXMgcXVhdGVybmlvbi5cclxuXHQgKiBAcGFyYW0gdGFyZ2V0IFRoZSBWZWN0b3IuJmx0O051bWJlciZndDsgdG8gY29udGFpbiB0aGUgcmF3IG1hdHJpeCBkYXRhLlxyXG5cdCAqIEBwYXJhbSBleGNsdWRlNHRoUm93IElmIHRydWUsIHRoZSBsYXN0IHJvdyB3aWxsIGJlIG9taXR0ZWQsIGFuZCBhIDR4MyBtYXRyaXggd2lsbCBiZSBnZW5lcmF0ZWQgaW5zdGVhZCBvZiBhIDR4NC5cclxuXHQgKi9cclxuXHRwdWJsaWMgdG9SYXdEYXRhKHRhcmdldDpudW1iZXJbXSwgZXhjbHVkZTR0aFJvdzpib29sZWFuID0gZmFsc2UpXHJcblx0e1xyXG5cdFx0dmFyIHh5MjpudW1iZXIgPSAyLjAqdGhpcy54KnRoaXMueSwgeHoyOm51bWJlciA9IDIuMCp0aGlzLngqdGhpcy56LCB4dzI6bnVtYmVyID0gMi4wKnRoaXMueCp0aGlzLnc7XHJcblx0XHR2YXIgeXoyOm51bWJlciA9IDIuMCp0aGlzLnkqdGhpcy56LCB5dzI6bnVtYmVyID0gMi4wKnRoaXMueSp0aGlzLncsIHp3MjpudW1iZXIgPSAyLjAqdGhpcy56KnRoaXMudztcclxuXHRcdHZhciB4eDpudW1iZXIgPSB0aGlzLngqdGhpcy54LCB5eTpudW1iZXIgPSB0aGlzLnkqdGhpcy55LCB6ejpudW1iZXIgPSB0aGlzLnoqdGhpcy56LCB3dzpudW1iZXIgPSB0aGlzLncqdGhpcy53O1xyXG5cclxuXHRcdHRhcmdldFswXSA9IHh4IC0geXkgLSB6eiArIHd3O1xyXG5cdFx0dGFyZ2V0WzFdID0geHkyIC0gencyO1xyXG5cdFx0dGFyZ2V0WzJdID0geHoyICsgeXcyO1xyXG5cdFx0dGFyZ2V0WzRdID0geHkyICsgencyO1xyXG5cdFx0dGFyZ2V0WzVdID0gLXh4ICsgeXkgLSB6eiArIHd3O1xyXG5cdFx0dGFyZ2V0WzZdID0geXoyIC0geHcyO1xyXG5cdFx0dGFyZ2V0WzhdID0geHoyIC0geXcyO1xyXG5cdFx0dGFyZ2V0WzldID0geXoyICsgeHcyO1xyXG5cdFx0dGFyZ2V0WzEwXSA9IC14eCAtIHl5ICsgenogKyB3dztcclxuXHRcdHRhcmdldFszXSA9IHRhcmdldFs3XSA9IHRhcmdldFsxMV0gPSAwO1xyXG5cclxuXHRcdGlmICghZXhjbHVkZTR0aFJvdykge1xyXG5cdFx0XHR0YXJnZXRbMTJdID0gdGFyZ2V0WzEzXSA9IHRhcmdldFsxNF0gPSAwO1xyXG5cdFx0XHR0YXJnZXRbMTVdID0gMTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsb25lcyB0aGUgcXVhdGVybmlvbi5cclxuXHQgKiBAcmV0dXJuIEFuIGV4YWN0IGR1cGxpY2F0ZSBvZiB0aGUgY3VycmVudCBRdWF0ZXJuaW9uLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBjbG9uZSgpOlF1YXRlcm5pb25cclxuXHR7XHJcblx0XHRyZXR1cm4gbmV3IFF1YXRlcm5pb24odGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJvdGF0ZXMgYSBwb2ludC5cclxuXHQgKiBAcGFyYW0gdmVjdG9yIFRoZSBWZWN0b3IzRCBvYmplY3QgdG8gYmUgcm90YXRlZC5cclxuXHQgKiBAcGFyYW0gdGFyZ2V0IEFuIG9wdGlvbmFsIFZlY3RvcjNEIG9iamVjdCB0aGF0IHdpbGwgY29udGFpbiB0aGUgcm90YXRlZCBjb29yZGluYXRlcy4gSWYgbm90IHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2lsbCBiZSBjcmVhdGVkLlxyXG5cdCAqIEByZXR1cm4gQSBWZWN0b3IzRCBvYmplY3QgY29udGFpbmluZyB0aGUgcm90YXRlZCBwb2ludC5cclxuXHQgKi9cclxuXHRwdWJsaWMgcm90YXRlUG9pbnQodmVjdG9yOlZlY3RvcjNELCB0YXJnZXQ6VmVjdG9yM0QgPSBudWxsKTpWZWN0b3IzRFxyXG5cdHtcclxuXHRcdHZhciB4MTpudW1iZXIsIHkxOm51bWJlciwgejE6bnVtYmVyLCB3MTpudW1iZXI7XHJcblx0XHR2YXIgeDI6bnVtYmVyID0gdmVjdG9yLngsIHkyOm51bWJlciA9IHZlY3Rvci55LCB6MjpudW1iZXIgPSB2ZWN0b3IuejtcclxuXHJcblx0XHQvL3RhcmdldCB8fD0gbmV3IFZlY3RvcjNEKCk7XHJcblx0XHRpZiAodGFyZ2V0ID09PSBudWxsKSB7XHJcblxyXG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yM0QoKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gcCpxJ1xyXG5cdFx0dzEgPSAtdGhpcy54KngyIC0gdGhpcy55KnkyIC0gdGhpcy56KnoyO1xyXG5cdFx0eDEgPSB0aGlzLncqeDIgKyB0aGlzLnkqejIgLSB0aGlzLnoqeTI7XHJcblx0XHR5MSA9IHRoaXMudyp5MiAtIHRoaXMueCp6MiArIHRoaXMueip4MjtcclxuXHRcdHoxID0gdGhpcy53KnoyICsgdGhpcy54KnkyIC0gdGhpcy55KngyO1xyXG5cclxuXHRcdHRhcmdldC54ID0gLXcxKnRoaXMueCArIHgxKnRoaXMudyAtIHkxKnRoaXMueiArIHoxKnRoaXMueTtcclxuXHRcdHRhcmdldC55ID0gLXcxKnRoaXMueSArIHgxKnRoaXMueiArIHkxKnRoaXMudyAtIHoxKnRoaXMueDtcclxuXHRcdHRhcmdldC56ID0gLXcxKnRoaXMueiAtIHgxKnRoaXMueSArIHkxKnRoaXMueCArIHoxKnRoaXMudztcclxuXHJcblx0XHRyZXR1cm4gdGFyZ2V0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29waWVzIHRoZSBkYXRhIGZyb20gYSBxdWF0ZXJuaW9uIGludG8gdGhpcyBpbnN0YW5jZS5cclxuXHQgKiBAcGFyYW0gcSBUaGUgcXVhdGVybmlvbiB0byBjb3B5IGZyb20uXHJcblx0ICovXHJcblx0cHVibGljIGNvcHlGcm9tKHE6UXVhdGVybmlvbilcclxuXHR7XHJcblx0XHR0aGlzLnggPSBxLng7XHJcblx0XHR0aGlzLnkgPSBxLnk7XHJcblx0XHR0aGlzLnogPSBxLno7XHJcblx0XHR0aGlzLncgPSBxLnc7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBRdWF0ZXJuaW9uOyJdfQ==