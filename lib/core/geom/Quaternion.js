var Matrix3DUtils = require("awayjs-core/lib/core/geom/Matrix3DUtils");
var Orientation3D = require("awayjs-core/lib/core/geom/Orientation3D");
var Matrix3D = require("awayjs-core/lib/core/geom/Matrix3D");
var Vector3D = require("awayjs-core/lib/core/geom/Vector3D");

/**
* A Quaternion object which can be used to represent rotations.
*/
var Quaternion = (function () {
    /**
    * Creates a new Quaternion object.
    * @param x The x value of the quaternion.
    * @param y The y value of the quaternion.
    * @param z The z value of the quaternion.
    * @param w The w value of the quaternion.
    */
    function Quaternion(x, y, z, w) {
        if (typeof x === "undefined") { x = 0; }
        if (typeof y === "undefined") { y = 0; }
        if (typeof z === "undefined") { z = 0; }
        if (typeof w === "undefined") { w = 1; }
        /**
        * The x value of the quaternion.
        */
        this.x = 0;
        /**
        * The y value of the quaternion.
        */
        this.y = 0;
        /**
        * The z value of the quaternion.
        */
        this.z = 0;
        /**
        * The w value of the quaternion.
        */
        this.w = 1;
        this.x = x;
        this.y = y;
        this.z = z;
        this.w = w;
    }
    Object.defineProperty(Quaternion.prototype, "magnitude", {
        /**
        * Returns the magnitude of the quaternion object.
        */
        get: function () {
            return Math.sqrt(this.w * this.w + this.x * this.x + this.y * this.y + this.z * this.z);
        },
        enumerable: true,
        configurable: true
    });

    /**
    * Fills the quaternion object with the result from a multiplication of two quaternion objects.
    *
    * @param    qa    The first quaternion in the multiplication.
    * @param    qb    The second quaternion in the multiplication.
    */
    Quaternion.prototype.multiply = function (qa, qb) {
        var w1 = qa.w, x1 = qa.x, y1 = qa.y, z1 = qa.z;
        var w2 = qb.w, x2 = qb.x, y2 = qb.y, z2 = qb.z;

        this.w = w1 * w2 - x1 * x2 - y1 * y2 - z1 * z2;
        this.x = w1 * x2 + x1 * w2 + y1 * z2 - z1 * y2;
        this.y = w1 * y2 - x1 * z2 + y1 * w2 + z1 * x2;
        this.z = w1 * z2 + x1 * y2 - y1 * x2 + z1 * w2;
    };

    Quaternion.prototype.multiplyVector = function (vector, target) {
        if (typeof target === "undefined") { target = null; }
        //target ||= new Quaternion();
        if (target === null) {
            target = new Quaternion();
        }

        var x2 = vector.x;
        var y2 = vector.y;
        var z2 = vector.z;

        target.w = -this.x * x2 - this.y * y2 - this.z * z2;
        target.x = this.w * x2 + this.y * z2 - this.z * y2;
        target.y = this.w * y2 - this.x * z2 + this.z * x2;
        target.z = this.w * z2 + this.x * y2 - this.y * x2;

        return target;
    };

    /**
    * Fills the quaternion object with values representing the given rotation around a vector.
    *
    * @param    axis    The axis around which to rotate
    * @param    angle    The angle in radians of the rotation.
    */
    Quaternion.prototype.fromAxisAngle = function (axis, angle) {
        var sin_a = Math.sin(angle / 2);
        var cos_a = Math.cos(angle / 2);

        this.x = axis.x * sin_a;
        this.y = axis.y * sin_a;
        this.z = axis.z * sin_a;
        this.w = cos_a;

        this.normalize();
    };

    /**
    * Spherically interpolates between two quaternions, providing an interpolation between rotations with constant angle change rate.
    * @param qa The first quaternion to interpolate.
    * @param qb The second quaternion to interpolate.
    * @param t The interpolation weight, a value between 0 and 1.
    */
    Quaternion.prototype.slerp = function (qa, qb, t) {
        var w1 = qa.w, x1 = qa.x, y1 = qa.y, z1 = qa.z;
        var w2 = qb.w, x2 = qb.x, y2 = qb.y, z2 = qb.z;
        var dot = w1 * w2 + x1 * x2 + y1 * y2 + z1 * z2;

        // shortest direction
        if (dot < 0) {
            dot = -dot;
            w2 = -w2;
            x2 = -x2;
            y2 = -y2;
            z2 = -z2;
        }

        if (dot < 0.95) {
            // interpolate angle linearly
            var angle = Math.acos(dot);
            var s = 1 / Math.sin(angle);
            var s1 = Math.sin(angle * (1 - t)) * s;
            var s2 = Math.sin(angle * t) * s;
            this.w = w1 * s1 + w2 * s2;
            this.x = x1 * s1 + x2 * s2;
            this.y = y1 * s1 + y2 * s2;
            this.z = z1 * s1 + z2 * s2;
        } else {
            // nearly identical angle, interpolate linearly
            this.w = w1 + t * (w2 - w1);
            this.x = x1 + t * (x2 - x1);
            this.y = y1 + t * (y2 - y1);
            this.z = z1 + t * (z2 - z1);
            var len = 1.0 / Math.sqrt(this.w * this.w + this.x * this.x + this.y * this.y + this.z * this.z);
            this.w *= len;
            this.x *= len;
            this.y *= len;
            this.z *= len;
        }
    };

    /**
    * Linearly interpolates between two quaternions.
    * @param qa The first quaternion to interpolate.
    * @param qb The second quaternion to interpolate.
    * @param t The interpolation weight, a value between 0 and 1.
    */
    Quaternion.prototype.lerp = function (qa, qb, t) {
        var w1 = qa.w, x1 = qa.x, y1 = qa.y, z1 = qa.z;
        var w2 = qb.w, x2 = qb.x, y2 = qb.y, z2 = qb.z;
        var len;

        // shortest direction
        if (w1 * w2 + x1 * x2 + y1 * y2 + z1 * z2 < 0) {
            w2 = -w2;
            x2 = -x2;
            y2 = -y2;
            z2 = -z2;
        }

        this.w = w1 + t * (w2 - w1);
        this.x = x1 + t * (x2 - x1);
        this.y = y1 + t * (y2 - y1);
        this.z = z1 + t * (z2 - z1);

        len = 1.0 / Math.sqrt(this.w * this.w + this.x * this.x + this.y * this.y + this.z * this.z);
        this.w *= len;
        this.x *= len;
        this.y *= len;
        this.z *= len;
    };

    /**
    * Fills the quaternion object with values representing the given euler rotation.
    *
    * @param    ax        The angle in radians of the rotation around the ax axis.
    * @param    ay        The angle in radians of the rotation around the ay axis.
    * @param    az        The angle in radians of the rotation around the az axis.
    */
    Quaternion.prototype.fromEulerAngles = function (ax, ay, az) {
        var halfX = ax * .5, halfY = ay * .5, halfZ = az * .5;
        var cosX = Math.cos(halfX), sinX = Math.sin(halfX);
        var cosY = Math.cos(halfY), sinY = Math.sin(halfY);
        var cosZ = Math.cos(halfZ), sinZ = Math.sin(halfZ);

        this.w = cosX * cosY * cosZ + sinX * sinY * sinZ;
        this.x = sinX * cosY * cosZ - cosX * sinY * sinZ;
        this.y = cosX * sinY * cosZ + sinX * cosY * sinZ;
        this.z = cosX * cosY * sinZ - sinX * sinY * cosZ;
    };

    /**
    * Fills a target Vector3D object with the Euler angles that form the rotation represented by this quaternion.
    * @param target An optional Vector3D object to contain the Euler angles. If not provided, a new object is created.
    * @return The Vector3D containing the Euler angles.
    */
    Quaternion.prototype.toEulerAngles = function (target) {
        if (typeof target === "undefined") { target = null; }
        //target ||= new Vector3D();
        if (target === null) {
            target = new Vector3D();
        }

        target.x = Math.atan2(2 * (this.w * this.x + this.y * this.z), 1 - 2 * (this.x * this.x + this.y * this.y));
        target.y = Math.asin(2 * (this.w * this.y - this.z * this.x));
        target.z = Math.atan2(2 * (this.w * this.z + this.x * this.y), 1 - 2 * (this.y * this.y + this.z * this.z));

        return target;
    };

    /**
    * Normalises the quaternion object.
    */
    Quaternion.prototype.normalize = function (val) {
        if (typeof val === "undefined") { val = 1; }
        var mag = val / Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);

        this.x *= mag;
        this.y *= mag;
        this.z *= mag;
        this.w *= mag;
    };

    /**
    * Used to trace the values of a quaternion.
    *
    * @return A string representation of the quaternion object.
    */
    Quaternion.prototype.toString = function () {
        return "{x:" + this.x + " y:" + this.y + " z:" + this.z + " w:" + this.w + "}";
    };

    /**
    * Converts the quaternion to a Matrix3D object representing an equivalent rotation.
    * @param target An optional Matrix3D container to store the transformation in. If not provided, a new object is created.
    * @return A Matrix3D object representing an equivalent rotation.
    */
    Quaternion.prototype.toMatrix3D = function (target) {
        if (typeof target === "undefined") { target = null; }
        var rawData = Matrix3DUtils.RAW_DATA_CONTAINER;
        var xy2 = 2.0 * this.x * this.y, xz2 = 2.0 * this.x * this.z, xw2 = 2.0 * this.x * this.w;
        var yz2 = 2.0 * this.y * this.z, yw2 = 2.0 * this.y * this.w, zw2 = 2.0 * this.z * this.w;
        var xx = this.x * this.x, yy = this.y * this.y, zz = this.z * this.z, ww = this.w * this.w;

        rawData[0] = xx - yy - zz + ww;
        rawData[4] = xy2 - zw2;
        rawData[8] = xz2 + yw2;
        rawData[12] = 0;
        rawData[1] = xy2 + zw2;
        rawData[5] = -xx + yy - zz + ww;
        rawData[9] = yz2 - xw2;
        rawData[13] = 0;
        rawData[2] = xz2 - yw2;
        rawData[6] = yz2 + xw2;
        rawData[10] = -xx - yy + zz + ww;
        rawData[14] = 0;
        rawData[3] = 0.0;
        rawData[7] = 0.0;
        rawData[11] = 0;
        rawData[15] = 1;

        if (!target)
            return new Matrix3D(rawData);

        target.copyRawDataFrom(rawData);

        return target;
    };

    /**
    * Extracts a quaternion rotation matrix out of a given Matrix3D object.
    * @param matrix The Matrix3D out of which the rotation will be extracted.
    */
    Quaternion.prototype.fromMatrix = function (matrix) {
        var v = matrix.decompose(Orientation3D.QUATERNION)[1];
        this.x = v.x;
        this.y = v.y;
        this.z = v.z;
        this.w = v.w;
    };

    /**
    * Converts the quaternion to a Vector.&lt;Number&gt; matrix representation of a rotation equivalent to this quaternion.
    * @param target The Vector.&lt;Number&gt; to contain the raw matrix data.
    * @param exclude4thRow If true, the last row will be omitted, and a 4x3 matrix will be generated instead of a 4x4.
    */
    Quaternion.prototype.toRawData = function (target, exclude4thRow) {
        if (typeof exclude4thRow === "undefined") { exclude4thRow = false; }
        var xy2 = 2.0 * this.x * this.y, xz2 = 2.0 * this.x * this.z, xw2 = 2.0 * this.x * this.w;
        var yz2 = 2.0 * this.y * this.z, yw2 = 2.0 * this.y * this.w, zw2 = 2.0 * this.z * this.w;
        var xx = this.x * this.x, yy = this.y * this.y, zz = this.z * this.z, ww = this.w * this.w;

        target[0] = xx - yy - zz + ww;
        target[1] = xy2 - zw2;
        target[2] = xz2 + yw2;
        target[4] = xy2 + zw2;
        target[5] = -xx + yy - zz + ww;
        target[6] = yz2 - xw2;
        target[8] = xz2 - yw2;
        target[9] = yz2 + xw2;
        target[10] = -xx - yy + zz + ww;
        target[3] = target[7] = target[11] = 0;

        if (!exclude4thRow) {
            target[12] = target[13] = target[14] = 0;
            target[15] = 1;
        }
    };

    /**
    * Clones the quaternion.
    * @return An exact duplicate of the current Quaternion.
    */
    Quaternion.prototype.clone = function () {
        return new Quaternion(this.x, this.y, this.z, this.w);
    };

    /**
    * Rotates a point.
    * @param vector The Vector3D object to be rotated.
    * @param target An optional Vector3D object that will contain the rotated coordinates. If not provided, a new object will be created.
    * @return A Vector3D object containing the rotated point.
    */
    Quaternion.prototype.rotatePoint = function (vector, target) {
        if (typeof target === "undefined") { target = null; }
        var x1, y1, z1, w1;
        var x2 = vector.x, y2 = vector.y, z2 = vector.z;

        //target ||= new Vector3D();
        if (target === null) {
            target = new Vector3D();
        }

        // p*q'
        w1 = -this.x * x2 - this.y * y2 - this.z * z2;
        x1 = this.w * x2 + this.y * z2 - this.z * y2;
        y1 = this.w * y2 - this.x * z2 + this.z * x2;
        z1 = this.w * z2 + this.x * y2 - this.y * x2;

        target.x = -w1 * this.x + x1 * this.w - y1 * this.z + z1 * this.y;
        target.y = -w1 * this.y + x1 * this.z + y1 * this.w - z1 * this.x;
        target.z = -w1 * this.z - x1 * this.y + y1 * this.x + z1 * this.w;

        return target;
    };

    /**
    * Copies the data from a quaternion into this instance.
    * @param q The quaternion to copy from.
    */
    Quaternion.prototype.copyFrom = function (q) {
        this.x = q.x;
        this.y = q.y;
        this.z = q.z;
        this.w = q.w;
    };
    return Quaternion;
})();

module.exports = Quaternion;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvZ2VvbS9RdWF0ZXJuaW9uLnRzIl0sIm5hbWVzIjpbIlF1YXRlcm5pb24iLCJRdWF0ZXJuaW9uLmNvbnN0cnVjdG9yIiwiUXVhdGVybmlvbi5tdWx0aXBseSIsIlF1YXRlcm5pb24ubXVsdGlwbHlWZWN0b3IiLCJRdWF0ZXJuaW9uLmZyb21BeGlzQW5nbGUiLCJRdWF0ZXJuaW9uLnNsZXJwIiwiUXVhdGVybmlvbi5sZXJwIiwiUXVhdGVybmlvbi5mcm9tRXVsZXJBbmdsZXMiLCJRdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXMiLCJRdWF0ZXJuaW9uLm5vcm1hbGl6ZSIsIlF1YXRlcm5pb24udG9TdHJpbmciLCJRdWF0ZXJuaW9uLnRvTWF0cml4M0QiLCJRdWF0ZXJuaW9uLmZyb21NYXRyaXgiLCJRdWF0ZXJuaW9uLnRvUmF3RGF0YSIsIlF1YXRlcm5pb24uY2xvbmUiLCJRdWF0ZXJuaW9uLnJvdGF0ZVBvaW50IiwiUXVhdGVybmlvbi5jb3B5RnJvbSJdLCJtYXBwaW5ncyI6IkFBQUEsc0VBQTJFO0FBQzNFLHNFQUEyRTtBQUMzRSw0REFBbUU7QUFDbkUsNERBQW1FOztBQUVuRTs7RUFFRztBQUNIO0lBNkJDQTs7Ozs7O01BREdBO0lBQ0hBLG9CQUFZQSxDQUFZQSxFQUFFQSxDQUFZQSxFQUFFQSxDQUFZQSxFQUFFQSxDQUFZQTtRQUF0REMsZ0NBQUFBLENBQUNBLEdBQVVBLENBQUNBO0FBQUFBLFFBQUVBLGdDQUFBQSxDQUFDQSxHQUFVQSxDQUFDQTtBQUFBQSxRQUFFQSxnQ0FBQUEsQ0FBQ0EsR0FBVUEsQ0FBQ0E7QUFBQUEsUUFBRUEsZ0NBQUFBLENBQUNBLEdBQVVBLENBQUNBO0FBQUFBLFFBM0JsRUE7O1VBRUdBO1FBQ0hBLEtBQU9BLENBQUNBLEdBQVVBLENBQUNBLENBQUNBO1FBRXBCQTs7VUFFR0E7UUFDSEEsS0FBT0EsQ0FBQ0EsR0FBVUEsQ0FBQ0EsQ0FBQ0E7UUFFcEJBOztVQUVHQTtRQUNIQSxLQUFPQSxDQUFDQSxHQUFVQSxDQUFDQSxDQUFDQTtRQUVwQkE7O1VBRUdBO1FBQ0hBLEtBQU9BLENBQUNBLEdBQVVBLENBQUNBLENBQUNBO1FBV25CQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQTtRQUNWQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQTtRQUNWQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQTtRQUNWQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQTtJQUNYQSxDQUFDQTtJQUtERDtRQUFBQTs7VUFER0E7YUFDSEE7WUFFQ0EsT0FBT0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDaEZBLENBQUNBOzs7O0FBQUFBO0lBUURBOzs7OztNQURHQTtvQ0FDSEEsVUFBZ0JBLEVBQWFBLEVBQUVBLEVBQWFBO1FBRTNDRSxJQUFJQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQTtRQUMxRUEsSUFBSUEsRUFBRUEsR0FBVUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsR0FBVUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsR0FBVUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsR0FBVUEsRUFBRUEsQ0FBQ0EsQ0FBQ0E7O1FBRTFFQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQTtRQUN0Q0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUE7UUFDdENBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBO1FBQ3RDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQTtJQUN2Q0EsQ0FBQ0E7O0lBRURGLHNDQUFBQSxVQUFzQkEsTUFBZUEsRUFBRUEsTUFBd0JBO1FBQXhCRyxxQ0FBQUEsTUFBTUEsR0FBY0EsSUFBSUE7QUFBQUEsUUFFOURBLDhCQUE4QkE7UUFDOUJBLElBQUlBLE1BQU1BLEtBQUtBLElBQUlBLENBQUVBO1lBQ3BCQSxNQUFNQSxHQUFHQSxJQUFJQSxVQUFVQSxDQUFDQSxDQUFDQTtTQUV6QkE7O1FBR0RBLElBQUlBLEVBQUVBLEdBQVVBLE1BQU1BLENBQUNBLENBQUNBO1FBQ3hCQSxJQUFJQSxFQUFFQSxHQUFVQSxNQUFNQSxDQUFDQSxDQUFDQTtRQUN4QkEsSUFBSUEsRUFBRUEsR0FBVUEsTUFBTUEsQ0FBQ0EsQ0FBQ0E7O1FBRXhCQSxNQUFNQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQTtRQUM3Q0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUE7UUFDNUNBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBO1FBQzVDQSxNQUFNQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQTs7UUFFNUNBLE9BQU9BLE1BQU1BO0lBQ2RBLENBQUNBOztJQVFESDs7Ozs7TUFER0E7eUNBQ0hBLFVBQXFCQSxJQUFhQSxFQUFFQSxLQUFZQTtRQUUvQ0ksSUFBSUEsS0FBS0EsR0FBVUEsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsR0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDcENBLElBQUlBLEtBQUtBLEdBQVVBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLEdBQUNBLENBQUNBLENBQUNBOztRQUVwQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsS0FBS0E7UUFDckJBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEtBQUtBO1FBQ3JCQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxLQUFLQTtRQUNyQkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsS0FBS0E7O1FBRWRBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLENBQUNBO0lBQ2pCQSxDQUFDQTs7SUFRREo7Ozs7O01BREdBO2lDQUNIQSxVQUFhQSxFQUFhQSxFQUFFQSxFQUFhQSxFQUFFQSxDQUFRQTtRQUVsREssSUFBSUEsRUFBRUEsR0FBVUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsR0FBVUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsR0FBVUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsR0FBVUEsRUFBRUEsQ0FBQ0EsQ0FBQ0E7UUFDMUVBLElBQUlBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBO1FBQzFFQSxJQUFJQSxHQUFHQSxHQUFVQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQTs7UUFFOUNBLHFCQUFxQkE7UUFDckJBLElBQUlBLEdBQUdBLEdBQUdBLENBQUNBLENBQUVBO1lBQ1pBLEdBQUdBLEdBQUdBLENBQUNBLEdBQUdBO1lBQ1ZBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBO1lBQ1JBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBO1lBQ1JBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBO1lBQ1JBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBO1NBQ1JBOztRQUVEQSxJQUFJQSxHQUFHQSxHQUFHQSxJQUFJQSxDQUFFQTtZQUNmQSw2QkFBNkJBO1lBQzdCQSxJQUFJQSxLQUFLQSxHQUFVQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQTtZQUNqQ0EsSUFBSUEsQ0FBQ0EsR0FBVUEsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsQ0FBQ0E7WUFDaENBLElBQUlBLEVBQUVBLEdBQVVBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLEdBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLENBQUNBO1lBQ3pDQSxJQUFJQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxHQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQTtZQUNuQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUE7WUFDdEJBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBO1lBQ3RCQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQTtZQUN0QkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBQ0EsRUFBRUE7U0FDdEJBLEtBQU1BO1lBQ05BLCtDQUErQ0E7WUFDL0NBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO1lBQ3pCQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtZQUN6QkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBR0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7WUFDekJBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO1lBQ3pCQSxJQUFJQSxHQUFHQSxHQUFVQSxHQUFHQSxHQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUM3RkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0E7WUFDYkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0E7WUFDYkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0E7WUFDYkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0E7U0FDYkE7SUFDRkEsQ0FBQ0E7O0lBUURMOzs7OztNQURHQTtnQ0FDSEEsVUFBWUEsRUFBYUEsRUFBRUEsRUFBYUEsRUFBRUEsQ0FBUUE7UUFFakRNLElBQUlBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLEVBQUVBLENBQUNBLENBQUNBO1FBQzFFQSxJQUFJQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxFQUFFQSxDQUFDQSxDQUFDQTtRQUMxRUEsSUFBSUEsR0FBR0E7O1FBRVBBLHFCQUFxQkE7UUFDckJBLElBQUlBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLENBQUNBLENBQUVBO1lBQ3RDQSxFQUFFQSxHQUFHQSxDQUFDQSxFQUFFQTtZQUNSQSxFQUFFQSxHQUFHQSxDQUFDQSxFQUFFQTtZQUNSQSxFQUFFQSxHQUFHQSxDQUFDQSxFQUFFQTtZQUNSQSxFQUFFQSxHQUFHQSxDQUFDQSxFQUFFQTtTQUNSQTs7UUFFREEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBR0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7UUFDekJBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO1FBQ3pCQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtRQUN6QkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBR0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7O1FBRXpCQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNsRkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0E7UUFDYkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0E7UUFDYkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0E7UUFDYkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0E7SUFDZEEsQ0FBQ0E7O0lBU0ROOzs7Ozs7TUFER0E7MkNBQ0hBLFVBQXVCQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQTtRQUVyRE8sSUFBSUEsS0FBS0EsR0FBVUEsRUFBRUEsR0FBQ0EsRUFBRUEsRUFBRUEsS0FBS0EsR0FBVUEsRUFBRUEsR0FBQ0EsRUFBRUEsRUFBRUEsS0FBS0EsR0FBVUEsRUFBRUEsR0FBQ0EsRUFBRUE7UUFDcEVBLElBQUlBLElBQUlBLEdBQVVBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLEVBQUVBLElBQUlBLEdBQVVBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBO1FBQ2hFQSxJQUFJQSxJQUFJQSxHQUFVQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxDQUFDQSxFQUFFQSxJQUFJQSxHQUFVQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxDQUFDQTtRQUNoRUEsSUFBSUEsSUFBSUEsR0FBVUEsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsRUFBRUEsSUFBSUEsR0FBVUEsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsQ0FBQ0E7O1FBRWhFQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxHQUFDQSxJQUFJQSxHQUFDQSxJQUFJQSxHQUFHQSxJQUFJQSxHQUFDQSxJQUFJQSxHQUFDQSxJQUFJQTtRQUN4Q0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsR0FBQ0EsSUFBSUEsR0FBQ0EsSUFBSUEsR0FBR0EsSUFBSUEsR0FBQ0EsSUFBSUEsR0FBQ0EsSUFBSUE7UUFDeENBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLEdBQUNBLElBQUlBLEdBQUNBLElBQUlBLEdBQUdBLElBQUlBLEdBQUNBLElBQUlBLEdBQUNBLElBQUlBO1FBQ3hDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxHQUFDQSxJQUFJQSxHQUFDQSxJQUFJQSxHQUFHQSxJQUFJQSxHQUFDQSxJQUFJQSxHQUFDQSxJQUFJQTtJQUN6Q0EsQ0FBQ0E7O0lBT0RQOzs7O01BREdBO3lDQUNIQSxVQUFxQkEsTUFBc0JBO1FBQXRCUSxxQ0FBQUEsTUFBTUEsR0FBWUEsSUFBSUE7QUFBQUEsUUFHMUNBLDRCQUE0QkE7UUFDNUJBLElBQUlBLE1BQU1BLEtBQUtBLElBQUlBLENBQUVBO1lBRXBCQSxNQUFNQSxHQUFHQSxJQUFJQSxRQUFRQSxDQUFDQSxDQUFDQTtTQUV2QkE7O1FBRURBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLEdBQUNBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQy9GQSxNQUFNQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUN2REEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7O1FBRS9GQSxPQUFPQSxNQUFNQTtJQUNkQSxDQUFDQTs7SUFLRFI7O01BREdBO3FDQUNIQSxVQUFpQkEsR0FBY0E7UUFBZFMsa0NBQUFBLEdBQUdBLEdBQVVBLENBQUNBO0FBQUFBLFFBRTlCQSxJQUFJQSxHQUFHQSxHQUFVQSxHQUFHQSxHQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQTs7UUFFN0ZBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLEdBQUdBO1FBQ2JBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLEdBQUdBO1FBQ2JBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLEdBQUdBO1FBQ2JBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLEdBQUdBO0lBQ2RBLENBQUNBOztJQU9EVDs7OztNQURHQTtvQ0FDSEE7UUFFQ1UsT0FBT0EsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0E7SUFDL0VBLENBQUNBOztJQU9EVjs7OztNQURHQTtzQ0FDSEEsVUFBa0JBLE1BQXNCQTtRQUF0QlcscUNBQUFBLE1BQU1BLEdBQVlBLElBQUlBO0FBQUFBLFFBRXZDQSxJQUFJQSxPQUFPQSxHQUFZQSxhQUFhQSxDQUFDQSxrQkFBa0JBO1FBQ3ZEQSxJQUFJQSxHQUFHQSxHQUFVQSxHQUFHQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxHQUFHQSxHQUFVQSxHQUFHQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxHQUFHQSxHQUFVQSxHQUFHQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUNsR0EsSUFBSUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7UUFDbEdBLElBQUlBLEVBQUVBLEdBQVVBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBOztRQUU5R0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUE7UUFDOUJBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUdBO1FBQ3RCQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFHQTtRQUN0QkEsT0FBT0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0E7UUFDZkEsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBR0E7UUFDdEJBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBO1FBQy9CQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFHQTtRQUN0QkEsT0FBT0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0E7UUFDZkEsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBR0E7UUFDdEJBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUdBO1FBQ3RCQSxPQUFPQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQTtRQUNoQ0EsT0FBT0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0E7UUFDZkEsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0E7UUFDaEJBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBO1FBQ2hCQSxPQUFPQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQTtRQUNmQSxPQUFPQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQTs7UUFFZkEsSUFBSUEsQ0FBQ0EsTUFBTUE7WUFDVkEsT0FBT0EsSUFBSUEsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0E7O1FBRTlCQSxNQUFNQSxDQUFDQSxlQUFlQSxDQUFDQSxPQUFPQSxDQUFDQTs7UUFFL0JBLE9BQU9BLE1BQU1BO0lBQ2RBLENBQUNBOztJQU1EWDs7O01BREdBO3NDQUNIQSxVQUFrQkEsTUFBZUE7UUFFaENZLElBQUlBLENBQUNBLEdBQVlBLE1BQU1BLENBQUNBLFNBQVNBLENBQUNBLGFBQWFBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQzlEQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNaQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNaQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNaQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUNiQSxDQUFDQTs7SUFPRFo7Ozs7TUFER0E7cUNBQ0hBLFVBQWlCQSxNQUFlQSxFQUFFQSxhQUE2QkE7UUFBN0JhLDRDQUFBQSxhQUFhQSxHQUFXQSxLQUFLQTtBQUFBQSxRQUU5REEsSUFBSUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsR0FBVUEsR0FBR0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7UUFDbEdBLElBQUlBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEdBQVVBLEdBQUdBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBQ2xHQSxJQUFJQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxHQUFVQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTs7UUFFOUdBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBO1FBQzdCQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFHQTtRQUNyQkEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBR0E7UUFDckJBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUdBO1FBQ3JCQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQTtRQUM5QkEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBR0E7UUFDckJBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUdBO1FBQ3JCQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFHQTtRQUNyQkEsTUFBTUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUE7UUFDL0JBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBOztRQUV0Q0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBRUE7WUFDbkJBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBO1lBQ3hDQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQTtTQUNkQTtJQUNGQSxDQUFDQTs7SUFNRGI7OztNQURHQTtpQ0FDSEE7UUFFQ2MsT0FBT0EsSUFBSUEsVUFBVUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDdERBLENBQUNBOztJQVFEZDs7Ozs7TUFER0E7dUNBQ0hBLFVBQW1CQSxNQUFlQSxFQUFFQSxNQUFzQkE7UUFBdEJlLHFDQUFBQSxNQUFNQSxHQUFZQSxJQUFJQTtBQUFBQSxRQUV6REEsSUFBSUEsRUFBRUEsRUFBU0EsRUFBRUEsRUFBU0EsRUFBRUEsRUFBU0EsRUFBRUE7UUFDdkNBLElBQUlBLEVBQUVBLEdBQVVBLE1BQU1BLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLE1BQU1BLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLEdBQVVBLE1BQU1BLENBQUNBLENBQUNBOztRQUVwRUEsNEJBQTRCQTtRQUM1QkEsSUFBSUEsTUFBTUEsS0FBS0EsSUFBSUEsQ0FBRUE7WUFFcEJBLE1BQU1BLEdBQUdBLElBQUlBLFFBQVFBLENBQUNBLENBQUNBO1NBRXZCQTs7UUFFREEsT0FBT0E7UUFDUEEsRUFBRUEsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUE7UUFDdkNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBO1FBQ3RDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQTtRQUN0Q0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUE7O1FBRXRDQSxNQUFNQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUN6REEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7UUFDekRBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUNBLElBQUlBLENBQUNBLENBQUNBOztRQUV6REEsT0FBT0EsTUFBTUE7SUFDZEEsQ0FBQ0E7O0lBTURmOzs7TUFER0E7b0NBQ0hBLFVBQWdCQSxDQUFZQTtRQUUzQmdCLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1FBQ1pBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1FBQ1pBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1FBQ1pBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO0lBQ2JBLENBQUNBO0lBQ0ZoQixrQkFBQ0E7QUFBREEsQ0FBQ0EsSUFBQTs7QUFFRCwyQkFBb0IsQ0FBQSIsImZpbGUiOiJjb3JlL2dlb20vUXVhdGVybmlvbi5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvcm9iYmF0ZW1hbi9XZWJzdG9ybVByb2plY3RzL2F3YXlqcy1jb3JlLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNYXRyaXgzRFV0aWxzXHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9jb3JlL2dlb20vTWF0cml4M0RVdGlsc1wiKTtcbmltcG9ydCBPcmllbnRhdGlvbjNEXHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9jb3JlL2dlb20vT3JpZW50YXRpb24zRFwiKTtcbmltcG9ydCBNYXRyaXgzRFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvZ2VvbS9NYXRyaXgzRFwiKTtcbmltcG9ydCBWZWN0b3IzRFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvZ2VvbS9WZWN0b3IzRFwiKTtcblxuLyoqXG4gKiBBIFF1YXRlcm5pb24gb2JqZWN0IHdoaWNoIGNhbiBiZSB1c2VkIHRvIHJlcHJlc2VudCByb3RhdGlvbnMuXG4gKi9cbmNsYXNzIFF1YXRlcm5pb25cbntcblx0LyoqXG5cdCAqIFRoZSB4IHZhbHVlIG9mIHRoZSBxdWF0ZXJuaW9uLlxuXHQgKi9cblx0cHVibGljIHg6bnVtYmVyID0gMDtcblxuXHQvKipcblx0ICogVGhlIHkgdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uXG5cdCAqL1xuXHRwdWJsaWMgeTpudW1iZXIgPSAwO1xuXG5cdC8qKlxuXHQgKiBUaGUgeiB2YWx1ZSBvZiB0aGUgcXVhdGVybmlvbi5cblx0ICovXG5cdHB1YmxpYyB6Om51bWJlciA9IDA7XG5cblx0LyoqXG5cdCAqIFRoZSB3IHZhbHVlIG9mIHRoZSBxdWF0ZXJuaW9uLlxuXHQgKi9cblx0cHVibGljIHc6bnVtYmVyID0gMTtcblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyBRdWF0ZXJuaW9uIG9iamVjdC5cblx0ICogQHBhcmFtIHggVGhlIHggdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uXG5cdCAqIEBwYXJhbSB5IFRoZSB5IHZhbHVlIG9mIHRoZSBxdWF0ZXJuaW9uLlxuXHQgKiBAcGFyYW0geiBUaGUgeiB2YWx1ZSBvZiB0aGUgcXVhdGVybmlvbi5cblx0ICogQHBhcmFtIHcgVGhlIHcgdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uXG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcih4Om51bWJlciA9IDAsIHk6bnVtYmVyID0gMCwgejpudW1iZXIgPSAwLCB3Om51bWJlciA9IDEpXG5cdHtcblx0XHR0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG5cdFx0dGhpcy56ID0gejtcblx0XHR0aGlzLncgPSB3O1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIG1hZ25pdHVkZSBvZiB0aGUgcXVhdGVybmlvbiBvYmplY3QuXG5cdCAqL1xuXHRwdWJsaWMgZ2V0IG1hZ25pdHVkZSgpOm51bWJlclxuXHR7XG5cdFx0cmV0dXJuIE1hdGguc3FydCh0aGlzLncqdGhpcy53ICsgdGhpcy54KnRoaXMueCArIHRoaXMueSp0aGlzLnkgKyB0aGlzLnoqdGhpcy56KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBGaWxscyB0aGUgcXVhdGVybmlvbiBvYmplY3Qgd2l0aCB0aGUgcmVzdWx0IGZyb20gYSBtdWx0aXBsaWNhdGlvbiBvZiB0d28gcXVhdGVybmlvbiBvYmplY3RzLlxuXHQgKlxuXHQgKiBAcGFyYW0gICAgcWEgICAgVGhlIGZpcnN0IHF1YXRlcm5pb24gaW4gdGhlIG11bHRpcGxpY2F0aW9uLlxuXHQgKiBAcGFyYW0gICAgcWIgICAgVGhlIHNlY29uZCBxdWF0ZXJuaW9uIGluIHRoZSBtdWx0aXBsaWNhdGlvbi5cblx0ICovXG5cdHB1YmxpYyBtdWx0aXBseShxYTpRdWF0ZXJuaW9uLCBxYjpRdWF0ZXJuaW9uKVxuXHR7XG5cdFx0dmFyIHcxOm51bWJlciA9IHFhLncsIHgxOm51bWJlciA9IHFhLngsIHkxOm51bWJlciA9IHFhLnksIHoxOm51bWJlciA9IHFhLno7XG5cdFx0dmFyIHcyOm51bWJlciA9IHFiLncsIHgyOm51bWJlciA9IHFiLngsIHkyOm51bWJlciA9IHFiLnksIHoyOm51bWJlciA9IHFiLno7XG5cblx0XHR0aGlzLncgPSB3MSp3MiAtIHgxKngyIC0geTEqeTIgLSB6MSp6Mjtcblx0XHR0aGlzLnggPSB3MSp4MiArIHgxKncyICsgeTEqejIgLSB6MSp5Mjtcblx0XHR0aGlzLnkgPSB3MSp5MiAtIHgxKnoyICsgeTEqdzIgKyB6MSp4Mjtcblx0XHR0aGlzLnogPSB3MSp6MiArIHgxKnkyIC0geTEqeDIgKyB6MSp3Mjtcblx0fVxuXG5cdHB1YmxpYyBtdWx0aXBseVZlY3Rvcih2ZWN0b3I6VmVjdG9yM0QsIHRhcmdldDpRdWF0ZXJuaW9uID0gbnVsbCk6UXVhdGVybmlvblxuXHR7XG5cdFx0Ly90YXJnZXQgfHw9IG5ldyBRdWF0ZXJuaW9uKCk7XG5cdFx0aWYgKHRhcmdldCA9PT0gbnVsbCkge1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKTtcblxuXHRcdH1cblxuXG5cdFx0dmFyIHgyOm51bWJlciA9IHZlY3Rvci54O1xuXHRcdHZhciB5MjpudW1iZXIgPSB2ZWN0b3IueTtcblx0XHR2YXIgejI6bnVtYmVyID0gdmVjdG9yLno7XG5cblx0XHR0YXJnZXQudyA9IC10aGlzLngqeDIgLSB0aGlzLnkqeTIgLSB0aGlzLnoqejI7XG5cdFx0dGFyZ2V0LnggPSB0aGlzLncqeDIgKyB0aGlzLnkqejIgLSB0aGlzLnoqeTI7XG5cdFx0dGFyZ2V0LnkgPSB0aGlzLncqeTIgLSB0aGlzLngqejIgKyB0aGlzLnoqeDI7XG5cdFx0dGFyZ2V0LnogPSB0aGlzLncqejIgKyB0aGlzLngqeTIgLSB0aGlzLnkqeDI7XG5cblx0XHRyZXR1cm4gdGFyZ2V0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEZpbGxzIHRoZSBxdWF0ZXJuaW9uIG9iamVjdCB3aXRoIHZhbHVlcyByZXByZXNlbnRpbmcgdGhlIGdpdmVuIHJvdGF0aW9uIGFyb3VuZCBhIHZlY3Rvci5cblx0ICpcblx0ICogQHBhcmFtICAgIGF4aXMgICAgVGhlIGF4aXMgYXJvdW5kIHdoaWNoIHRvIHJvdGF0ZVxuXHQgKiBAcGFyYW0gICAgYW5nbGUgICAgVGhlIGFuZ2xlIGluIHJhZGlhbnMgb2YgdGhlIHJvdGF0aW9uLlxuXHQgKi9cblx0cHVibGljIGZyb21BeGlzQW5nbGUoYXhpczpWZWN0b3IzRCwgYW5nbGU6bnVtYmVyKVxuXHR7XG5cdFx0dmFyIHNpbl9hOm51bWJlciA9IE1hdGguc2luKGFuZ2xlLzIpO1xuXHRcdHZhciBjb3NfYTpudW1iZXIgPSBNYXRoLmNvcyhhbmdsZS8yKTtcblxuXHRcdHRoaXMueCA9IGF4aXMueCpzaW5fYTtcblx0XHR0aGlzLnkgPSBheGlzLnkqc2luX2E7XG5cdFx0dGhpcy56ID0gYXhpcy56KnNpbl9hO1xuXHRcdHRoaXMudyA9IGNvc19hO1xuXG5cdFx0dGhpcy5ub3JtYWxpemUoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTcGhlcmljYWxseSBpbnRlcnBvbGF0ZXMgYmV0d2VlbiB0d28gcXVhdGVybmlvbnMsIHByb3ZpZGluZyBhbiBpbnRlcnBvbGF0aW9uIGJldHdlZW4gcm90YXRpb25zIHdpdGggY29uc3RhbnQgYW5nbGUgY2hhbmdlIHJhdGUuXG5cdCAqIEBwYXJhbSBxYSBUaGUgZmlyc3QgcXVhdGVybmlvbiB0byBpbnRlcnBvbGF0ZS5cblx0ICogQHBhcmFtIHFiIFRoZSBzZWNvbmQgcXVhdGVybmlvbiB0byBpbnRlcnBvbGF0ZS5cblx0ICogQHBhcmFtIHQgVGhlIGludGVycG9sYXRpb24gd2VpZ2h0LCBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMS5cblx0ICovXG5cdHB1YmxpYyBzbGVycChxYTpRdWF0ZXJuaW9uLCBxYjpRdWF0ZXJuaW9uLCB0Om51bWJlcilcblx0e1xuXHRcdHZhciB3MTpudW1iZXIgPSBxYS53LCB4MTpudW1iZXIgPSBxYS54LCB5MTpudW1iZXIgPSBxYS55LCB6MTpudW1iZXIgPSBxYS56O1xuXHRcdHZhciB3MjpudW1iZXIgPSBxYi53LCB4MjpudW1iZXIgPSBxYi54LCB5MjpudW1iZXIgPSBxYi55LCB6MjpudW1iZXIgPSBxYi56O1xuXHRcdHZhciBkb3Q6bnVtYmVyID0gdzEqdzIgKyB4MSp4MiArIHkxKnkyICsgejEqejI7XG5cblx0XHQvLyBzaG9ydGVzdCBkaXJlY3Rpb25cblx0XHRpZiAoZG90IDwgMCkge1xuXHRcdFx0ZG90ID0gLWRvdDtcblx0XHRcdHcyID0gLXcyO1xuXHRcdFx0eDIgPSAteDI7XG5cdFx0XHR5MiA9IC15Mjtcblx0XHRcdHoyID0gLXoyO1xuXHRcdH1cblxuXHRcdGlmIChkb3QgPCAwLjk1KSB7XG5cdFx0XHQvLyBpbnRlcnBvbGF0ZSBhbmdsZSBsaW5lYXJseVxuXHRcdFx0dmFyIGFuZ2xlOm51bWJlciA9IE1hdGguYWNvcyhkb3QpO1xuXHRcdFx0dmFyIHM6bnVtYmVyID0gMS9NYXRoLnNpbihhbmdsZSk7XG5cdFx0XHR2YXIgczE6bnVtYmVyID0gTWF0aC5zaW4oYW5nbGUqKDEgLSB0KSkqcztcblx0XHRcdHZhciBzMjpudW1iZXIgPSBNYXRoLnNpbihhbmdsZSp0KSpzO1xuXHRcdFx0dGhpcy53ID0gdzEqczEgKyB3MipzMjtcblx0XHRcdHRoaXMueCA9IHgxKnMxICsgeDIqczI7XG5cdFx0XHR0aGlzLnkgPSB5MSpzMSArIHkyKnMyO1xuXHRcdFx0dGhpcy56ID0gejEqczEgKyB6MipzMjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gbmVhcmx5IGlkZW50aWNhbCBhbmdsZSwgaW50ZXJwb2xhdGUgbGluZWFybHlcblx0XHRcdHRoaXMudyA9IHcxICsgdCoodzIgLSB3MSk7XG5cdFx0XHR0aGlzLnggPSB4MSArIHQqKHgyIC0geDEpO1xuXHRcdFx0dGhpcy55ID0geTEgKyB0Kih5MiAtIHkxKTtcblx0XHRcdHRoaXMueiA9IHoxICsgdCooejIgLSB6MSk7XG5cdFx0XHR2YXIgbGVuOm51bWJlciA9IDEuMC9NYXRoLnNxcnQodGhpcy53KnRoaXMudyArIHRoaXMueCp0aGlzLnggKyB0aGlzLnkqdGhpcy55ICsgdGhpcy56KnRoaXMueik7XG5cdFx0XHR0aGlzLncgKj0gbGVuO1xuXHRcdFx0dGhpcy54ICo9IGxlbjtcblx0XHRcdHRoaXMueSAqPSBsZW47XG5cdFx0XHR0aGlzLnogKj0gbGVuO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBMaW5lYXJseSBpbnRlcnBvbGF0ZXMgYmV0d2VlbiB0d28gcXVhdGVybmlvbnMuXG5cdCAqIEBwYXJhbSBxYSBUaGUgZmlyc3QgcXVhdGVybmlvbiB0byBpbnRlcnBvbGF0ZS5cblx0ICogQHBhcmFtIHFiIFRoZSBzZWNvbmQgcXVhdGVybmlvbiB0byBpbnRlcnBvbGF0ZS5cblx0ICogQHBhcmFtIHQgVGhlIGludGVycG9sYXRpb24gd2VpZ2h0LCBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMS5cblx0ICovXG5cdHB1YmxpYyBsZXJwKHFhOlF1YXRlcm5pb24sIHFiOlF1YXRlcm5pb24sIHQ6bnVtYmVyKVxuXHR7XG5cdFx0dmFyIHcxOm51bWJlciA9IHFhLncsIHgxOm51bWJlciA9IHFhLngsIHkxOm51bWJlciA9IHFhLnksIHoxOm51bWJlciA9IHFhLno7XG5cdFx0dmFyIHcyOm51bWJlciA9IHFiLncsIHgyOm51bWJlciA9IHFiLngsIHkyOm51bWJlciA9IHFiLnksIHoyOm51bWJlciA9IHFiLno7XG5cdFx0dmFyIGxlbjpudW1iZXI7XG5cblx0XHQvLyBzaG9ydGVzdCBkaXJlY3Rpb25cblx0XHRpZiAodzEqdzIgKyB4MSp4MiArIHkxKnkyICsgejEqejIgPCAwKSB7XG5cdFx0XHR3MiA9IC13Mjtcblx0XHRcdHgyID0gLXgyO1xuXHRcdFx0eTIgPSAteTI7XG5cdFx0XHR6MiA9IC16Mjtcblx0XHR9XG5cblx0XHR0aGlzLncgPSB3MSArIHQqKHcyIC0gdzEpO1xuXHRcdHRoaXMueCA9IHgxICsgdCooeDIgLSB4MSk7XG5cdFx0dGhpcy55ID0geTEgKyB0Kih5MiAtIHkxKTtcblx0XHR0aGlzLnogPSB6MSArIHQqKHoyIC0gejEpO1xuXG5cdFx0bGVuID0gMS4wL01hdGguc3FydCh0aGlzLncqdGhpcy53ICsgdGhpcy54KnRoaXMueCArIHRoaXMueSp0aGlzLnkgKyB0aGlzLnoqdGhpcy56KTtcblx0XHR0aGlzLncgKj0gbGVuO1xuXHRcdHRoaXMueCAqPSBsZW47XG5cdFx0dGhpcy55ICo9IGxlbjtcblx0XHR0aGlzLnogKj0gbGVuO1xuXHR9XG5cblx0LyoqXG5cdCAqIEZpbGxzIHRoZSBxdWF0ZXJuaW9uIG9iamVjdCB3aXRoIHZhbHVlcyByZXByZXNlbnRpbmcgdGhlIGdpdmVuIGV1bGVyIHJvdGF0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0gICAgYXggICAgICAgIFRoZSBhbmdsZSBpbiByYWRpYW5zIG9mIHRoZSByb3RhdGlvbiBhcm91bmQgdGhlIGF4IGF4aXMuXG5cdCAqIEBwYXJhbSAgICBheSAgICAgICAgVGhlIGFuZ2xlIGluIHJhZGlhbnMgb2YgdGhlIHJvdGF0aW9uIGFyb3VuZCB0aGUgYXkgYXhpcy5cblx0ICogQHBhcmFtICAgIGF6ICAgICAgICBUaGUgYW5nbGUgaW4gcmFkaWFucyBvZiB0aGUgcm90YXRpb24gYXJvdW5kIHRoZSBheiBheGlzLlxuXHQgKi9cblx0cHVibGljIGZyb21FdWxlckFuZ2xlcyhheDpudW1iZXIsIGF5Om51bWJlciwgYXo6bnVtYmVyKVxuXHR7XG5cdFx0dmFyIGhhbGZYOm51bWJlciA9IGF4Ki41LCBoYWxmWTpudW1iZXIgPSBheSouNSwgaGFsZlo6bnVtYmVyID0gYXoqLjU7XG5cdFx0dmFyIGNvc1g6bnVtYmVyID0gTWF0aC5jb3MoaGFsZlgpLCBzaW5YOm51bWJlciA9IE1hdGguc2luKGhhbGZYKTtcblx0XHR2YXIgY29zWTpudW1iZXIgPSBNYXRoLmNvcyhoYWxmWSksIHNpblk6bnVtYmVyID0gTWF0aC5zaW4oaGFsZlkpO1xuXHRcdHZhciBjb3NaOm51bWJlciA9IE1hdGguY29zKGhhbGZaKSwgc2luWjpudW1iZXIgPSBNYXRoLnNpbihoYWxmWik7XG5cblx0XHR0aGlzLncgPSBjb3NYKmNvc1kqY29zWiArIHNpblgqc2luWSpzaW5aO1xuXHRcdHRoaXMueCA9IHNpblgqY29zWSpjb3NaIC0gY29zWCpzaW5ZKnNpblo7XG5cdFx0dGhpcy55ID0gY29zWCpzaW5ZKmNvc1ogKyBzaW5YKmNvc1kqc2luWjtcblx0XHR0aGlzLnogPSBjb3NYKmNvc1kqc2luWiAtIHNpblgqc2luWSpjb3NaO1xuXHR9XG5cblx0LyoqXG5cdCAqIEZpbGxzIGEgdGFyZ2V0IFZlY3RvcjNEIG9iamVjdCB3aXRoIHRoZSBFdWxlciBhbmdsZXMgdGhhdCBmb3JtIHRoZSByb3RhdGlvbiByZXByZXNlbnRlZCBieSB0aGlzIHF1YXRlcm5pb24uXG5cdCAqIEBwYXJhbSB0YXJnZXQgQW4gb3B0aW9uYWwgVmVjdG9yM0Qgb2JqZWN0IHRvIGNvbnRhaW4gdGhlIEV1bGVyIGFuZ2xlcy4gSWYgbm90IHByb3ZpZGVkLCBhIG5ldyBvYmplY3QgaXMgY3JlYXRlZC5cblx0ICogQHJldHVybiBUaGUgVmVjdG9yM0QgY29udGFpbmluZyB0aGUgRXVsZXIgYW5nbGVzLlxuXHQgKi9cblx0cHVibGljIHRvRXVsZXJBbmdsZXModGFyZ2V0OlZlY3RvcjNEID0gbnVsbCk6VmVjdG9yM0Rcblx0e1xuXG5cdFx0Ly90YXJnZXQgfHw9IG5ldyBWZWN0b3IzRCgpO1xuXHRcdGlmICh0YXJnZXQgPT09IG51bGwpIHtcblxuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjNEKCk7XG5cblx0XHR9XG5cblx0XHR0YXJnZXQueCA9IE1hdGguYXRhbjIoMioodGhpcy53KnRoaXMueCArIHRoaXMueSp0aGlzLnopLCAxIC0gMioodGhpcy54KnRoaXMueCArIHRoaXMueSp0aGlzLnkpKTtcblx0XHR0YXJnZXQueSA9IE1hdGguYXNpbigyKih0aGlzLncqdGhpcy55IC0gdGhpcy56KnRoaXMueCkpO1xuXHRcdHRhcmdldC56ID0gTWF0aC5hdGFuMigyKih0aGlzLncqdGhpcy56ICsgdGhpcy54KnRoaXMueSksIDEgLSAyKih0aGlzLnkqdGhpcy55ICsgdGhpcy56KnRoaXMueikpO1xuXG5cdFx0cmV0dXJuIHRhcmdldDtcblx0fVxuXG5cdC8qKlxuXHQgKiBOb3JtYWxpc2VzIHRoZSBxdWF0ZXJuaW9uIG9iamVjdC5cblx0ICovXG5cdHB1YmxpYyBub3JtYWxpemUodmFsOm51bWJlciA9IDEpXG5cdHtcblx0XHR2YXIgbWFnOm51bWJlciA9IHZhbC9NYXRoLnNxcnQodGhpcy54KnRoaXMueCArIHRoaXMueSp0aGlzLnkgKyB0aGlzLnoqdGhpcy56ICsgdGhpcy53KnRoaXMudyk7XG5cblx0XHR0aGlzLnggKj0gbWFnO1xuXHRcdHRoaXMueSAqPSBtYWc7XG5cdFx0dGhpcy56ICo9IG1hZztcblx0XHR0aGlzLncgKj0gbWFnO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVzZWQgdG8gdHJhY2UgdGhlIHZhbHVlcyBvZiBhIHF1YXRlcm5pb24uXG5cdCAqXG5cdCAqIEByZXR1cm4gQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHF1YXRlcm5pb24gb2JqZWN0LlxuXHQgKi9cblx0cHVibGljIHRvU3RyaW5nKCk6c3RyaW5nXG5cdHtcblx0XHRyZXR1cm4gXCJ7eDpcIiArIHRoaXMueCArIFwiIHk6XCIgKyB0aGlzLnkgKyBcIiB6OlwiICsgdGhpcy56ICsgXCIgdzpcIiArIHRoaXMudyArIFwifVwiO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIHRoZSBxdWF0ZXJuaW9uIHRvIGEgTWF0cml4M0Qgb2JqZWN0IHJlcHJlc2VudGluZyBhbiBlcXVpdmFsZW50IHJvdGF0aW9uLlxuXHQgKiBAcGFyYW0gdGFyZ2V0IEFuIG9wdGlvbmFsIE1hdHJpeDNEIGNvbnRhaW5lciB0byBzdG9yZSB0aGUgdHJhbnNmb3JtYXRpb24gaW4uIElmIG5vdCBwcm92aWRlZCwgYSBuZXcgb2JqZWN0IGlzIGNyZWF0ZWQuXG5cdCAqIEByZXR1cm4gQSBNYXRyaXgzRCBvYmplY3QgcmVwcmVzZW50aW5nIGFuIGVxdWl2YWxlbnQgcm90YXRpb24uXG5cdCAqL1xuXHRwdWJsaWMgdG9NYXRyaXgzRCh0YXJnZXQ6TWF0cml4M0QgPSBudWxsKTpNYXRyaXgzRFxuXHR7XG5cdFx0dmFyIHJhd0RhdGE6bnVtYmVyW10gPSBNYXRyaXgzRFV0aWxzLlJBV19EQVRBX0NPTlRBSU5FUjtcblx0XHR2YXIgeHkyOm51bWJlciA9IDIuMCp0aGlzLngqdGhpcy55LCB4ejI6bnVtYmVyID0gMi4wKnRoaXMueCp0aGlzLnosIHh3MjpudW1iZXIgPSAyLjAqdGhpcy54KnRoaXMudztcblx0XHR2YXIgeXoyOm51bWJlciA9IDIuMCp0aGlzLnkqdGhpcy56LCB5dzI6bnVtYmVyID0gMi4wKnRoaXMueSp0aGlzLncsIHp3MjpudW1iZXIgPSAyLjAqdGhpcy56KnRoaXMudztcblx0XHR2YXIgeHg6bnVtYmVyID0gdGhpcy54KnRoaXMueCwgeXk6bnVtYmVyID0gdGhpcy55KnRoaXMueSwgeno6bnVtYmVyID0gdGhpcy56KnRoaXMueiwgd3c6bnVtYmVyID0gdGhpcy53KnRoaXMudztcblxuXHRcdHJhd0RhdGFbMF0gPSB4eCAtIHl5IC0genogKyB3dztcblx0XHRyYXdEYXRhWzRdID0geHkyIC0gencyO1xuXHRcdHJhd0RhdGFbOF0gPSB4ejIgKyB5dzI7XG5cdFx0cmF3RGF0YVsxMl0gPSAwO1xuXHRcdHJhd0RhdGFbMV0gPSB4eTIgKyB6dzI7XG5cdFx0cmF3RGF0YVs1XSA9IC14eCArIHl5IC0genogKyB3dztcblx0XHRyYXdEYXRhWzldID0geXoyIC0geHcyO1xuXHRcdHJhd0RhdGFbMTNdID0gMDtcblx0XHRyYXdEYXRhWzJdID0geHoyIC0geXcyO1xuXHRcdHJhd0RhdGFbNl0gPSB5ejIgKyB4dzI7XG5cdFx0cmF3RGF0YVsxMF0gPSAteHggLSB5eSArIHp6ICsgd3c7XG5cdFx0cmF3RGF0YVsxNF0gPSAwO1xuXHRcdHJhd0RhdGFbM10gPSAwLjA7XG5cdFx0cmF3RGF0YVs3XSA9IDAuMDtcblx0XHRyYXdEYXRhWzExXSA9IDA7XG5cdFx0cmF3RGF0YVsxNV0gPSAxO1xuXG5cdFx0aWYgKCF0YXJnZXQpXG5cdFx0XHRyZXR1cm4gbmV3IE1hdHJpeDNEKHJhd0RhdGEpO1xuXG5cdFx0dGFyZ2V0LmNvcHlSYXdEYXRhRnJvbShyYXdEYXRhKTtcblxuXHRcdHJldHVybiB0YXJnZXQ7XG5cdH1cblxuXHQvKipcblx0ICogRXh0cmFjdHMgYSBxdWF0ZXJuaW9uIHJvdGF0aW9uIG1hdHJpeCBvdXQgb2YgYSBnaXZlbiBNYXRyaXgzRCBvYmplY3QuXG5cdCAqIEBwYXJhbSBtYXRyaXggVGhlIE1hdHJpeDNEIG91dCBvZiB3aGljaCB0aGUgcm90YXRpb24gd2lsbCBiZSBleHRyYWN0ZWQuXG5cdCAqL1xuXHRwdWJsaWMgZnJvbU1hdHJpeChtYXRyaXg6TWF0cml4M0QpXG5cdHtcblx0XHR2YXIgdjpWZWN0b3IzRCA9IG1hdHJpeC5kZWNvbXBvc2UoT3JpZW50YXRpb24zRC5RVUFURVJOSU9OKVsxXTtcblx0XHR0aGlzLnggPSB2Lng7XG5cdFx0dGhpcy55ID0gdi55O1xuXHRcdHRoaXMueiA9IHYuejtcblx0XHR0aGlzLncgPSB2Lnc7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgdGhlIHF1YXRlcm5pb24gdG8gYSBWZWN0b3IuJmx0O051bWJlciZndDsgbWF0cml4IHJlcHJlc2VudGF0aW9uIG9mIGEgcm90YXRpb24gZXF1aXZhbGVudCB0byB0aGlzIHF1YXRlcm5pb24uXG5cdCAqIEBwYXJhbSB0YXJnZXQgVGhlIFZlY3Rvci4mbHQ7TnVtYmVyJmd0OyB0byBjb250YWluIHRoZSByYXcgbWF0cml4IGRhdGEuXG5cdCAqIEBwYXJhbSBleGNsdWRlNHRoUm93IElmIHRydWUsIHRoZSBsYXN0IHJvdyB3aWxsIGJlIG9taXR0ZWQsIGFuZCBhIDR4MyBtYXRyaXggd2lsbCBiZSBnZW5lcmF0ZWQgaW5zdGVhZCBvZiBhIDR4NC5cblx0ICovXG5cdHB1YmxpYyB0b1Jhd0RhdGEodGFyZ2V0Om51bWJlcltdLCBleGNsdWRlNHRoUm93OmJvb2xlYW4gPSBmYWxzZSlcblx0e1xuXHRcdHZhciB4eTI6bnVtYmVyID0gMi4wKnRoaXMueCp0aGlzLnksIHh6MjpudW1iZXIgPSAyLjAqdGhpcy54KnRoaXMueiwgeHcyOm51bWJlciA9IDIuMCp0aGlzLngqdGhpcy53O1xuXHRcdHZhciB5ejI6bnVtYmVyID0gMi4wKnRoaXMueSp0aGlzLnosIHl3MjpudW1iZXIgPSAyLjAqdGhpcy55KnRoaXMudywgencyOm51bWJlciA9IDIuMCp0aGlzLnoqdGhpcy53O1xuXHRcdHZhciB4eDpudW1iZXIgPSB0aGlzLngqdGhpcy54LCB5eTpudW1iZXIgPSB0aGlzLnkqdGhpcy55LCB6ejpudW1iZXIgPSB0aGlzLnoqdGhpcy56LCB3dzpudW1iZXIgPSB0aGlzLncqdGhpcy53O1xuXG5cdFx0dGFyZ2V0WzBdID0geHggLSB5eSAtIHp6ICsgd3c7XG5cdFx0dGFyZ2V0WzFdID0geHkyIC0gencyO1xuXHRcdHRhcmdldFsyXSA9IHh6MiArIHl3Mjtcblx0XHR0YXJnZXRbNF0gPSB4eTIgKyB6dzI7XG5cdFx0dGFyZ2V0WzVdID0gLXh4ICsgeXkgLSB6eiArIHd3O1xuXHRcdHRhcmdldFs2XSA9IHl6MiAtIHh3Mjtcblx0XHR0YXJnZXRbOF0gPSB4ejIgLSB5dzI7XG5cdFx0dGFyZ2V0WzldID0geXoyICsgeHcyO1xuXHRcdHRhcmdldFsxMF0gPSAteHggLSB5eSArIHp6ICsgd3c7XG5cdFx0dGFyZ2V0WzNdID0gdGFyZ2V0WzddID0gdGFyZ2V0WzExXSA9IDA7XG5cblx0XHRpZiAoIWV4Y2x1ZGU0dGhSb3cpIHtcblx0XHRcdHRhcmdldFsxMl0gPSB0YXJnZXRbMTNdID0gdGFyZ2V0WzE0XSA9IDA7XG5cdFx0XHR0YXJnZXRbMTVdID0gMTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ2xvbmVzIHRoZSBxdWF0ZXJuaW9uLlxuXHQgKiBAcmV0dXJuIEFuIGV4YWN0IGR1cGxpY2F0ZSBvZiB0aGUgY3VycmVudCBRdWF0ZXJuaW9uLlxuXHQgKi9cblx0cHVibGljIGNsb25lKCk6UXVhdGVybmlvblxuXHR7XG5cdFx0cmV0dXJuIG5ldyBRdWF0ZXJuaW9uKHRoaXMueCwgdGhpcy55LCB0aGlzLnosIHRoaXMudyk7XG5cdH1cblxuXHQvKipcblx0ICogUm90YXRlcyBhIHBvaW50LlxuXHQgKiBAcGFyYW0gdmVjdG9yIFRoZSBWZWN0b3IzRCBvYmplY3QgdG8gYmUgcm90YXRlZC5cblx0ICogQHBhcmFtIHRhcmdldCBBbiBvcHRpb25hbCBWZWN0b3IzRCBvYmplY3QgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIHJvdGF0ZWQgY29vcmRpbmF0ZXMuIElmIG5vdCBwcm92aWRlZCwgYSBuZXcgb2JqZWN0IHdpbGwgYmUgY3JlYXRlZC5cblx0ICogQHJldHVybiBBIFZlY3RvcjNEIG9iamVjdCBjb250YWluaW5nIHRoZSByb3RhdGVkIHBvaW50LlxuXHQgKi9cblx0cHVibGljIHJvdGF0ZVBvaW50KHZlY3RvcjpWZWN0b3IzRCwgdGFyZ2V0OlZlY3RvcjNEID0gbnVsbCk6VmVjdG9yM0Rcblx0e1xuXHRcdHZhciB4MTpudW1iZXIsIHkxOm51bWJlciwgejE6bnVtYmVyLCB3MTpudW1iZXI7XG5cdFx0dmFyIHgyOm51bWJlciA9IHZlY3Rvci54LCB5MjpudW1iZXIgPSB2ZWN0b3IueSwgejI6bnVtYmVyID0gdmVjdG9yLno7XG5cblx0XHQvL3RhcmdldCB8fD0gbmV3IFZlY3RvcjNEKCk7XG5cdFx0aWYgKHRhcmdldCA9PT0gbnVsbCkge1xuXG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yM0QoKTtcblxuXHRcdH1cblxuXHRcdC8vIHAqcSdcblx0XHR3MSA9IC10aGlzLngqeDIgLSB0aGlzLnkqeTIgLSB0aGlzLnoqejI7XG5cdFx0eDEgPSB0aGlzLncqeDIgKyB0aGlzLnkqejIgLSB0aGlzLnoqeTI7XG5cdFx0eTEgPSB0aGlzLncqeTIgLSB0aGlzLngqejIgKyB0aGlzLnoqeDI7XG5cdFx0ejEgPSB0aGlzLncqejIgKyB0aGlzLngqeTIgLSB0aGlzLnkqeDI7XG5cblx0XHR0YXJnZXQueCA9IC13MSp0aGlzLnggKyB4MSp0aGlzLncgLSB5MSp0aGlzLnogKyB6MSp0aGlzLnk7XG5cdFx0dGFyZ2V0LnkgPSAtdzEqdGhpcy55ICsgeDEqdGhpcy56ICsgeTEqdGhpcy53IC0gejEqdGhpcy54O1xuXHRcdHRhcmdldC56ID0gLXcxKnRoaXMueiAtIHgxKnRoaXMueSArIHkxKnRoaXMueCArIHoxKnRoaXMudztcblxuXHRcdHJldHVybiB0YXJnZXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ29waWVzIHRoZSBkYXRhIGZyb20gYSBxdWF0ZXJuaW9uIGludG8gdGhpcyBpbnN0YW5jZS5cblx0ICogQHBhcmFtIHEgVGhlIHF1YXRlcm5pb24gdG8gY29weSBmcm9tLlxuXHQgKi9cblx0cHVibGljIGNvcHlGcm9tKHE6UXVhdGVybmlvbilcblx0e1xuXHRcdHRoaXMueCA9IHEueDtcblx0XHR0aGlzLnkgPSBxLnk7XG5cdFx0dGhpcy56ID0gcS56O1xuXHRcdHRoaXMudyA9IHEudztcblx0fVxufVxuXG5leHBvcnQgPSBRdWF0ZXJuaW9uOyJdfQ==