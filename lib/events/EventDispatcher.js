/**
 * Base class for dispatching events
*
* @class away.events.EventDispatcher
*
*/
var EventDispatcher = (function () {
    function EventDispatcher(target) {
        if (target === void 0) { target = null; }
        this.listeners = new Array();
        this.target = target || this;
    }
    /**
     * Add an event listener
     * @method addEventListener
     * @param {String} Name of event to add a listener for
     * @param {Function} Callback function
     */
    EventDispatcher.prototype.addEventListener = function (type, listener) {
        if (this.listeners[type] === undefined)
            this.listeners[type] = new Array();
        if (this.getEventListenerIndex(type, listener) === -1)
            this.listeners[type].push(listener);
    };
    /**
     * Remove an event listener
     * @method removeEventListener
     * @param {String} Name of event to remove a listener for
     * @param {Function} Callback function
     */
    EventDispatcher.prototype.removeEventListener = function (type, listener) {
        var index = this.getEventListenerIndex(type, listener);
        if (index !== -1)
            this.listeners[type].splice(index, 1);
    };
    /**
     * Dispatch an event
     * @method dispatchEvent
     * @param {Event} Event to dispatch
     */
    EventDispatcher.prototype.dispatchEvent = function (event) {
        var listenerArray = this.listeners[event.type];
        if (listenerArray !== undefined) {
            var l = listenerArray.length;
            event.target = this.target;
            for (var i = 0; i < l; i++)
                listenerArray[i](event);
        }
    };
    /**
     * get Event Listener Index in array. Returns -1 if no listener is added
     * @method getEventListenerIndex
     * @param {String} Name of event to remove a listener for
     * @param {Function} Callback function
     */
    EventDispatcher.prototype.getEventListenerIndex = function (type, listener) {
        if (this.listeners[type] !== undefined) {
            var a = this.listeners[type];
            var l = a.length;
            for (var i = 0; i < l; i++)
                if (listener == a[i])
                    return i;
        }
        return -1;
    };
    /**
     * check if an object has an event listener assigned to it
     * @method hasListener
     * @param {String} Name of event to remove a listener for
     * @param {Function} Callback function
     */
    EventDispatcher.prototype.hasEventListener = function (type, listener) {
        if (listener != null) {
            return (this.getEventListenerIndex(type, listener) !== -1);
        }
        else {
            if (this.listeners[type] !== undefined)
                return (this.listeners[type].length > 0);
            return false;
        }
        return false;
    };
    return EventDispatcher;
})();
module.exports = EventDispatcher;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1jb3JlL2xpYi9ldmVudHMvRXZlbnREaXNwYXRjaGVyLnRzIl0sIm5hbWVzIjpbIkV2ZW50RGlzcGF0Y2hlciIsIkV2ZW50RGlzcGF0Y2hlci5jb25zdHJ1Y3RvciIsIkV2ZW50RGlzcGF0Y2hlci5hZGRFdmVudExpc3RlbmVyIiwiRXZlbnREaXNwYXRjaGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIiLCJFdmVudERpc3BhdGNoZXIuZGlzcGF0Y2hFdmVudCIsIkV2ZW50RGlzcGF0Y2hlci5nZXRFdmVudExpc3RlbmVySW5kZXgiLCJFdmVudERpc3BhdGNoZXIuaGFzRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6IkFBRUEsQUFNQTs7Ozs7RUFERTtJQUNJLGVBQWU7SUFLcEJBLFNBTEtBLGVBQWVBLENBS1JBLE1BQWlCQTtRQUFqQkMsc0JBQWlCQSxHQUFqQkEsYUFBaUJBO1FBSHJCQSxjQUFTQSxHQUEwQkEsSUFBSUEsS0FBS0EsRUFBbUJBLENBQUNBO1FBS3ZFQSxJQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxNQUFNQSxJQUFJQSxJQUFJQSxDQUFDQTtJQUM5QkEsQ0FBQ0E7SUFFREQ7Ozs7O09BS0dBO0lBQ0lBLDBDQUFnQkEsR0FBdkJBLFVBQXdCQSxJQUFXQSxFQUFFQSxRQUFpQkE7UUFFckRFLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFNBQVNBLENBQUVBLElBQUlBLENBQUVBLEtBQUtBLFNBQVNBLENBQUNBO1lBQ3hDQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFFQSxJQUFJQSxDQUFFQSxHQUFHQSxJQUFJQSxLQUFLQSxFQUFZQSxDQUFDQTtRQUVoREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EscUJBQXFCQSxDQUFDQSxJQUFJQSxFQUFFQSxRQUFRQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNyREEsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBRUEsSUFBSUEsQ0FBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFB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Q0E7UUFDZEEsQ0FBQ0E7UUFFREEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7SUFDZEEsQ0FBQ0E7SUFDRk4sc0JBQUNBO0FBQURBLENBakdBLEFBaUdDQSxJQUFBO0FBRUQsQUFBeUIsaUJBQWhCLGVBQWUsQ0FBQyIsImZpbGUiOiJldmVudHMvRXZlbnREaXNwYXRjaGVyLmpzIiwic291cmNlUm9vdCI6Ii4uLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9ldmVudHMvRXZlbnRcIik7XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgZGlzcGF0Y2hpbmcgZXZlbnRzXG4qXG4qIEBjbGFzcyBhd2F5LmV2ZW50cy5FdmVudERpc3BhdGNoZXJcbipcbiovXG5jbGFzcyBFdmVudERpc3BhdGNoZXJcbntcblx0cHJpdmF0ZSBsaXN0ZW5lcnM6QXJyYXk8QXJyYXk8RnVuY3Rpb24+PiA9IG5ldyBBcnJheTxBcnJheTxGdW5jdGlvbj4+KCk7XG5cdHByaXZhdGUgdGFyZ2V0OmFueTtcblxuXHRjb25zdHJ1Y3Rvcih0YXJnZXQ6YW55ID0gbnVsbClcblx0e1xuXHRcdHRoaXMudGFyZ2V0ID0gdGFyZ2V0IHx8IHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyXG5cdCAqIEBtZXRob2QgYWRkRXZlbnRMaXN0ZW5lclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gTmFtZSBvZiBldmVudCB0byBhZGQgYSBsaXN0ZW5lciBmb3Jcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gQ2FsbGJhY2sgZnVuY3Rpb25cblx0ICovXG5cdHB1YmxpYyBhZGRFdmVudExpc3RlbmVyKHR5cGU6c3RyaW5nLCBsaXN0ZW5lcjpGdW5jdGlvbilcblx0e1xuXHRcdGlmICh0aGlzLmxpc3RlbmVyc1sgdHlwZSBdID09PSB1bmRlZmluZWQpXG5cdFx0XHR0aGlzLmxpc3RlbmVyc1sgdHlwZSBdID0gbmV3IEFycmF5PEZ1bmN0aW9uPigpO1xuXG5cdFx0aWYgKHRoaXMuZ2V0RXZlbnRMaXN0ZW5lckluZGV4KHR5cGUsIGxpc3RlbmVyKSA9PT0gLTEpXG5cdFx0XHR0aGlzLmxpc3RlbmVyc1sgdHlwZSBdLnB1c2gobGlzdGVuZXIpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lclxuXHQgKiBAbWV0aG9kIHJlbW92ZUV2ZW50TGlzdGVuZXJcblx0ICogQHBhcmFtIHtTdHJpbmd9IE5hbWUgb2YgZXZlbnQgdG8gcmVtb3ZlIGEgbGlzdGVuZXIgZm9yXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IENhbGxiYWNrIGZ1bmN0aW9uXG5cdCAqL1xuXHRwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlOnN0cmluZywgbGlzdGVuZXI6RnVuY3Rpb24pXG5cdHtcblx0XHR2YXIgaW5kZXg6bnVtYmVyID0gdGhpcy5nZXRFdmVudExpc3RlbmVySW5kZXgodHlwZSwgbGlzdGVuZXIpO1xuXG5cdFx0aWYgKGluZGV4ICE9PSAtMSlcblx0XHRcdHRoaXMubGlzdGVuZXJzWyB0eXBlIF0uc3BsaWNlKGluZGV4LCAxKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBEaXNwYXRjaCBhbiBldmVudFxuXHQgKiBAbWV0aG9kIGRpc3BhdGNoRXZlbnRcblx0ICogQHBhcmFtIHtFdmVudH0gRXZlbnQgdG8gZGlzcGF0Y2hcblx0ICovXG5cdHB1YmxpYyBkaXNwYXRjaEV2ZW50KGV2ZW50OkV2ZW50KVxuXHR7XG5cdFx0dmFyIGxpc3RlbmVyQXJyYXk6QXJyYXk8RnVuY3Rpb24+ID0gdGhpcy5saXN0ZW5lcnNbIGV2ZW50LnR5cGUgXTtcblxuXHRcdGlmIChsaXN0ZW5lckFycmF5ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHZhciBsOm51bWJlciA9IGxpc3RlbmVyQXJyYXkubGVuZ3RoO1xuXG5cdFx0XHRldmVudC50YXJnZXQgPSB0aGlzLnRhcmdldDtcblxuXHRcdFx0Zm9yICh2YXIgaTpudW1iZXIgPSAwOyBpIDwgbDsgaSsrKVxuXHRcdFx0XHRsaXN0ZW5lckFycmF5W2ldKGV2ZW50KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogZ2V0IEV2ZW50IExpc3RlbmVyIEluZGV4IGluIGFycmF5LiBSZXR1cm5zIC0xIGlmIG5vIGxpc3RlbmVyIGlzIGFkZGVkXG5cdCAqIEBtZXRob2QgZ2V0RXZlbnRMaXN0ZW5lckluZGV4XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBOYW1lIG9mIGV2ZW50IHRvIHJlbW92ZSBhIGxpc3RlbmVyIGZvclxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDYWxsYmFjayBmdW5jdGlvblxuXHQgKi9cblx0cHJpdmF0ZSBnZXRFdmVudExpc3RlbmVySW5kZXgodHlwZTpzdHJpbmcsIGxpc3RlbmVyOkZ1bmN0aW9uKTpudW1iZXJcblx0e1xuXHRcdGlmICh0aGlzLmxpc3RlbmVyc1sgdHlwZSBdICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHZhciBhOkFycmF5PEZ1bmN0aW9uPiA9IHRoaXMubGlzdGVuZXJzWyB0eXBlIF07XG5cdFx0XHR2YXIgbDpudW1iZXIgPSBhLmxlbmd0aDtcblxuXHRcdFx0Zm9yICh2YXIgaTpudW1iZXIgPSAwOyBpIDwgbDsgaSsrKVxuXHRcdFx0XHRpZiAobGlzdGVuZXIgPT0gYVtpXSlcblx0XHRcdFx0XHRyZXR1cm4gaTtcblx0XHR9XG5cblx0XHRyZXR1cm4gLTE7XG5cdH1cblxuXHQvKipcblx0ICogY2hlY2sgaWYgYW4gb2JqZWN0IGhhcyBhbiBldmVudCBsaXN0ZW5lciBhc3NpZ25lZCB0byBpdFxuXHQgKiBAbWV0aG9kIGhhc0xpc3RlbmVyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBOYW1lIG9mIGV2ZW50IHRvIHJlbW92ZSBhIGxpc3RlbmVyIGZvclxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDYWxsYmFjayBmdW5jdGlvblxuXHQgKi9cblx0cHVibGljIGhhc0V2ZW50TGlzdGVuZXIodHlwZTpzdHJpbmcsIGxpc3RlbmVyPzpGdW5jdGlvbik6Ym9vbGVhblxuXHR7XG5cdFx0aWYgKGxpc3RlbmVyICE9IG51bGwpIHtcblx0XHRcdHJldHVybiAoIHRoaXMuZ2V0RXZlbnRMaXN0ZW5lckluZGV4KHR5cGUsIGxpc3RlbmVyKSAhPT0gLTEgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHRoaXMubGlzdGVuZXJzWyB0eXBlIF0gIT09IHVuZGVmaW5lZClcblx0XHRcdFx0cmV0dXJuICggdGhpcy5saXN0ZW5lcnNbIHR5cGUgXS5sZW5ndGggPiAwICk7XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxuZXhwb3J0ID0gRXZlbnREaXNwYXRjaGVyOyJdfQ==