var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var Event = require("awayjs-core/lib/events/Event");

/**
* A MouseEvent is dispatched when a mouse event occurs over a mouseEnabled object in View.
* TODO: we don't have screenZ data, tho this should be easy to implement
*/
var MouseEvent = (function (_super) {
    __extends(MouseEvent, _super);
    /**
    * Create a new MouseEvent object.
    * @param type The type of the MouseEvent.
    */
    function MouseEvent(type) {
        _super.call(this, type);
        // Private.
        this._iAllowedToPropagate = true;
    }
    Object.defineProperty(MouseEvent.prototype, "bubbles", {
        /**
        * @inheritDoc
        */
        get: function () {
            var doesBubble = this._iAllowedToPropagate;
            this._iAllowedToPropagate = true;

            // Don't bubble if propagation has been stopped.
            return doesBubble;
        },
        enumerable: true,
        configurable: true
    });

    /**
    * @inheritDoc
    */
    MouseEvent.prototype.stopPropagation = function () {
        this._iAllowedToPropagate = false;

        if (this._iParentEvent)
            this._iParentEvent.stopPropagation();
    };

    /**
    * @inheritDoc
    */
    MouseEvent.prototype.stopImmediatePropagation = function () {
        this._iAllowedToPropagate = false;

        if (this._iParentEvent)
            this._iParentEvent.stopImmediatePropagation();
    };

    /**
    * Creates a copy of the MouseEvent object and sets the value of each property to match that of the original.
    */
    MouseEvent.prototype.clone = function () {
        var result = new MouseEvent(this.type);

        /* TODO: Debug / test - look into isDefaultPrevented
        if (isDefaultPrevented())
        result.preventDefault();
        */
        result.screenX = this.screenX;
        result.screenY = this.screenY;

        result.view = this.view;
        result.object = this.object;
        result.materialOwner = this.materialOwner;
        result.material = this.material;
        result.uv = this.uv;
        result.localPosition = this.localPosition;
        result.localNormal = this.localNormal;
        result.index = this.index;
        result.subGeometryIndex = this.subGeometryIndex;
        result.delta = this.delta;

        result.ctrlKey = this.ctrlKey;
        result.shiftKey = this.shiftKey;

        result._iParentEvent = this;
        result._iAllowedToPropagate = this._iAllowedToPropagate;

        return result;
    };

    Object.defineProperty(MouseEvent.prototype, "scenePosition", {
        /**
        * The position in scene space where the event took place
        */
        get: function () {
            return this.object.sceneTransform.transformVector(this.localPosition);
        },
        enumerable: true,
        configurable: true
    });

    Object.defineProperty(MouseEvent.prototype, "sceneNormal", {
        /**
        * The normal in scene space where the event took place
        */
        get: function () {
            var sceneNormal = this.object.sceneTransform.deltaTransformVector(this.localNormal);
            sceneNormal.normalize();

            return sceneNormal;
        },
        enumerable: true,
        configurable: true
    });
    MouseEvent.MOUSE_OVER = "mouseOver3d";

    MouseEvent.MOUSE_OUT = "mouseOut3d";

    MouseEvent.MOUSE_UP = "mouseUp3d";

    MouseEvent.MOUSE_DOWN = "mouseDown3d";

    MouseEvent.MOUSE_MOVE = "mouseMove3d";

    MouseEvent.CLICK = "click3d";

    MouseEvent.DOUBLE_CLICK = "doubleClick3d";

    MouseEvent.MOUSE_WHEEL = "mouseWheel3d";
    return MouseEvent;
})(Event);

module.exports = MouseEvent;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50cy9Nb3VzZUV2ZW50LnRzIl0sIm5hbWVzIjpbIk1vdXNlRXZlbnQiLCJNb3VzZUV2ZW50LmNvbnN0cnVjdG9yIiwiTW91c2VFdmVudC5zdG9wUHJvcGFnYXRpb24iLCJNb3VzZUV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIk1vdXNlRXZlbnQuY2xvbmUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLG1EQUsyRDs7QUFHM0Q7OztFQUdHO0FBQ0g7SUFBeUJBLDZCQUFLQTtJQXVJN0JBOzs7TUFER0E7SUFDSEEsb0JBQVlBLElBQVdBO1FBRXRCQyxXQUFNQSxPQUFBQSxJQUFJQSxDQUFDQTtRQXZJWkEsV0FBV0E7UUFDWEEsS0FBT0Esb0JBQW9CQSxHQUFXQSxJQUFJQSxDQUFDQTtJQXVJM0NBLENBQUNBO0lBS0REO1FBQUFBOztVQURHQTthQUNIQTtZQUVDQSxJQUFJQSxVQUFVQSxHQUFXQSxJQUFJQSxDQUFDQSxvQkFBb0JBO1lBQ2xEQSxJQUFJQSxDQUFDQSxvQkFBb0JBLEdBQUdBLElBQUlBOztZQUVoQ0EsZ0RBQWdEQTtZQUNoREEsT0FBT0EsVUFBVUE7UUFDbEJBLENBQUNBOzs7O0FBQUFBO0lBS0RBOztNQURHQTsyQ0FDSEE7UUFFQ0UsSUFBSUEsQ0FBQ0Esb0JBQW9CQSxHQUFHQSxLQUFLQTs7UUFFakNBLElBQUlBLElBQUlBLENBQUNBLGFBQWFBO1lBQ3JCQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxlQUFlQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUN2Q0EsQ0FBQ0E7O0lBS0RGOztNQURHQTtvREFDSEE7UUFFQ0csSUFBSUEsQ0FBQ0Esb0JBQW9CQSxHQUFHQSxLQUFLQTs7UUFFakNBLElBQUlBLElBQUlBLENBQUNBLGFBQWFBO1lBQ3JCQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSx3QkFBd0JBLENBQUNBLENBQUNBLENBQUNBO0lBQ2hEQSxDQUFDQTs7SUFLREg7O01BREdBO2lDQUNIQTtRQUVDSSxJQUFJQSxNQUFNQSxHQUFjQSxJQUFJQSxVQUFVQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQTs7UUFFakRBOzs7VUFHR0E7UUFFSEEsTUFBTUEsQ0FBQ0EsT0FBT0EsR0FBR0EsSUFBSUEsQ0FBQ0EsT0FBT0E7UUFDN0JBLE1BQU1BLENBQUNBLE9BQU9BLEdBQUdBLElBQUlBLENBQUNBLE9BQU9BOztRQUU3QkEsTUFBTUEsQ0FBQ0EsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUE7UUFDdkJBLE1BQU1BLENBQUNBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBLE1BQU1BO1FBQzNCQSxNQUFNQSxDQUFDQSxhQUFhQSxHQUFHQSxJQUFJQSxDQUFDQSxhQUFhQTtRQUN6Q0EsTUFBTUEsQ0FBQ0EsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0EsUUFBUUE7UUFDL0JBLE1BQU1BLENBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLEVBQUVBO1FBQ25CQSxNQUFNQSxDQUFDQSxhQUFhQSxHQUFHQSxJQUFJQSxDQUFDQSxhQUFhQTtRQUN6Q0EsTUFBTUEsQ0FBQ0EsV0FBV0EsR0FBR0EsSUFBSUEsQ0FBQ0EsV0FBV0E7UUFDckNBLE1BQU1BLENBQUNBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBLEtBQUtBO1FBQ3pCQSxNQUFNQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLElBQUlBLENBQUNBLGdCQUFnQkE7UUFDL0NBLE1BQU1BLENBQUNBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBLEtBQUtBOztRQUV6QkEsTUFBTUEsQ0FBQ0EsT0FBT0EsR0FBR0EsSUFBSUEsQ0FBQ0EsT0FBT0E7UUFDN0JBLE1BQU1BLENBQUNBLFFBQVFBLEdBQUdBLElBQUlBLENBQUNBLFFBQVFBOztRQUUvQkEsTUFBTUEsQ0FBQ0EsYUFBYUEsR0FBR0EsSUFBSUE7UUFDM0JBLE1BQU1BLENBQUNBLG9CQUFvQkEsR0FBR0EsSUFBSUEsQ0FBQ0Esb0JBQW9CQTs7UUFFdkRBLE9BQU9BLE1BQU1BO0lBQ2RBLENBQUNBOztJQUtESjtRQUFBQTs7VUFER0E7YUFDSEE7WUFFQ0EsT0FBT0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0E7UUFDdEVBLENBQUNBOzs7O0FBQUFBO0lBS0RBO1FBQUFBOztVQURHQTthQUNIQTtZQUVDQSxJQUFJQSxXQUFXQSxHQUFZQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQSxvQkFBb0JBLENBQUNBLElBQUlBLENBQUNBLFdBQVdBLENBQUNBO1lBQzVGQSxXQUFXQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQTs7WUFFdkJBLE9BQU9BLFdBQVdBO1FBQ25CQSxDQUFDQTs7OztBQUFBQSxJQXpOREEsd0JBQWtDQSxhQUFhQTs7SUFLL0NBLHVCQUFpQ0EsWUFBWUE7O0lBSzdDQSxzQkFBZ0NBLFdBQVdBOztJQUszQ0Esd0JBQWtDQSxhQUFhQTs7SUFLL0NBLHdCQUFrQ0EsYUFBYUE7O0lBZS9DQSxtQkFBNkJBLFNBQVNBOztJQUt0Q0EsMEJBQW9DQSxlQUFlQTs7SUFLbkRBLHlCQUFtQ0EsY0FBY0E7SUE2S2xEQSxrQkFBQ0E7QUFBREEsQ0FBQ0EsRUFuT3dCLEtBQUssRUFtTzdCOztBQUVELDJCQUFvQixDQUFBIiwiZmlsZSI6ImV2ZW50cy9Nb3VzZUV2ZW50LmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yb2JiYXRlbWFuL1dlYnN0b3JtUHJvamVjdHMvYXdheWpzLWNvcmUvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZpZXdcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29udGFpbmVycy9WaWV3XCIpO1xuaW1wb3J0IERpc3BsYXlPYmplY3RcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29yZS9iYXNlL0Rpc3BsYXlPYmplY3RcIik7XG5pbXBvcnQgSU1hdGVyaWFsT3duZXJcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29yZS9iYXNlL0lNYXRlcmlhbE93bmVyXCIpO1xuaW1wb3J0IFBvaW50XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9jb3JlL2dlb20vUG9pbnRcIik7XG5pbXBvcnQgVmVjdG9yM0RcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvZ2VvbS9WZWN0b3IzRFwiKTtcbmltcG9ydCBFdmVudFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZXZlbnRzL0V2ZW50XCIpO1xuaW1wb3J0IE1hdGVyaWFsQmFzZVx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL21hdGVyaWFscy9NYXRlcmlhbEJhc2VcIik7XG5cbi8qKlxuICogQSBNb3VzZUV2ZW50IGlzIGRpc3BhdGNoZWQgd2hlbiBhIG1vdXNlIGV2ZW50IG9jY3VycyBvdmVyIGEgbW91c2VFbmFibGVkIG9iamVjdCBpbiBWaWV3LlxuICogVE9ETzogd2UgZG9uJ3QgaGF2ZSBzY3JlZW5aIGRhdGEsIHRobyB0aGlzIHNob3VsZCBiZSBlYXN5IHRvIGltcGxlbWVudFxuICovXG5jbGFzcyBNb3VzZUV2ZW50IGV4dGVuZHMgRXZlbnRcbntcblx0Ly8gUHJpdmF0ZS5cblx0cHVibGljIF9pQWxsb3dlZFRvUHJvcGFnYXRlOmJvb2xlYW4gPSB0cnVlO1xuXHRwdWJsaWMgX2lQYXJlbnRFdmVudDpNb3VzZUV2ZW50O1xuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIHRoZSB2YWx1ZSBvZiB0aGUgdHlwZSBwcm9wZXJ0eSBvZiBhIG1vdXNlT3ZlcjNkIGV2ZW50IG9iamVjdC5cblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgTU9VU0VfT1ZFUjpzdHJpbmcgPSBcIm1vdXNlT3ZlcjNkXCI7XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIHZhbHVlIG9mIHRoZSB0eXBlIHByb3BlcnR5IG9mIGEgbW91c2VPdXQzZCBldmVudCBvYmplY3QuXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIE1PVVNFX09VVDpzdHJpbmcgPSBcIm1vdXNlT3V0M2RcIjtcblxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgdmFsdWUgb2YgdGhlIHR5cGUgcHJvcGVydHkgb2YgYSBtb3VzZVVwM2QgZXZlbnQgb2JqZWN0LlxuXHQgKi9cblx0cHVibGljIHN0YXRpYyBNT1VTRV9VUDpzdHJpbmcgPSBcIm1vdXNlVXAzZFwiO1xuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIHRoZSB2YWx1ZSBvZiB0aGUgdHlwZSBwcm9wZXJ0eSBvZiBhIG1vdXNlRG93bjNkIGV2ZW50IG9iamVjdC5cblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgTU9VU0VfRE9XTjpzdHJpbmcgPSBcIm1vdXNlRG93bjNkXCI7XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIHZhbHVlIG9mIHRoZSB0eXBlIHByb3BlcnR5IG9mIGEgbW91c2VNb3ZlM2QgZXZlbnQgb2JqZWN0LlxuXHQgKi9cblx0cHVibGljIHN0YXRpYyBNT1VTRV9NT1ZFOnN0cmluZyA9IFwibW91c2VNb3ZlM2RcIjtcblxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgdmFsdWUgb2YgdGhlIHR5cGUgcHJvcGVydHkgb2YgYSByb2xsT3ZlcjNkIGV2ZW50IG9iamVjdC5cblx0ICovXG4vL1x0XHRwdWJsaWMgc3RhdGljIFJPTExfT1ZFUiA6IHN0cmluZyA9IFwicm9sbE92ZXIzZFwiO1xuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIHRoZSB2YWx1ZSBvZiB0aGUgdHlwZSBwcm9wZXJ0eSBvZiBhIHJvbGxPdXQzZCBldmVudCBvYmplY3QuXG5cdCAqL1xuLy9cdFx0cHVibGljIHN0YXRpYyBST0xMX09VVCA6IHN0cmluZyA9IFwicm9sbE91dDNkXCI7XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIHZhbHVlIG9mIHRoZSB0eXBlIHByb3BlcnR5IG9mIGEgY2xpY2szZCBldmVudCBvYmplY3QuXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIENMSUNLOnN0cmluZyA9IFwiY2xpY2szZFwiO1xuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIHRoZSB2YWx1ZSBvZiB0aGUgdHlwZSBwcm9wZXJ0eSBvZiBhIGRvdWJsZUNsaWNrM2QgZXZlbnQgb2JqZWN0LlxuXHQgKi9cblx0cHVibGljIHN0YXRpYyBET1VCTEVfQ0xJQ0s6c3RyaW5nID0gXCJkb3VibGVDbGljazNkXCI7XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIHZhbHVlIG9mIHRoZSB0eXBlIHByb3BlcnR5IG9mIGEgbW91c2VXaGVlbDNkIGV2ZW50IG9iamVjdC5cblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgTU9VU0VfV0hFRUw6c3RyaW5nID0gXCJtb3VzZVdoZWVsM2RcIjtcblxuXHQvKipcblx0ICogVGhlIGhvcml6b250YWwgY29vcmRpbmF0ZSBhdCB3aGljaCB0aGUgZXZlbnQgb2NjdXJyZWQgaW4gdmlldyBjb29yZGluYXRlcy5cblx0ICovXG5cdHB1YmxpYyBzY3JlZW5YOm51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIHZlcnRpY2FsIGNvb3JkaW5hdGUgYXQgd2hpY2ggdGhlIGV2ZW50IG9jY3VycmVkIGluIHZpZXcgY29vcmRpbmF0ZXMuXG5cdCAqL1xuXHRwdWJsaWMgc2NyZWVuWTpudW1iZXI7XG5cblx0LyoqXG5cdCAqIFRoZSB2aWV3IG9iamVjdCBpbnNpZGUgd2hpY2ggdGhlIGV2ZW50IHRvb2sgcGxhY2UuXG5cdCAqL1xuXHRwdWJsaWMgdmlldzpWaWV3O1xuXG5cdC8qKlxuXHQgKiBUaGUgM2Qgb2JqZWN0IGluc2lkZSB3aGljaCB0aGUgZXZlbnQgdG9vayBwbGFjZS5cblx0ICovXG5cdHB1YmxpYyBvYmplY3Q6RGlzcGxheU9iamVjdDtcblxuXHQvKipcblx0ICogVGhlIG1hdGVyaWFsIG93bmVyIGluc2lkZSB3aGljaCB0aGUgZXZlbnQgdG9vayBwbGFjZS5cblx0ICovXG5cdHB1YmxpYyBtYXRlcmlhbE93bmVyOklNYXRlcmlhbE93bmVyO1xuXG5cdC8qKlxuXHQgKiBUaGUgbWF0ZXJpYWwgb2YgdGhlIDNkIGVsZW1lbnQgaW5zaWRlIHdoaWNoIHRoZSBldmVudCB0b29rIHBsYWNlLlxuXHQgKi9cblx0cHVibGljIG1hdGVyaWFsOk1hdGVyaWFsQmFzZTtcblxuXHQvKipcblx0ICogVGhlIHV2IGNvb3JkaW5hdGUgaW5zaWRlIHRoZSBkcmF3IHByaW1pdGl2ZSB3aGVyZSB0aGUgZXZlbnQgdG9vayBwbGFjZS5cblx0ICovXG5cdHB1YmxpYyB1djpQb2ludDtcblxuXHQvKipcblx0ICogVGhlIGluZGV4IG9mIHRoZSBmYWNlIHdoZXJlIHRoZSBldmVudCB0b29rIHBsYWNlLlxuXHQgKi9cblx0cHVibGljIGluZGV4Om51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIGluZGV4IG9mIHRoZSBzdWJHZW9tZXRyeSB3aGVyZSB0aGUgZXZlbnQgdG9vayBwbGFjZS5cblx0ICovXG5cdHB1YmxpYyBzdWJHZW9tZXRyeUluZGV4Om51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIHBvc2l0aW9uIGluIG9iamVjdCBzcGFjZSB3aGVyZSB0aGUgZXZlbnQgdG9vayBwbGFjZVxuXHQgKi9cblx0cHVibGljIGxvY2FsUG9zaXRpb246VmVjdG9yM0Q7XG5cblx0LyoqXG5cdCAqIFRoZSBub3JtYWwgaW4gb2JqZWN0IHNwYWNlIHdoZXJlIHRoZSBldmVudCB0b29rIHBsYWNlXG5cdCAqL1xuXHRwdWJsaWMgbG9jYWxOb3JtYWw6VmVjdG9yM0Q7XG5cblx0LyoqXG5cdCAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBDb250cm9sIGtleSBpcyBhY3RpdmUgKHRydWUpIG9yIGluYWN0aXZlIChmYWxzZSkuXG5cdCAqL1xuXHRwdWJsaWMgY3RybEtleTpib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgQWx0IGtleSBpcyBhY3RpdmUgKHRydWUpIG9yIGluYWN0aXZlIChmYWxzZSkuXG5cdCAqL1xuXHRwdWJsaWMgYWx0S2V5OmJvb2xlYW47XG5cblx0LyoqXG5cdCAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBTaGlmdCBrZXkgaXMgYWN0aXZlICh0cnVlKSBvciBpbmFjdGl2ZSAoZmFsc2UpLlxuXHQgKi9cblx0cHVibGljIHNoaWZ0S2V5OmJvb2xlYW47XG5cblx0LyoqXG5cdCAqIEluZGljYXRlcyBob3cgbWFueSBsaW5lcyBzaG91bGQgYmUgc2Nyb2xsZWQgZm9yIGVhY2ggdW5pdCB0aGUgdXNlciByb3RhdGVzIHRoZSBtb3VzZSB3aGVlbC5cblx0ICovXG5cdHB1YmxpYyBkZWx0YTpudW1iZXI7XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBhIG5ldyBNb3VzZUV2ZW50IG9iamVjdC5cblx0ICogQHBhcmFtIHR5cGUgVGhlIHR5cGUgb2YgdGhlIE1vdXNlRXZlbnQuXG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcih0eXBlOnN0cmluZylcblx0e1xuXHRcdHN1cGVyKHR5cGUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBpbmhlcml0RG9jXG5cdCAqL1xuXHRwdWJsaWMgZ2V0IGJ1YmJsZXMoKTpib29sZWFuXG5cdHtcblx0XHR2YXIgZG9lc0J1YmJsZTpib29sZWFuID0gdGhpcy5faUFsbG93ZWRUb1Byb3BhZ2F0ZTtcblx0XHR0aGlzLl9pQWxsb3dlZFRvUHJvcGFnYXRlID0gdHJ1ZTtcblxuXHRcdC8vIERvbid0IGJ1YmJsZSBpZiBwcm9wYWdhdGlvbiBoYXMgYmVlbiBzdG9wcGVkLlxuXHRcdHJldHVybiBkb2VzQnViYmxlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBpbmhlcml0RG9jXG5cdCAqL1xuXHRwdWJsaWMgc3RvcFByb3BhZ2F0aW9uKClcblx0e1xuXHRcdHRoaXMuX2lBbGxvd2VkVG9Qcm9wYWdhdGUgPSBmYWxzZTtcblxuXHRcdGlmICh0aGlzLl9pUGFyZW50RXZlbnQpXG5cdFx0XHR0aGlzLl9pUGFyZW50RXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH1cblxuXHQvKipcblx0ICogQGluaGVyaXREb2Ncblx0ICovXG5cdHB1YmxpYyBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuXHR7XG5cdFx0dGhpcy5faUFsbG93ZWRUb1Byb3BhZ2F0ZSA9IGZhbHNlO1xuXG5cdFx0aWYgKHRoaXMuX2lQYXJlbnRFdmVudClcblx0XHRcdHRoaXMuX2lQYXJlbnRFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgY29weSBvZiB0aGUgTW91c2VFdmVudCBvYmplY3QgYW5kIHNldHMgdGhlIHZhbHVlIG9mIGVhY2ggcHJvcGVydHkgdG8gbWF0Y2ggdGhhdCBvZiB0aGUgb3JpZ2luYWwuXG5cdCAqL1xuXHRwdWJsaWMgY2xvbmUoKTpFdmVudFxuXHR7XG5cdFx0dmFyIHJlc3VsdDpNb3VzZUV2ZW50ID0gbmV3IE1vdXNlRXZlbnQodGhpcy50eXBlKTtcblxuXHRcdC8qIFRPRE86IERlYnVnIC8gdGVzdCAtIGxvb2sgaW50byBpc0RlZmF1bHRQcmV2ZW50ZWRcblx0XHQgaWYgKGlzRGVmYXVsdFByZXZlbnRlZCgpKVxuXHRcdCByZXN1bHQucHJldmVudERlZmF1bHQoKTtcblx0XHQgKi9cblxuXHRcdHJlc3VsdC5zY3JlZW5YID0gdGhpcy5zY3JlZW5YO1xuXHRcdHJlc3VsdC5zY3JlZW5ZID0gdGhpcy5zY3JlZW5ZO1xuXG5cdFx0cmVzdWx0LnZpZXcgPSB0aGlzLnZpZXc7XG5cdFx0cmVzdWx0Lm9iamVjdCA9IHRoaXMub2JqZWN0O1xuXHRcdHJlc3VsdC5tYXRlcmlhbE93bmVyID0gdGhpcy5tYXRlcmlhbE93bmVyO1xuXHRcdHJlc3VsdC5tYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWw7XG5cdFx0cmVzdWx0LnV2ID0gdGhpcy51djtcblx0XHRyZXN1bHQubG9jYWxQb3NpdGlvbiA9IHRoaXMubG9jYWxQb3NpdGlvbjtcblx0XHRyZXN1bHQubG9jYWxOb3JtYWwgPSB0aGlzLmxvY2FsTm9ybWFsO1xuXHRcdHJlc3VsdC5pbmRleCA9IHRoaXMuaW5kZXg7XG5cdFx0cmVzdWx0LnN1Ykdlb21ldHJ5SW5kZXggPSB0aGlzLnN1Ykdlb21ldHJ5SW5kZXg7XG5cdFx0cmVzdWx0LmRlbHRhID0gdGhpcy5kZWx0YTtcblxuXHRcdHJlc3VsdC5jdHJsS2V5ID0gdGhpcy5jdHJsS2V5O1xuXHRcdHJlc3VsdC5zaGlmdEtleSA9IHRoaXMuc2hpZnRLZXk7XG5cblx0XHRyZXN1bHQuX2lQYXJlbnRFdmVudCA9IHRoaXM7XG5cdFx0cmVzdWx0Ll9pQWxsb3dlZFRvUHJvcGFnYXRlID0gdGhpcy5faUFsbG93ZWRUb1Byb3BhZ2F0ZTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIHBvc2l0aW9uIGluIHNjZW5lIHNwYWNlIHdoZXJlIHRoZSBldmVudCB0b29rIHBsYWNlXG5cdCAqL1xuXHRwdWJsaWMgZ2V0IHNjZW5lUG9zaXRpb24oKTpWZWN0b3IzRFxuXHR7XG5cdFx0cmV0dXJuIHRoaXMub2JqZWN0LnNjZW5lVHJhbnNmb3JtLnRyYW5zZm9ybVZlY3Rvcih0aGlzLmxvY2FsUG9zaXRpb24pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBub3JtYWwgaW4gc2NlbmUgc3BhY2Ugd2hlcmUgdGhlIGV2ZW50IHRvb2sgcGxhY2Vcblx0ICovXG5cdHB1YmxpYyBnZXQgc2NlbmVOb3JtYWwoKTpWZWN0b3IzRFxuXHR7XG5cdFx0dmFyIHNjZW5lTm9ybWFsOlZlY3RvcjNEID0gdGhpcy5vYmplY3Quc2NlbmVUcmFuc2Zvcm0uZGVsdGFUcmFuc2Zvcm1WZWN0b3IodGhpcy5sb2NhbE5vcm1hbCk7XG5cdFx0c2NlbmVOb3JtYWwubm9ybWFsaXplKCk7XG5cblx0XHRyZXR1cm4gc2NlbmVOb3JtYWw7XG5cdH1cbn1cblxuZXhwb3J0ID0gTW91c2VFdmVudDsiXX0=