//---------------------------------------------------
// Application Harness
var AppHarness = (function () {
    //------------------------------------------------------------------------------
    function AppHarness() {
        var _this = this;
        //------------------------------------------------------------------------------
        this.tests = new Array();
        this.counter = 0;
        this.sourceVisible = false;
        this.loadDefault = true;
        this.initFrameSet();
        this.initInterface();

        this.previousBtn.onclick = function () {
            return _this.nagigateBy(-1);
        };
        this.nextBtn.onclick = function () {
            return _this.nagigateBy(1);
        };
        this.sourceBtn.onclick = function () {
            return _this.toggleSource();
        };
        this.dropDown.onchange = function (e) {
            return _this.dropDownChange(e);
        };
    }
    //------------------------------------------------------------------------------
    /**
    *
    * Load a test
    *
    * @param classPath - Module and Class path of test
    * @param js Path to JavaScript file
    * @param ts Path to Typescript file ( not yet used - reserved for future show source )
    */
    AppHarness.prototype.load = function (classPath, js, ts) {
        this.loadFromURL();

        if (this.loadDefault) {
            window.history.pushState(js, js, '?test=' + js);
            this.testIframe.src = 'frame.html?name=' + classPath + '&js=' + js;
            this.srcIframe.src = "data:text/html;charset=utf-8," + this.createSourceViewHTML(ts);
        }
    };

    /**
    *
    * Add a test to the AppHarness
    *
    * @param name Name of test
    * @param classPath - Module and Class path of test
    * @param js Path to JavaScript file
    * @param ts Path to Typescript file ( not yet used - reserved for future show source )
    */
    AppHarness.prototype.addTest = function (name, classpath, js, ts) {
        this.tests.push(new TestData(name, classpath, js, ts));
    };

    /**
    *
    * Add a separator to the menu
    *
    * @param name
    */
    AppHarness.prototype.addSeperator = function (name) {
        if (typeof name === "undefined") { name = ''; }
        this.tests.push(new TestData('-- ' + name, '', '', ''));
    };

    /**
    *
    * Start the application harness
    *
    */
    AppHarness.prototype.start = function (slideshowMode) {
        var _this = this;
        if (typeof slideshowMode === "undefined") { slideshowMode = false; }
        for (var c = 0; c < this.tests.length; c++) {
            var option = new Option(this.tests[c].name, String(c));
            this.dropDown.add(option);
        }

        if (slideshowMode) {
            setInterval(function () {
                return _this.nagigateBy(1);
            }, 15000);
        }
    };

    //------------------------------------------------------------------------------
    AppHarness.prototype.loadFromURL = function () {
        var queryParams = Utils.getQueryParams(document.location.search);

        if (queryParams.test != null) {
            var l = this.tests.length;

            for (var c = 0; c < l; c++) {
                if (this.tests[c].js == queryParams.test) {
                    console.log('======>>>> LOAD TEST');

                    this.navigateToSection(this.tests[c]);
                    this.loadDefault = false;
                }
            }
        }
    };

    /**
    *
    */
    AppHarness.prototype.initInterface = function () {
        var testSelector = document.createElement('div');
        testSelector.style.cssFloat = 'none';
        testSelector.style.position = 'absolute';
        testSelector.style.bottom = '15px';
        testSelector.style.width = '600px';
        testSelector.style.left = '50%';
        testSelector.style.marginLeft = '-300px';
        testSelector.style.textAlign = 'center';

        this.dropDown = document.createElement('select');
        this.dropDown.name = "selectTestDropDown";
        this.dropDown.id = "selectTest";

        this.sourceBtn = document.createElement('button');
        this.sourceBtn.innerHTML = 'Show Source';
        this.sourceBtn.id = 'previous';

        this.previousBtn = document.createElement('button');
        this.previousBtn.innerHTML = '<<';
        this.previousBtn.id = 'previous';

        this.nextBtn = document.createElement('button');
        this.nextBtn.innerHTML = '>>';
        this.nextBtn.id = 'next';

        testSelector.appendChild(this.sourceBtn);
        testSelector.appendChild(this.previousBtn);
        testSelector.appendChild(this.dropDown);
        testSelector.appendChild(this.nextBtn);
        document.body.appendChild(testSelector);
    };

    /**
    *
    */
    AppHarness.prototype.initFrameSet = function () {
        var iframeContainer = document.createElement('div');
        iframeContainer.style.width = '100%';
        iframeContainer.style.height = '100%';

        this.testIframe = document.createElement('iframe');
        this.testIframe.id = 'testContainer';
        this.testIframe.style.backgroundColor = '#9e9e9e';
        this.testIframe.style.cssFloat = 'none';
        this.testIframe.style.position = 'absolute';
        this.testIframe.style.top = '0px';
        this.testIframe.style.left = '0px';
        this.testIframe.style.border = '0px';
        this.testIframe.style.width = '100%';
        this.testIframe.style.height = '100%';

        //bottom: 120px;
        this.srcIframe = document.createElement('iframe');
        this.srcIframe.id = 'testSourceContainer';
        this.srcIframe.style.backgroundColor = '#9e9e9e';
        this.srcIframe.style.cssFloat = 'none';
        this.srcIframe.style.position = 'absolute';
        this.srcIframe.style.right = '0px';
        this.srcIframe.style.top = '0px';
        this.srcIframe.style.bottom = '0px';
        this.srcIframe.style.border = '0px';
        this.srcIframe.style.width = '0%';
        this.srcIframe.style.height = '100%';

        iframeContainer.appendChild(this.testIframe);
        iframeContainer.appendChild(this.srcIframe);

        document.body.appendChild(iframeContainer);
    };

    /**
    *
    * Selectnext / previous menu item
    *
    * @param direction
    */
    AppHarness.prototype.nagigateBy = function (direction) {
        if (typeof direction === "undefined") { direction = 1; }
        var l = this.tests.length;
        var nextCounter = this.counter + direction;

        if (nextCounter < 0) {
            nextCounter = this.tests.length - 1;
        } else if (nextCounter > this.tests.length - 1) {
            nextCounter = 0;
        }

        var testData = this.tests[nextCounter];

        if (testData.name.indexOf('--') != -1) {
            this.counter = nextCounter;
            this.nagigateBy(direction);
        } else {
            this.navigateToSection(testData);
            this.dropDown.selectedIndex = nextCounter;
            this.counter = nextCounter;
        }
    };

    /**
    *
    * Navigate to a section
    *
    * @param testData
    */
    AppHarness.prototype.navigateToSection = function (testData) {
        window.history.pushState(testData.js, testData.js, '?test=' + testData.js);
        this.srcIframe.src = "data:text/html;charset=utf-8," + this.createSourceViewHTML(testData.src);
        this.testIframe.src = 'frame.html?name=' + testData.classpath + '&js=' + testData.js;
    };

    AppHarness.prototype.toggleSource = function () {
        if (this.sourceVisible) {
            this.testIframe.style.width = '100%';
            this.srcIframe.style.width = '0%';
            this.sourceBtn.innerHTML = 'Show Source';
        } else {
            this.testIframe.style.width = '20%';
            this.srcIframe.style.width = '80%';
            this.sourceBtn.innerHTML = 'Hide Source';
        }

        this.sourceVisible = !this.sourceVisible;
    };

    AppHarness.prototype.createSourceViewHTML = function (url) {
        var html = '';

        html += '<!DOCTYPE html>';
        html += '<html>';
        html += '   <head>';
        html += '       <title></title>';
        html += '       <style>';
        html += '           html';
        html += '           {';
        html += '               height: 100%;';
        html += '               border: 0px;';
        html += '               padding: 0px;';
        html += '          }';
        html += '       </style>';
        html += '   <script src="http://gist-it.appspot.com/github/awayjs/awayjs-core-ts/tree/master/tests/' + url + '?footer=no"></script>';
        html += '</head>';
        html += '<body>';
        html += '</body>';
        html += '</html>';

        return html;
    };

    //------------------------------------------------------------------------------
    // Utils
    /**
    *
    * Util function - get Element by ID
    *
    * @param id
    * @returns {HTMLElement}
    */
    AppHarness.prototype.getId = function (id) {
        return document.getElementById(id);
    };

    //------------------------------------------------------------------------------
    // Events
    /**
    *
    * Dropbox event handler
    *
    * @param e
    */
    AppHarness.prototype.dropDownChange = function (e) {
        this.dropDown.options[this.dropDown.selectedIndex].value;
        this.counter = this.dropDown.selectedIndex;
        var dataIndex = parseInt(this.dropDown.options[this.dropDown.selectedIndex].value);

        if (!isNaN(dataIndex)) {
            this.navigateToSection(this.tests[dataIndex]);
        }
    };
    return AppHarness;
})();

//---------------------------------------------------
// Application Frame
var AppFrame = (function () {
    function AppFrame() {
        this.classPath = '';
        this.jsPath = '';
        var queryParams = Utils.getQueryParams(document.location.search);

        if (queryParams.js != undefined && queryParams.name != undefined) {
            this.jsPath = queryParams.js;
            this.classPath = queryParams.name;
            this.loadJS(this.jsPath);
        }
    }
    /**
    *
    * Load a JavaScript file
    *
    * @param url - URL of JavaScript file
    */
    AppFrame.prototype.loadJS = function (url) {
        var _this = this;
        var head = document.getElementsByTagName("head")[0];
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = url;
        script.onload = function () {
            return _this.jsLoaded();
        };

        head.appendChild(script);
    };

    /**
    *
    * Event Handler for loaded JavaScript files
    *
    */
    AppFrame.prototype.jsLoaded = function () {
        var createPath = this.classPath.split('.');
        var obj;

        for (var c = 0; c < createPath.length; c++) {
            if (obj == null) {
                obj = window[createPath[c]]; // reference base module ( will be a child of the window )
            } else {
                obj = obj[createPath[c]]; // reference sub module / Class
            }
        }

        if (obj != null) {
            new obj(); // if Class has been found - start the test
        }
    };
    return AppFrame;
})();

//---------------------------------------------------
// Common Utilities
var Utils = (function () {
    function Utils() {
    }
    /**
    *
    * Utility function - Parse a Query formatted string
    *
    * @param qs
    * @returns {{}}
    */
    Utils.getQueryParams = function (qs) {
        qs = qs.split("+").join(" ");

        var params = {}, tokens, re = /[?&]?([^=]+)=([^&]*)/g;

        while (tokens = re.exec(qs)) {
            params[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);
        }

        return params;
    };
    return Utils;
})();

//---------------------------------------------------
// Data
var TestData = (function () {
    function TestData(name, classpath, js, src) {
        this.js = js;
        this.classpath = classpath;
        this.src = src;
        this.name = name;
    }
    return TestData;
})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFwcEhhcm5lc3MudHMiXSwibmFtZXMiOlsiQXBwSGFybmVzcyIsIkFwcEhhcm5lc3MuY29uc3RydWN0b3IiLCJBcHBIYXJuZXNzLmxvYWQiLCJBcHBIYXJuZXNzLmFkZFRlc3QiLCJBcHBIYXJuZXNzLmFkZFNlcGVyYXRvciIsIkFwcEhhcm5lc3Muc3RhcnQiLCJBcHBIYXJuZXNzLmxvYWRGcm9tVVJMIiwiQXBwSGFybmVzcy5pbml0SW50ZXJmYWNlIiwiQXBwSGFybmVzcy5pbml0RnJhbWVTZXQiLCJBcHBIYXJuZXNzLm5hZ2lnYXRlQnkiLCJBcHBIYXJuZXNzLm5hdmlnYXRlVG9TZWN0aW9uIiwiQXBwSGFybmVzcy50b2dnbGVTb3VyY2UiLCJBcHBIYXJuZXNzLmNyZWF0ZVNvdXJjZVZpZXdIVE1MIiwiQXBwSGFybmVzcy5nZXRJZCIsIkFwcEhhcm5lc3MuZHJvcERvd25DaGFuZ2UiLCJBcHBGcmFtZSIsIkFwcEZyYW1lLmNvbnN0cnVjdG9yIiwiQXBwRnJhbWUubG9hZEpTIiwiQXBwRnJhbWUuanNMb2FkZWQiLCJVdGlscyIsIlV0aWxzLmNvbnN0cnVjdG9yIiwiVXRpbHMuZ2V0UXVlcnlQYXJhbXMiLCJUZXN0RGF0YSIsIlRlc3REYXRhLmNvbnN0cnVjdG9yIl0sIm1hcHBpbmdzIjoiQUFBQSxxREFBcUQ7QUFDckQsc0JBQXNCO0FBRXRCO0lBa0JDQSxnRkFGZ0ZBO0lBRWhGQTtRQUFBQyxpQkFZQ0E7UUEzQkRBLGdGQUFnRkE7UUFFaEZBLEtBQVFBLEtBQUtBLEdBQStCQSxJQUFJQSxLQUFLQSxDQUFXQSxDQUFDQSxDQUFDQTtRQU9sRUEsS0FBUUEsT0FBT0EsR0FBb0JBLENBQUNBLENBQUNBO1FBQ3JDQSxLQUFRQSxhQUFhQSxHQUFlQSxLQUFLQSxDQUFDQTtRQUMxQ0EsS0FBUUEsV0FBV0EsR0FBaUJBLElBQUlBLENBQUNBO1FBT3hDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQTtRQUNuQkEsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0Es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LENBQUNBOztRQUU1QkEsSUFBSUEsTUFBTUEsR0FBR0EsRUFBRUEsRUFBRUEsTUFBTUEsRUFDdEJBLEVBQUVBLEdBQUdBLHVCQUF1QkE7O1FBRTdCQSxPQUFPQSxNQUFNQSxHQUFHQSxFQUFFQSxDQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFFQTtZQUM1QkEsTUFBTUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxrQkFBa0JBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1NBQ3JFQTs7UUFFREEsT0FBT0EsTUFBTUE7SUFDZEEsQ0FBQ0E7SUFDRkYsYUFBQ0E7QUFBREEsQ0FBQ0EsSUFBQTs7QUFFRCxxREFBcUQ7QUFDckQsT0FBTztBQUVQO0lBT0NHLGtCQUFhQSxJQUFhQSxFQUFHQSxTQUFrQkEsRUFBR0EsRUFBV0EsRUFBR0EsR0FBWUE7UUFFM0VDLElBQUlBLENBQUNBLEVBQUVBLEdBQVdBLEVBQUVBO1FBQ3BCQSxJQUFJQSxDQUFDQSxTQUFTQSxHQUFJQSxTQUFTQTtRQUMzQkEsSUFBSUEsQ0FBQ0EsR0FBR0EsR0FBVUEsR0FBR0E7UUFDckJBLElBQUlBLENBQUNBLElBQUlBLEdBQVNBLElBQUlBO0lBQ3ZCQSxDQUFDQTtJQUNGRCxnQkFBQ0E7QUFBREEsQ0FBQ0EsSUFBQSIsImZpbGUiOiJBcHBIYXJuZXNzLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yb2JiYXRlbWFuL1dlYnN0b3JtUHJvamVjdHMvYXdheWpzLWNvcmUvIiwic291cmNlc0NvbnRlbnQiOlsiLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFwcGxpY2F0aW9uIEhhcm5lc3NcblxuY2xhc3MgQXBwSGFybmVzc1xue1xuXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0cHJpdmF0ZSB0ZXN0cyAgICAgICAgICAgOiBBcnJheTxUZXN0RGF0YT4gPSBuZXcgQXJyYXk8VGVzdERhdGE+KCk7XG5cdHByaXZhdGUgZHJvcERvd24gICAgICAgIDogSFRNTFNlbGVjdEVsZW1lbnQ7XG5cdHByaXZhdGUgcHJldmlvdXNCdG4gICAgIDogSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cdHByaXZhdGUgbmV4dEJ0biAgICAgICAgIDogSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cdHByaXZhdGUgc291cmNlQnRuICAgICAgIDogSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cdHByaXZhdGUgdGVzdElmcmFtZSAgICAgIDogSFRNTElGcmFtZUVsZW1lbnQ7XG5cdHByaXZhdGUgc3JjSWZyYW1lICAgICAgIDogSFRNTElGcmFtZUVsZW1lbnQ7XG5cdHByaXZhdGUgY291bnRlciAgICAgICAgIDogbnVtYmVyID0gMDtcblx0cHJpdmF0ZSBzb3VyY2VWaXNpYmxlICAgOiBib29sZWFuID0gZmFsc2U7XG5cdHByaXZhdGUgbG9hZERlZmF1bHQgICAgIDogYm9vbGVhbiA9IHRydWU7XG5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblxuXHRcdHRoaXMuaW5pdEZyYW1lU2V0KCk7XG5cdFx0dGhpcy5pbml0SW50ZXJmYWNlKCk7XG5cblxuXHRcdHRoaXMucHJldmlvdXNCdG4ub25jbGljayAgID0gKCkgPT4gdGhpcy5uYWdpZ2F0ZUJ5KCAtMSApO1xuXHRcdHRoaXMubmV4dEJ0bi5vbmNsaWNrICAgICAgID0gKCkgPT4gdGhpcy5uYWdpZ2F0ZUJ5KCAxICk7XG5cdFx0dGhpcy5zb3VyY2VCdG4ub25jbGljayAgICAgPSAoKSA9PiB0aGlzLnRvZ2dsZVNvdXJjZSgpO1xuXHRcdHRoaXMuZHJvcERvd24ub25jaGFuZ2UgICAgICA9ICggZSApID0+IHRoaXMuZHJvcERvd25DaGFuZ2UoIGUgKTtcblxuXHR9XG5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHQvKipcblx0ICpcblx0ICogTG9hZCBhIHRlc3Rcblx0ICpcblx0ICogQHBhcmFtIGNsYXNzUGF0aCAtIE1vZHVsZSBhbmQgQ2xhc3MgcGF0aCBvZiB0ZXN0XG5cdCAqIEBwYXJhbSBqcyBQYXRoIHRvIEphdmFTY3JpcHQgZmlsZVxuXHQgKiBAcGFyYW0gdHMgUGF0aCB0byBUeXBlc2NyaXB0IGZpbGUgKCBub3QgeWV0IHVzZWQgLSByZXNlcnZlZCBmb3IgZnV0dXJlIHNob3cgc291cmNlIClcblx0ICovXG5cdHB1YmxpYyBsb2FkKCBjbGFzc1BhdGggOiBzdHJpbmcgLCBqcyA6IHN0cmluZyAsIHRzIDogc3RyaW5nICkgOiB2b2lkXG5cdHtcblxuXHRcdHRoaXMubG9hZEZyb21VUkwoKTtcblxuXHRcdGlmICggdGhpcy5sb2FkRGVmYXVsdCApXG5cdFx0e1xuXHRcdFx0d2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKGpzLCBqcywgJz90ZXN0PScgKyBqcyk7XG5cdFx0XHR0aGlzLnRlc3RJZnJhbWUuc3JjID0gJ2ZyYW1lLmh0bWw/bmFtZT0nICsgY2xhc3NQYXRoICsgJyZqcz0nICsganM7XG5cdFx0XHR0aGlzLnNyY0lmcmFtZS5zcmMgPSBcImRhdGE6dGV4dC9odG1sO2NoYXJzZXQ9dXRmLTgsXCIgKyB0aGlzLmNyZWF0ZVNvdXJjZVZpZXdIVE1MKCB0cyApO1xuXG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqXG5cdCAqIEFkZCBhIHRlc3QgdG8gdGhlIEFwcEhhcm5lc3Ncblx0ICpcblx0ICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0ZXN0XG5cdCAqIEBwYXJhbSBjbGFzc1BhdGggLSBNb2R1bGUgYW5kIENsYXNzIHBhdGggb2YgdGVzdFxuXHQgKiBAcGFyYW0ganMgUGF0aCB0byBKYXZhU2NyaXB0IGZpbGVcblx0ICogQHBhcmFtIHRzIFBhdGggdG8gVHlwZXNjcmlwdCBmaWxlICggbm90IHlldCB1c2VkIC0gcmVzZXJ2ZWQgZm9yIGZ1dHVyZSBzaG93IHNvdXJjZSApXG5cdCAqL1xuXHRwdWJsaWMgYWRkVGVzdCggbmFtZSA6IHN0cmluZyAsIGNsYXNzcGF0aCA6IHN0cmluZyAsIGpzIDogc3RyaW5nICwgdHMgOiBzdHJpbmcgKSA6IHZvaWRcblx0e1xuXHRcdHRoaXMudGVzdHMucHVzaCAoIG5ldyBUZXN0RGF0YSggbmFtZSAsIGNsYXNzcGF0aCAsIGpzICwgdHMgKSApO1xuXHR9XG5cblx0LyoqXG5cdCAqXG5cdCAqIEFkZCBhIHNlcGFyYXRvciB0byB0aGUgbWVudVxuXHQgKlxuXHQgKiBAcGFyYW0gbmFtZVxuXHQgKi9cblx0cHVibGljIGFkZFNlcGVyYXRvciggbmFtZSA6IHN0cmluZyA9ICcnICkgOiB2b2lkXG5cdHtcblx0XHR0aGlzLnRlc3RzLnB1c2ggKCBuZXcgVGVzdERhdGEoICctLSAnICsgbmFtZSAsICcnICwgJycgLCAnJykgKTtcblx0fVxuXG5cdC8qKlxuXHQgKlxuXHQgKiBTdGFydCB0aGUgYXBwbGljYXRpb24gaGFybmVzc1xuXHQgKlxuXHQgKi9cblx0cHVibGljIHN0YXJ0KCBzbGlkZXNob3dNb2RlIDogYm9vbGVhbiA9IGZhbHNlICkgOiB2b2lkXG5cdHtcblx0XHRmb3IgKCB2YXIgYyA6IG51bWJlciA9IDAgOyBjIDwgdGhpcy50ZXN0cy5sZW5ndGggOyBjICsrICApXG5cdFx0e1xuXHRcdFx0dmFyIG9wdGlvbiA6IEhUTUxPcHRpb25FbGVtZW50ID0gPEhUTUxPcHRpb25FbGVtZW50PiBuZXcgT3B0aW9uKCB0aGlzLnRlc3RzW2NdLm5hbWUgLCBTdHJpbmcoIGMgKSApO1xuXHRcdFx0dGhpcy5kcm9wRG93bi5hZGQoIG9wdGlvbiApO1xuXHRcdH1cblxuXHRcdGlmICggc2xpZGVzaG93TW9kZSApXG5cdFx0e1xuXG5cdFx0XHRzZXRJbnRlcnZhbCggKCkgPT4gdGhpcy5uYWdpZ2F0ZUJ5KCAxICkgLCAxNTAwMCk7XG5cdFx0fVxuXHR9XG5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRwcml2YXRlIGxvYWRGcm9tVVJMKCkgOiB2b2lkXG5cdHtcblx0XHR2YXIgcXVlcnlQYXJhbXMgOiBhbnkgPSBVdGlscy5nZXRRdWVyeVBhcmFtcyggZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoICk7XG5cblx0XHRpZiAoIHF1ZXJ5UGFyYW1zLnRlc3QgIT0gbnVsbCApXG5cdFx0e1xuXHRcdFx0dmFyIGwgOiBudW1iZXIgPSAgdGhpcy50ZXN0cy5sZW5ndGg7XG5cblx0XHRcdGZvciAoIHZhciBjIDogbnVtYmVyID0gMCA7IGMgPCBsIDsgYyArKyApXG5cdFx0XHR7XG5cdFx0XHRcdGlmICggdGhpcy50ZXN0c1tjXS5qcyA9PSBxdWVyeVBhcmFtcy50ZXN0IClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nICggJz09PT09PT4+Pj4gTE9BRCBURVNUJyk7XG5cblx0XHRcdFx0XHR0aGlzLm5hdmlnYXRlVG9TZWN0aW9uKCB0aGlzLnRlc3RzW2NdICk7XG5cdFx0XHRcdFx0dGhpcy5sb2FkRGVmYXVsdCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdC8qKlxuXHQgKlxuXHQgKi9cblx0cHJpdmF0ZSBpbml0SW50ZXJmYWNlKCkgOiB2b2lkXG5cdHtcblxuXHRcdHZhciB0ZXN0U2VsZWN0b3IgOiBIVE1MRGl2RWxlbWVudCAgID0gPEhUTUxEaXZFbGVtZW50PiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xuXHRcdFx0dGVzdFNlbGVjdG9yLnN0eWxlLmNzc0Zsb2F0ICAgICA9ICdub25lJztcblx0XHRcdHRlc3RTZWxlY3Rvci5zdHlsZS5wb3NpdGlvbiAgICAgPSAnYWJzb2x1dGUnO1xuXHRcdFx0dGVzdFNlbGVjdG9yLnN0eWxlLmJvdHRvbSAgICAgICA9ICcxNXB4Jztcblx0XHRcdHRlc3RTZWxlY3Rvci5zdHlsZS53aWR0aCAgICAgICAgPSAnNjAwcHgnO1xuXHRcdFx0dGVzdFNlbGVjdG9yLnN0eWxlLmxlZnQgICAgICAgICA9ICc1MCUnO1xuXHRcdFx0dGVzdFNlbGVjdG9yLnN0eWxlLm1hcmdpbkxlZnQgICA9ICctMzAwcHgnXG5cdFx0XHR0ZXN0U2VsZWN0b3Iuc3R5bGUudGV4dEFsaWduICAgID0gJ2NlbnRlcic7XG5cblxuXHRcdHRoaXMuZHJvcERvd24gICAgICAgICAgICAgICAgICAgICAgID0gPEhUTUxTZWxlY3RFbGVtZW50PiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnc2VsZWN0JyApO1xuXHRcdHRoaXMuZHJvcERvd24ubmFtZSAgICAgICAgICAgICAgICAgID0gXCJzZWxlY3RUZXN0RHJvcERvd25cIlxuXHRcdHRoaXMuZHJvcERvd24uaWQgICAgICAgICAgICAgICAgICAgID0gXCJzZWxlY3RUZXN0XCJcblxuXHRcdHRoaXMuc291cmNlQnRuICAgICAgICAgICAgICAgICAgICAgID0gPEhUTUxCdXR0b25FbGVtZW50PiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnYnV0dG9uJyApO1xuXHRcdHRoaXMuc291cmNlQnRuLmlubmVySFRNTCAgICAgICAgICAgID0gJ1Nob3cgU291cmNlJztcblx0XHR0aGlzLnNvdXJjZUJ0bi5pZCAgICAgICAgICAgICAgICAgICA9ICdwcmV2aW91cyc7XG5cblx0XHR0aGlzLnByZXZpb3VzQnRuICAgICAgICAgICAgICAgICAgICA9IDxIVE1MQnV0dG9uRWxlbWVudD4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2J1dHRvbicgKTtcblx0XHR0aGlzLnByZXZpb3VzQnRuLmlubmVySFRNTCAgICAgICAgICA9ICc8PCc7XG5cdFx0dGhpcy5wcmV2aW91c0J0bi5pZCAgICAgICAgICAgICAgICAgPSAncHJldmlvdXMnO1xuXG5cdFx0dGhpcy5uZXh0QnRuICAgICAgICAgICAgICAgICAgICAgICAgPSA8SFRNTEJ1dHRvbkVsZW1lbnQ+IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdidXR0b24nICk7XG5cdFx0dGhpcy5uZXh0QnRuLmlubmVySFRNTCAgICAgICAgICAgICAgPSAnPj4nO1xuXHRcdHRoaXMubmV4dEJ0bi5pZCAgICAgICAgICAgICAgICAgICAgID0gJ25leHQnO1xuXG5cblx0XHR0ZXN0U2VsZWN0b3IuYXBwZW5kQ2hpbGQoIHRoaXMuc291cmNlQnRuICk7XG5cdFx0dGVzdFNlbGVjdG9yLmFwcGVuZENoaWxkKCB0aGlzLnByZXZpb3VzQnRuICk7XG5cdFx0dGVzdFNlbGVjdG9yLmFwcGVuZENoaWxkKCB0aGlzLmRyb3BEb3duICk7XG5cdFx0dGVzdFNlbGVjdG9yLmFwcGVuZENoaWxkKCB0aGlzLm5leHRCdG4gKTtcblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCB0ZXN0U2VsZWN0b3IgKTtcblx0fVxuXHQvKipcblx0ICpcblx0ICovXG5cdHByaXZhdGUgaW5pdEZyYW1lU2V0KCkgOiB2b2lkXG5cdHtcblxuXHRcdHZhciBpZnJhbWVDb250YWluZXIgOiBIVE1MRGl2RWxlbWVudCAgICA9IDxIVE1MRGl2RWxlbWVudD4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcblx0XHRcdGlmcmFtZUNvbnRhaW5lci5zdHlsZS53aWR0aCAgICAgICAgID0gJzEwMCUnO1xuXHRcdFx0aWZyYW1lQ29udGFpbmVyLnN0eWxlLmhlaWdodCAgICAgICAgPSAnMTAwJSc7XG5cblx0XHR0aGlzLnRlc3RJZnJhbWUgICAgICAgICAgICAgICAgICAgICAgPSA8SFRNTElGcmFtZUVsZW1lbnQ+IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdpZnJhbWUnICk7XG5cdFx0dGhpcy50ZXN0SWZyYW1lLmlkICAgICAgICAgICAgICAgICAgID0gJ3Rlc3RDb250YWluZXInO1xuXHRcdHRoaXMudGVzdElmcmFtZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzllOWU5ZSc7XG5cdFx0dGhpcy50ZXN0SWZyYW1lLnN0eWxlLmNzc0Zsb2F0ICAgICAgID0gJ25vbmUnO1xuXHRcdHRoaXMudGVzdElmcmFtZS5zdHlsZS5wb3NpdGlvbiAgICAgICA9ICdhYnNvbHV0ZSc7XG5cdFx0dGhpcy50ZXN0SWZyYW1lLnN0eWxlLnRvcCAgICAgICAgICAgID0gJzBweCc7XG5cdFx0dGhpcy50ZXN0SWZyYW1lLnN0eWxlLmxlZnQgICAgICAgICAgID0gJzBweCc7XG5cdFx0dGhpcy50ZXN0SWZyYW1lLnN0eWxlLmJvcmRlciAgICAgICAgID0gJzBweCc7XG5cdFx0dGhpcy50ZXN0SWZyYW1lLnN0eWxlLndpZHRoICAgICAgICAgID0gJzEwMCUnO1xuXHRcdHRoaXMudGVzdElmcmFtZS5zdHlsZS5oZWlnaHQgICAgICAgICA9ICcxMDAlJztcblx0XHQvL2JvdHRvbTogMTIwcHg7XG5cblx0XHR0aGlzLnNyY0lmcmFtZSAgICAgICAgICAgICAgICAgICAgICAgICAgPSA8SFRNTElGcmFtZUVsZW1lbnQ+IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdpZnJhbWUnICk7XG5cdFx0dGhpcy5zcmNJZnJhbWUuaWQgICAgICAgICAgICAgICAgICAgICAgID0gJ3Rlc3RTb3VyY2VDb250YWluZXInO1xuXHRcdHRoaXMuc3JjSWZyYW1lLnN0eWxlLmJhY2tncm91bmRDb2xvciAgICA9ICcjOWU5ZTllJztcblx0XHR0aGlzLnNyY0lmcmFtZS5zdHlsZS5jc3NGbG9hdCAgICAgICAgICAgPSAnbm9uZSc7XG5cdFx0dGhpcy5zcmNJZnJhbWUuc3R5bGUucG9zaXRpb24gICAgICAgICAgID0gJ2Fic29sdXRlJztcblx0XHR0aGlzLnNyY0lmcmFtZS5zdHlsZS5yaWdodCAgICAgICAgICAgICAgPSAnMHB4Jztcblx0XHR0aGlzLnNyY0lmcmFtZS5zdHlsZS50b3AgICAgICAgICAgICAgICAgPSAnMHB4Jztcblx0XHR0aGlzLnNyY0lmcmFtZS5zdHlsZS5ib3R0b20gICAgICAgICAgICAgPSAnMHB4Jztcblx0XHR0aGlzLnNyY0lmcmFtZS5zdHlsZS5ib3JkZXIgICAgICAgICAgICAgPSAnMHB4Jztcblx0XHR0aGlzLnNyY0lmcmFtZS5zdHlsZS53aWR0aCAgICAgICAgICAgICAgPSAnMCUnO1xuXHRcdHRoaXMuc3JjSWZyYW1lLnN0eWxlLmhlaWdodCAgICAgICAgICAgICA9ICcxMDAlJztcblxuXHRcdGlmcmFtZUNvbnRhaW5lci5hcHBlbmRDaGlsZCggdGhpcy50ZXN0SWZyYW1lICk7XG5cdFx0aWZyYW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKCB0aGlzLnNyY0lmcmFtZSApO1xuXG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggaWZyYW1lQ29udGFpbmVyICk7XG5cblx0fVxuXG5cdC8qKlxuXHQgKlxuXHQgKiBTZWxlY3RuZXh0IC8gcHJldmlvdXMgbWVudSBpdGVtXG5cdCAqXG5cdCAqIEBwYXJhbSBkaXJlY3Rpb25cblx0ICovXG5cdHByaXZhdGUgbmFnaWdhdGVCeSggZGlyZWN0aW9uIDogbnVtYmVyID0gMSApIDogdm9pZFxuXHR7XG5cblx0XHR2YXIgbCA6IG51bWJlciAgPSB0aGlzLnRlc3RzLmxlbmd0aDtcblx0XHR2YXIgbmV4dENvdW50ZXIgPSB0aGlzLmNvdW50ZXIgKyBkaXJlY3Rpb247XG5cblx0XHRpZiAoIG5leHRDb3VudGVyIDwgMCApXG5cdFx0e1xuXHRcdFx0bmV4dENvdW50ZXIgPSB0aGlzLnRlc3RzLmxlbmd0aCAtIDE7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCBuZXh0Q291bnRlciA+IHRoaXMudGVzdHMubGVuZ3RoIC0gMSApXG5cdFx0e1xuXHRcdFx0bmV4dENvdW50ZXIgPSAwO1xuXHRcdH1cblxuXHRcdHZhciB0ZXN0RGF0YSA6IFRlc3REYXRhID0gdGhpcy50ZXN0c1tuZXh0Q291bnRlcl07XG5cblx0XHRpZiAoIHRlc3REYXRhLm5hbWUuaW5kZXhPZiAoJy0tJykgIT0gLTEgKSAvLyBza2lwIHNlY3Rpb24gaGVhZGVyc1xuXHRcdHtcblx0XHRcdHRoaXMuY291bnRlciA9IG5leHRDb3VudGVyO1xuXHRcdFx0dGhpcy5uYWdpZ2F0ZUJ5KCBkaXJlY3Rpb24gKTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdHRoaXMubmF2aWdhdGVUb1NlY3Rpb24oIHRlc3REYXRhICk7XG5cdFx0XHR0aGlzLmRyb3BEb3duLnNlbGVjdGVkSW5kZXggPSBuZXh0Q291bnRlcjtcblx0XHRcdHRoaXMuY291bnRlciA9IG5leHRDb3VudGVyO1xuXHRcdH1cblxuXHR9XG5cblx0LyoqXG5cdCAqXG5cdCAqIE5hdmlnYXRlIHRvIGEgc2VjdGlvblxuXHQgKlxuXHQgKiBAcGFyYW0gdGVzdERhdGFcblx0ICovXG5cdHByaXZhdGUgbmF2aWdhdGVUb1NlY3Rpb24gKCB0ZXN0RGF0YSA6IFRlc3REYXRhICkgOiB2b2lkXG5cdHtcblx0XHR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUodGVzdERhdGEuanMsIHRlc3REYXRhLmpzLCAnP3Rlc3Q9JyArIHRlc3REYXRhLmpzKTtcblx0XHR0aGlzLnNyY0lmcmFtZS5zcmMgPSBcImRhdGE6dGV4dC9odG1sO2NoYXJzZXQ9dXRmLTgsXCIgKyB0aGlzLmNyZWF0ZVNvdXJjZVZpZXdIVE1MKCB0ZXN0RGF0YS5zcmMgKTtcblx0XHR0aGlzLnRlc3RJZnJhbWUuc3JjID0gJ2ZyYW1lLmh0bWw/bmFtZT0nICsgdGVzdERhdGEuY2xhc3NwYXRoICsgJyZqcz0nICsgdGVzdERhdGEuanM7XG5cdH1cblxuXHRwcml2YXRlIHRvZ2dsZVNvdXJjZSgpIDogdm9pZFxuXHR7XG5cblx0XHRpZiAoIHRoaXMuc291cmNlVmlzaWJsZSApXG5cdFx0e1xuXHRcdFx0dGhpcy50ZXN0SWZyYW1lLnN0eWxlLndpZHRoICAgICAgICAgPSAnMTAwJSc7XG5cdFx0XHR0aGlzLnNyY0lmcmFtZS5zdHlsZS53aWR0aCAgICAgICAgICA9ICcwJSc7XG5cdFx0XHR0aGlzLnNvdXJjZUJ0bi5pbm5lckhUTUwgICAgICAgICAgICA9ICdTaG93IFNvdXJjZSc7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHR0aGlzLnRlc3RJZnJhbWUuc3R5bGUud2lkdGggICAgICAgICA9ICcyMCUnO1xuXHRcdFx0dGhpcy5zcmNJZnJhbWUuc3R5bGUud2lkdGggICAgICAgICAgPSAnODAlJztcblx0XHRcdHRoaXMuc291cmNlQnRuLmlubmVySFRNTCAgICAgICAgICAgID0gJ0hpZGUgU291cmNlJztcblx0XHR9XG5cblx0XHR0aGlzLnNvdXJjZVZpc2libGUgPSAhdGhpcy5zb3VyY2VWaXNpYmxlO1xuXG5cdH1cblxuXHRwcml2YXRlIGNyZWF0ZVNvdXJjZVZpZXdIVE1MICggdXJsIDogc3RyaW5nICkgOiBzdHJpbmdcblx0e1xuXG5cdFx0dmFyIGh0bWwgOiBzdHJpbmcgPSAnJztcblxuXHRcdGh0bWwgKz0gJzwhRE9DVFlQRSBodG1sPic7XG5cdFx0aHRtbCArPSAnPGh0bWw+Jztcblx0XHRodG1sICs9ICcgICA8aGVhZD4nO1xuXHRcdGh0bWwgKz0gJyAgICAgICA8dGl0bGU+PC90aXRsZT4nO1xuXHRcdGh0bWwgKz0gJyAgICAgICA8c3R5bGU+Jztcblx0XHRodG1sICs9ICcgICAgICAgICAgIGh0bWwnO1xuXHRcdGh0bWwgKz0gJyAgICAgICAgICAgeyc7XG5cdFx0aHRtbCArPSAnICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOyc7XG5cdFx0aHRtbCArPSAnICAgICAgICAgICAgICAgYm9yZGVyOiAwcHg7Jztcblx0XHRodG1sICs9ICcgICAgICAgICAgICAgICBwYWRkaW5nOiAwcHg7Jztcblx0XHRodG1sICs9ICcgICAgICAgICAgfSc7XG5cdFx0aHRtbCArPSAnICAgICAgIDwvc3R5bGU+Jztcblx0XHRodG1sICs9ICcgICA8c2NyaXB0IHNyYz1cImh0dHA6Ly9naXN0LWl0LmFwcHNwb3QuY29tL2dpdGh1Yi9hd2F5anMvYXdheWpzLWNvcmUtdHMvdHJlZS9tYXN0ZXIvdGVzdHMvJyArIHVybCArICc/Zm9vdGVyPW5vXCI+PC9zY3JpcHQ+Jztcblx0XHRodG1sICs9ICc8L2hlYWQ+Jztcblx0XHRodG1sICs9ICc8Ym9keT4nO1xuXHRcdGh0bWwgKz0gJzwvYm9keT4nO1xuXHRcdGh0bWwgKz0gJzwvaHRtbD4nO1xuXG5cdFx0cmV0dXJuIGh0bWw7XG5cdH1cblxuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQvLyBVdGlsc1xuXG5cdC8qKlxuXHQgKlxuXHQgKiBVdGlsIGZ1bmN0aW9uIC0gZ2V0IEVsZW1lbnQgYnkgSURcblx0ICpcblx0ICogQHBhcmFtIGlkXG5cdCAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cblx0ICovXG5cdHByaXZhdGUgZ2V0SWQoaWQgOiBzdHJpbmcgKSA6IEhUTUxFbGVtZW50XG5cdHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cdH1cblxuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQvLyBFdmVudHNcblxuXHQvKipcblx0ICpcblx0ICogRHJvcGJveCBldmVudCBoYW5kbGVyXG5cdCAqXG5cdCAqIEBwYXJhbSBlXG5cdCAqL1xuXHRwcml2YXRlIGRyb3BEb3duQ2hhbmdlKCBlICkgOiB2b2lkXG5cdHtcblx0XHR0aGlzLmRyb3BEb3duLm9wdGlvbnNbdGhpcy5kcm9wRG93bi5zZWxlY3RlZEluZGV4XS52YWx1ZVxuXHRcdHRoaXMuY291bnRlciA9IHRoaXMuZHJvcERvd24uc2VsZWN0ZWRJbmRleDtcblx0XHR2YXIgZGF0YUluZGV4IDogbnVtYmVyID0gcGFyc2VJbnQoIHRoaXMuZHJvcERvd24ub3B0aW9uc1t0aGlzLmRyb3BEb3duLnNlbGVjdGVkSW5kZXhdLnZhbHVlICkgO1xuXG5cdFx0aWYgKCAhIGlzTmFOKCBkYXRhSW5kZXggKSApXG5cdFx0e1xuXHRcdFx0dGhpcy5uYXZpZ2F0ZVRvU2VjdGlvbiggdGhpcy50ZXN0c1tkYXRhSW5kZXhdICk7XG5cdFx0fVxuXHR9XG5cbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFwcGxpY2F0aW9uIEZyYW1lXG5cbmNsYXNzIEFwcEZyYW1lXG57XG5cblx0cHJpdmF0ZSBjbGFzc1BhdGggICA6IHN0cmluZyA9ICcnO1xuXHRwcml2YXRlIGpzUGF0aCAgICAgIDogc3RyaW5nID0gJyc7XG5cblx0Y29uc3RydWN0b3IoIClcblx0e1xuXG5cdFx0dmFyIHF1ZXJ5UGFyYW1zIDogYW55ID0gVXRpbHMuZ2V0UXVlcnlQYXJhbXMoIGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCApO1xuXG5cdFx0aWYgKCBxdWVyeVBhcmFtcy5qcyAhPSB1bmRlZmluZWQgJiYgcXVlcnlQYXJhbXMubmFtZSAhPSB1bmRlZmluZWQgKVxuXHRcdHtcblxuXHRcdFx0dGhpcy5qc1BhdGggICAgID0gcXVlcnlQYXJhbXMuanM7XG5cdFx0XHR0aGlzLmNsYXNzUGF0aCAgPSBxdWVyeVBhcmFtcy5uYW1lO1xuXHRcdFx0dGhpcy5sb2FkSlMoIHRoaXMuanNQYXRoICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdC8qKlxuXHQgKlxuXHQgKiBMb2FkIGEgSmF2YVNjcmlwdCBmaWxlXG5cdCAqXG5cdCAqIEBwYXJhbSB1cmwgLSBVUkwgb2YgSmF2YVNjcmlwdCBmaWxlXG5cdCAqL1xuXHRwcml2YXRlIGxvYWRKUyh1cmwgOiBzdHJpbmcgKVxuXHR7XG5cblx0XHR2YXIgaGVhZCA6IEhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XG5cdFx0dmFyIHNjcmlwdCA6IEhUTUxTY3JpcHRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcblx0XHRzY3JpcHQudHlwZSAgICAgPSBcInRleHQvamF2YXNjcmlwdFwiO1xuXHRcdHNjcmlwdC5zcmMgICAgICA9IHVybDtcblx0XHRzY3JpcHQub25sb2FkICAgPSAoKSA9PiB0aGlzLmpzTG9hZGVkKCk7XG5cblx0XHRoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG5cdH1cblxuXHQvKipcblx0ICpcblx0ICogRXZlbnQgSGFuZGxlciBmb3IgbG9hZGVkIEphdmFTY3JpcHQgZmlsZXNcblx0ICpcblx0ICovXG5cdHByaXZhdGUganNMb2FkZWQoKVxuXHR7XG5cblx0XHR2YXIgY3JlYXRlUGF0aCA6IEFycmF5PHN0cmluZz4gPSB0aGlzLmNsYXNzUGF0aC5zcGxpdCgnLicpOyAvLyBTcGxpdCB0aGUgY2xhc3NwYXRoXG5cdFx0dmFyIG9iaiAgICAgICAgIDogYW55O1xuXG5cdFx0Zm9yICggdmFyIGMgOiBudW1iZXIgPSAwIDsgYyA8IGNyZWF0ZVBhdGgubGVuZ3RoIDsgYysrIClcblx0XHR7XG5cblx0XHRcdGlmICggb2JqID09IG51bGwgKVxuXHRcdFx0e1xuXHRcdFx0XHRvYmogPSB3aW5kb3dbY3JlYXRlUGF0aFtjXV07IC8vIHJlZmVyZW5jZSBiYXNlIG1vZHVsZSAoIHdpbGwgYmUgYSBjaGlsZCBvZiB0aGUgd2luZG93IClcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0b2JqID0gb2JqW2NyZWF0ZVBhdGhbY11dOyAvLyByZWZlcmVuY2Ugc3ViIG1vZHVsZSAvIENsYXNzXG5cdFx0XHR9XG5cblxuXHRcdH1cblxuXHRcdGlmICggb2JqICE9IG51bGwgKVxuXHRcdHtcblx0XHRcdG5ldyBvYmooKTsgLy8gaWYgQ2xhc3MgaGFzIGJlZW4gZm91bmQgLSBzdGFydCB0aGUgdGVzdFxuXHRcdH1cblxuXHR9XG5cblxuXG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDb21tb24gVXRpbGl0aWVzXG5cbmNsYXNzIFV0aWxzXG57XG5cdC8qKlxuXHQgKlxuXHQgKiBVdGlsaXR5IGZ1bmN0aW9uIC0gUGFyc2UgYSBRdWVyeSBmb3JtYXR0ZWQgc3RyaW5nXG5cdCAqXG5cdCAqIEBwYXJhbSBxc1xuXHQgKiBAcmV0dXJucyB7e319XG5cdCAqL1xuXHRzdGF0aWMgZ2V0UXVlcnlQYXJhbXMoIHFzICkgOiBPYmplY3Qge1xuXG5cdFx0cXMgPSBxcy5zcGxpdChcIitcIikuam9pbihcIiBcIik7XG5cblx0XHR2YXIgcGFyYW1zID0ge30sIHRva2Vucyxcblx0XHRcdHJlID0gL1s/Jl0/KFtePV0rKT0oW14mXSopL2c7XG5cblx0XHR3aGlsZSAodG9rZW5zID0gcmUuZXhlYyhxcykpIHtcblx0XHRcdHBhcmFtc1tkZWNvZGVVUklDb21wb25lbnQodG9rZW5zWzFdKV0gPSBkZWNvZGVVUklDb21wb25lbnQodG9rZW5zWzJdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcGFyYW1zO1xuXHR9XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBEYXRhXG5cbmNsYXNzIFRlc3REYXRhXG57XG5cdHB1YmxpYyBqcyAgICAgICAgICAgOiBzdHJpbmc7XG5cdHB1YmxpYyBjbGFzc3BhdGggICAgOiBzdHJpbmc7XG5cdHB1YmxpYyBzcmMgICAgICAgICAgOiBzdHJpbmc7XG5cdHB1YmxpYyBuYW1lICAgICAgICAgOiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3IoIG5hbWUgOiBzdHJpbmcgLCBjbGFzc3BhdGggOiBzdHJpbmcgLCBqcyA6IHN0cmluZyAsIHNyYyA6IHN0cmluZyApXG5cdHtcblx0XHR0aGlzLmpzICAgICAgICAgPSBqcztcblx0XHR0aGlzLmNsYXNzcGF0aCAgPSBjbGFzc3BhdGg7XG5cdFx0dGhpcy5zcmMgICAgICAgID0gc3JjO1xuXHRcdHRoaXMubmFtZSAgICAgICA9IG5hbWU7XG5cdH1cbn0iXX0=